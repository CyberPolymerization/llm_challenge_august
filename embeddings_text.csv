 
 
 1 of 37  
 
 
 
 
 
 
GENERAL DESCRIPTION  
The DS28E04-100 is a 4096-bit, 1 -Wire® EEPROM 
chip with seven address inputsThe address inputs 
are directly mapped into the 1- Wire 64-bit Device ID 
Number to easily enable the host system to identify 
the physical loca tion or functional association of the 
DS28E04-100 in a multidevice 1- Wire network en-
vironmentThe 4096-bit  EEPROM array is configured 
as 16 pages of 32 bytes with a 32 byte scratchpad to 
perform write operationsEEPROM memory pages can be individually w rite protected or put in EPROM -
emulation mode, where bits can only be changed from a 1 to a 0 stateIn addition to the memory, the DS28E04-100 has two general -purpose I/O ports that 
can be used for input or to generate level and/or 
pulse out putsActivit y registers also capture port 
activity for state change monitoringThe DS28E04-
100 commu nicates over the single-contact 1- Wire 
busThe communication follows the standard Maxim  
1-Wire protocol 
 
APPLICATIONS  
Autoconfiguration of Modular Systems such as  
Central -Office Switches, Cellular Base Stations, 
Access Products, Optical Network Units, and 
PBXs 
Accessory/PCB Identification  
 
TYPICAL OPERATING CIRCUIT 
PX.Y
µCRPUPVCC
IOVCC
POL
P1
P0
GNDA0A6
DS28E04 #1IOVCC
POL
P1
P0
GNDA0A6
DS28E04 #7 RST1 RST0LEDFEATURES  
 4096 bits of EEPROM Memory Partitioned into 
16 Pages of 256 Bits  
 Seven Address Inputs for Physical Location 
Configuration 
 Two General -Purpose PIO Pins with Pulse-
Generation Capability  
 Individual Memory Pages can be Permanently 
Write -Protected or put in OTP EPROM -
Emulation Mode (“Write to 0”)  
 Commun icates to Host with a Single Digital 
Signal at 15.3kbps or 111kbps Using 1- Wire 
Protocol 
 Parasitic or V CC Powered  
 Conditional Search Based on PIO Status or PIO Activity  
 Switchpoint Hysteresis and Filtering to Optimize Performance in the Presence of Noise 
 Reads and Writes Over a Wide 2.8V to 5.25V Voltage Range from -40°C to +85°C  
 16-Pin, 150- mil SO Package 
 
ORDERING INFORMATION  
PART  TEMP RANGE  PIN-PACKAGE  
DS28E04S -100+ -40°C to +85°C  16 SO  
DS28E04S -100+T -40°C to +85°C  16 SO   
(2.5k pieces)  
+ Indicates lead(Pb) -free/RoHS -compliant package 
T = Tape and reel 
 
PIN CONFIGURATION  
 
SO (150 mils)  
 
Commands, Registers, and Modes are capitalized for 
clarity 
1-Wire is a r egistered trademark of Maxim Integrated Products, Inc DS28E04 -100  
4096-Bit Addressable 1- Wire EEPROM with PIO  
 19-6134 ; Rev 12/11 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
 2 of 37 ABSOLUTE MAXIMUM RATINGS  
All Pins: Voltage to GND  -0.5V, +6V  
All Pins: Sink Current  20mA  
Operating T emperature Range  -40°C to +85°C  
Junction Temperature  +150°C  
Storage Temperature Range  -55°C to + 125°C 
Lead Temperature (soldering , 10s) +300°C  
Soldering Temperature  (reflow)  +260°C  
Stresses beyond those listed under “Abs olute Maximum Ratings” may cause permanent damage to the deviceThese are stress ratings only, 
and functional operation of the device at these or any other conditions beyond those indicated in the operational sections of  the specifications is 
not implied Exposure to the absolute maximum rating conditions for extended periods may affect device reliability 
ELECTRICAL CHARACTERISTICS  
(VPUP = 2.8V to 5.25V, V CC = V PUP, not connected or grounded, T A = -40°C to +85°C.)  
PARAMETER  SYMBOL  CONDITIONS  MIN TYP MAX  UNITS  
Ground Current  IGND (Notes 1, 2, 3)    20 mA 
Supply Current  ICC VCC = V PUP (Note 3)    1 mA 
Standby Supply Current  ICCS  Device idle; A0 to A6 not connected    11 µA 
PINS A0 TO A6  
Input Low Voltage  VILA (Note 1)    0.30 V 
Input High  Voltage  VIHA VX = max(V PUP, VCC) (Note 1)  VX - 
0.3V   V 
Input Load Current  ILA Pin at GND (Note 4)  -1.1   µA 
POL PIN  
Input Low Voltage  VILPOL  (Note 1)    0.30 V 
Input High Voltage  VIHPOL  VX = max(V PUP, VCC) (Note 1)  VX - 
0.3V   V 
Leakage Current  ILKPOL  Pin at 5.25V    1 µA 
PIO PINS  
Input Low Voltage  VILP (Note 1)    0.30 V 
Input High Voltage  VIHP VX = max(V PUP, VCC) (Note 1)  VX - 
0.3V   V 
Output Low Voltage at 
4mA  VOLP (Note 5)    0.4 V 
Leakage Current  ILKP Pin at 5.25V    1 µA 
Minimum Sensed P IO 
Pulse  tPWMIN  (Note 6)  1  10 µs 
Output Pulse Duration  tPULSE  (Note 7)  250  1000  ms 
IO PIN GENERAL DATA      
1-Wire Pullup Resistance  RPUP (Notes 1, 8)  0.3  2.2 kΩ 
Input Capacitance  CIO (Notes 3, 9)   100 800 pF 
Input Load Current  IL IO pin at V PUP, A0 to A6 not connected , 
VCC at GND  0.05  11.00  
µA IO pin at V PUP, A0 to A6 not connected , 
VCC at V PUP  0.05  8.25 
High-to-Low Switching 
Threshold  VTL (Notes 3, 10, 11)  0.46  4.40 V 
Input Low Voltage  VIL (Notes 1, 12)    0.3 V 
Input Hi gh Voltage  VIH VX = max(V PUP, VCC) (Note 1)  VX - 
0.3V   V 
Low-to-High Switching 
Threshold  VTH (Notes 3, 10, 13)  1.0  4.9 V 
Switching Hysteresis  VHY (Notes 3, 10, 14)  0.21  1.70 V 
Output Low Voltage  VOL At 4mA Current Load (Note 5)    0.4 V 
Recovery Tim e  
(Notes 1, 15)  tREC Standard speed, R PUP = 2.2kΩ 5   
µs Overdrive speed, R PUP = 2.2kΩ 2   
Overdrive speed, directly prior to reset 
pulse; R PUP = 2.2kΩ 5   
Rising -Edge Hold -Off Time  
(Note 3)  tREH Standard speed (Note 16)  0.5  5.0 µs Overdrive speed  Not applicable (0)  
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
3 of 37 PARAMETER  SYMBOL  CONDITIONS  MIN TYP MAX  UNITS  
Time Slot Duration  
(Note 1)  tSLOT  Standard speed  65   µs Overdrive speed  9   
IO PIN, 1 -Wire  RESET, PRESENCE DETE CT CYCLE  
Reset Low Time (Note 1)  tRSTL Standard speed, V PUP > 4.5V  480  640 
µs Standard speed (Note 17)  504  640 
Overdrive speed, V PUP > 4.5V  48  80 
Overdrive speed (Note 17)  53  80 
Presence -Detect High 
Time  tPDH Standard speed  15  60 µs Overdrive speed (Note 17)  2  7 
Presence- Detect Fall Time  
(Notes 3, 18)  tFPD Standard speed, V PUP > 4.5V  1.10  3.75 
µs Standard speed  1.1  7.0 
Overdrive speed  0  1.1 
Presence- Detect Low 
Time  tPDL Standard speed  60  240 
µs Overdrive speed, V PUP > 4.5V  8  24 
Overdrive speed (Note 17)  8  26 
Presence- Detect Sample 
Time (Note 1)  tMSP Standard speed, V PUP > 4.5V  64  75 
µs Standard speed  67  75 
Overdrive speed  8.1  10 
IO PIN, 1 -Wire  WRITE  
Write -0 Low Time  
(Note s 1, 19) tW0L Standard speed  60  120 µs Overdrive speed (Note 17)  7  16 
Write -1 Low Time  
(Notes 1, 19)  tW1L Standard speed  5  15 µs Overdrive speed  1  2 
IO PIN, 1 -Wire  READ  
Read Low Time  
(Notes 1, 20)  tRL Standard speed  5  15 - δ µs Overdrive speed  1  2 - δ 
Read Sample Time  
(Notes 1, 20)  tMSR  Standard speed  tRL + δ  15 µs Overdrive speed  tRL + δ  2 
EEPROM  
Programming Current  IPROG  (Note 21)    1 mA 
Programming Time  tPROG  (Note 22)    10 ms 
Write/Erase Cycles 
(Endurance)  (Note 23)  NCY At +25°C  200k     At +85°C (worst case)  50k   
Data Retention   
(Notes 23, 24)  tDR At +85°C (worst case)  40   years  
 
 
Note 1: System requirement 
Note 2:  Maximum instantaneous pulldown current through all pins combined 
Note 3:  Guaranteed by design, simulation onlyNot production tested 
Note 4:  This load current is caused by the internal weak pullup, which asserts  a logical 1 to address pins that are not connectedThe 
logical state of the address pins must not change during the execution of ROM function commands during those time slots in 
which these bits are relevant 
Note 5:  The I -V characteristic is linear for  voltages less than 1V 
Note 6:  Width of the narrowest pulse that trips the activity latchBack to back pulses that are active for < t PWMIN  (max) and that have an 
intermediate inactive time  < t PWMIN  (max) are not guaranteed to be filtered 
Note 7:  The Pulse function requires that V CC power is available; otherwise the command will not be executed 
Note 8:  Maximum allowable pullup resistance is a function of the number of 1 -Wire devices in the system and 1 -Wire recovery timesThe 
specified value here applies to s
ystems with only one device and with the minimum 1 -Wire recovery timesFor more heavily 
loaded systems, an active pullup such as that found in the DS2482 -x00, DS2480B, or DS2490 may be required 
Note 9:  Capacitance on the data pin could be 8 00pF when V PUP is first appliedIf a 2.2k Ω resistor is used to pull up the data line, 2.5µs 
after V PUP has been applied the parasite capacitance will not affect normal communications 
Note 10:  VTL, VTH, and V HY  are a function of the internal supply volt age, which in parasite power mode, is a function of V PUP and the 1 -Wire 
recovery timesThe V TH and V TL maximum specifications are valid at V CC = V PUP = 5.25VIn any case, V TL < V TH < V PUP  
Note 11:  Voltage below which, during a falling edge on IO, a logic 0 is detected 
Note 12:  The voltage on IO needs to be less than or equal to V ILMAX whenever the master drives the line low 
Note 13:  Voltage above which, during a rising edge on IO, a logic 1 is detected 
Note 14:  After V TH is crossed during a r ising edge on IO, the voltage on IO has to drop by at least V HY to be detected as logic '0' 
Note 15:  Applies to a single DS28E04 -100 without V CC supply, attached to a 1 -Wire line 
Note 16:  The earliest recognition of a negative edge is possible at t REH after V TH has been previously reached 
Note 17:  Highlighted numbers are NOT in compliance with legacy 1 -Wire product standardsSee comparison table 
Note 18:  Interval during the negative edge on IO at the beginning of a Presence Detect pulse between th e time at which the voltage is   
80% of V PUP and the time at which the voltage is 20% of V PUP 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
4 of 37 Note 19:  ε in Figure 16 represents the time required for the pullup circuitry to pull the voltage on IO up from V IL to V THThe actual maximum 
duration for the  master to pull the line low is t W1LMAX  + tF - ε and t W0LMAX  + tF - ε respectively 
Note 20:  δ in Figure 16 represents the time required for the pullup circuitry to pull the voltage on IO up from V IL to the input high threshold 
of the bus masterThe actu al maximum duration for the master to pull the line low is t RLMAX  + tF
Note 21:  Current drawn during the EEPROM programming intervalIf the device does not get V CC power, the pullup circuit on IO during the 
programming interval should be such that the v oltage at IO is greater than or equal to V PUP(min)If V PUP in the system is close to 
Vpup(min) then a low -impedance bypass of R PUP that can be activated during programming may need to be added 
Note 22:  The t PROG interval begins t REHmax  after the traili ng rising edge on IO for the last time slot of the E/S byte for a valid Copy Scratchpad 
sequenceInterval ends once the device's self -timed EEPROM programming cycle is complete and the current drawn by the 
device has returned from I PROG to I L or I CCS, respectively 
Note 23:  Not production testedGuaranteed by design or characterization 
Note 24:  EEPROM writes can become nonfunctional after the data -retention time is exceeded Long -time storage at elevated temperatures 
is not recommended; the device can lose its write capability after 10 years at +125°C or 40 years at +85°C 
 
 LEGACY VALUES  DS28E04 -100 VALUES  
PARAMETER  STANDARD SPEED  OVERDRIVE SPEED  STANDARD SPEED  OVERDRIVE SPEED  
 MIN MAX  MIN MAX  MIN MAX  MIN MAX  
tSLOT (inclt REC) 61µs  (undef)  7µs (undef) 65µs1) (undef)  9µs (undef)  
tRSTL  480µs  (undef)  48µs  80µs  504µs  640µs  53µs  80µs  
tPDH 15µs  60µs  2µs 6µs 15µs  60µs  2µs 7µs 
tPDL 60µs  240µs  8µs 24µs  60µs  240µs  8µs 26µs  
tW0L 60µs  120µs  6µs 16µs  60µs  120µs  7µs 16µs  
1) Intentional change, longer recovery time requirement due to modified 1-Wire front end 
PIN DESCRIPTION  
PIN NAME  FUNCTION  
1 A3 Address bit input (place value = 8), with weak pullup 
2 A2 Address bit input (place value = 4), with weak pullup 
3 A1 Address bit input (place value = 2), w ith weak pullup 
4 A0 Least significant address bit input (place value = 1), with weak pullup 
5, 12  GND  Ground Reference  
6, 11  N.CNot Connected  
7 VCC Optional power supply for the chip; leave unconnected or ground if V CC power 
is not available 
8 POL Power -up polarity (logical state) for P0 and P1; pin has a weak pulldown 
9 P0 Remote -controlled I/O pin, open drain with weak pulldown 
10 P1 Remote -controlled I/O pin, open drain with weak pulldown 
13 A6 Address bit input (place value = 64),  with weak pullup 
14 A5 Address bit input (place value = 32), with weak pullup 
15 A4 Address bit input (place value = 16), with weak pullup 
16 IO 1-Wire Bus InterfaceOpen drain, requires external pullup resistor 
DETAILED DESCRIPTION  
The DS28E 04-100 combines 4096 bits of EEPROM, a 16-byte control page, two general -purpose PIO pins, seven 
external address pins, and a fully featured 1- Wire interface in a single chipPIO outputs are configured as open-
drain and provide an on-resistance of 100 Ω maxA robust PIO channel -access communication protocol ensures 
that PIO output -setting changes occur error -freeThe DS28E04-100 has an additional memory area called the 
scratchpad that acts as a buffer when writing to the main memory or the control pageData is first written to the 
scratchpad from which it can be read backThe copy scratchpad command transfers the data to its final memory 
locationEach DS28E04-100 has a device ID number that is 64 bits longThe user can define seven bits of this number  through address pinsThe remaining 57 bits are factory -lasered into the chipThe device ID number 
guarantees unique identification and is used to address the device in a multidrop 1- Wire network environment, 
where multiple devices reside on a common 1- Wire bus and operate independently of each otherThe DS28E04-
100 also supports 1- Wire conditional search capability based on PIO conditions or power -on-reset activityThe 
DS28E04-100 has an optional V
CC supply connectionWhen an external supply is absent , device power is supplied 
parasitically from the 1- Wire busWhen an external supply is present, PIO states are maintained in the absence of 
the 1- Wire bus power sourceApplications of the DS28E04-100 include autoconfiguration and state monitoring of 
modular systems such as central -office switches, cellular base stations, access products, optical network units, and 
PBXs, and acces sory/PC board identification 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
5 of 37 OVERVIEW  
The block diagram in Figure 1 shows the relationships between the major control and m emory sections of the 
DS28E04-100The DS28E04-100 has five main data components: 1) 64-bit device ID number, 2) 32- byte 
scratchpad, 3) sixteen 32-byte pages of EEPROM, 4) Special Function Register, and 5) PIO Control RegistersThe 
hierarchical structure of the 1- Wire protocol is shown in Figure 2The bus master must first provide one of the eight 
ROM Function Commands, 1) Read ROM, 2) Match ROM, 3) Search ROM, 4) Conditional Search ROM, 5) Skip 
ROM, 6) Resume, 7) Overdrive-Skip ROM or 8) Overdrive-Match ROMUpon completion of an Overdrive ROM 
command byte executed at standard speed, the device enters Overdrive mode where all subsequent communication occurs at a higher speedThe protocol required for these ROM function commands is described in Figure 14 After a ROM function command is successfully executed, the memory/control functions become 
accessible and the master may provide any one of the nine Memory/Control Function commandsThe protocol for 
these commands is described in Figure 9All data is read and written least significant bit first 
 
Figure 1Block Diagram  
 
 
1-Wire Network  
Device ID  
Number Register  1-Wire  
Function Control  
Memory  
Function  
Control Unit  
Special Function 
Registers  32-Byte 
Scratchpad  Data Memory  
16 Pages of  
32 Bytes Each  CRC16  
Generator  A0 
A6 IO 
Internal V DD PIO 
Control Registers  P0 VCC 
P1 
POL Internal V DD 
 

DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
6 of 37 Figure 2Hierarchical Structure for 1- Wire Protocol  
 
 DS28E04 -100 
Available  
Commands:  Command  
Level:  Data Field  
Affected:  
1-Wire ROM Function  
Commands (see Figure 14)  
DS28E04 -Specific  
Memory/Control Function  
Commands (see Figure 9)  Read ROM  
Match ROM  
Search ROM  
Conditio nal Search 
ROM  
Skip ROM  
Resume  
Overdrive Skip  
Overdrive Match  Device ID, RC -Flag 
Device ID, RC -Flag 
Device ID, RC -Flag 
Device ID , RC-Flag, PIO Status,  
condSearch Setti ngs 
RC-Flag 
RC-Flag 
RC-Flag, OD -Flag 
Device ID, RC -Flag, OD -Flag 
Write Scratchpad  
Read Scratchpad  
Copy Scratchpad  
Read Memory  
PIO Access Read  
PIO Access Write  
PIO Access Pulse  
Reset ActLatch  
Write Register  32-byte Scratchpad, Flags  
32-byte Scratchpad  
Data Memory, Register Page  
Data Memory, Registers  
PIO Pins  
PIO Pins, Activity Latch  
PIO Pins, Activity Latch  
Activity Latch  
Conditional Search an d  Control 
 Registers  
 
 
 
64-BIT DEVICE ID NUMBER (NETWORK ADDRESS)  
Each DS28E04-100 has a unique device ID number that is 64 bits  long, as shown in Figure 3The first 8 bits are a 
1-Wire family codeThe next 8 bits are an external address byte, of which the lower 7 bits are connected to the 
address input pins A0 to A6This allows the user to s et a portion of the Device ID Number by connecting some of 
these pins to GND (logic 0) or to V CC (logic 1) or leaving them open (logic 1)The next 40  bits are a lasered serial 
numberEven if multiple DS28E04-100 are used in a 1 -Wire network and all address inputs are wired to the same 
state or left open (unconnected), the unique 40-bit serialization field will prevent any address conflict, allowing to 
communicate with each device individuallyThe last 8 bits are a lasered CRC (Cyclic Redundancy Check) of  the 
first 56 bits , assuming that the address input pins A0 to A6 are at logic 1The 1- Wire CRC is generated using a 
polynomial generator consisting of a shift register and XOR gates as shown in Figure 4The polynomial is X8 + X5 + 
X4 + 1Further inform ation on the Device ID CRC is found in section CRC Generation near the end of this 
document 
  
Figure 364 -Bit Device ID Number  
MSB    LSB 
8-Bit CRC 
Code  40-Bit Lasered Serial Number  8-Bit External  
Address Input  8-Bit Family Code 
(1Ch)  0 A
6 A
5 A
4 A
3 A
2 A
1 A
0 
MSB  LSB MSB  LSB MSB  LSB MSB  LSB 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
7 of 37 Figure 41 -Wire CRC Generator  
 
X0X1X2X3X4X5X6X7X8Polynomial = X8 + X5 + X4 + 1
1st
STAGE2nd
STAGE3rd
STAGE4th
STAGE6th
STAGE5th
STAGE7th
STAGE8th
STAGE
INPUT DATA 
 
 
MEMORY 
The DS28E04-100 EEPROM array consists of 17 pages of 32 bytes each, starting at address 0000h and ending at address 021FhAll memory addresses in this range have unrestricted read accessThe data memory consists of 
16 pages of 32 bytes eachThe register page consists of 32 bytes starting at address 0200hIt contains 16 page 
protection control bytes (one for each data memory page), the r egister page lock byte, the factory bytes, and the 
reserved bytesThe reserved bytes are for future use by the factory and should be not be usedThey have no effect on device operation 
 
The protection control registers, along with the register page loc k byte, determine whether write protection, EPROM 
mode, or copy protection is enabled for each of the 16 data memory pagesA value of 55h sets write protection for 
the associated memory pageA value of AAh sets EPROM modeA value of 55h or AAh for the r egister page lock 
byte sets copy protection for all write-protected data memory pages, as well as the register pageEPROM mode 
pages are not affected The protection control registers and the register page lock byte write protect themselves if 
set to 55h or AAhAny other setting leaves them open for unrestricted write access 
 In addition to the EEPROM, the device has a 32-byte volatile scratchpadWrites to the EEPROM array are a two-
step processFirst, data is written to the scratchpad through the Wri te Scratchpad command, and then copied into 
the main array through the Copy Scratchpad commandThe user can verify the data written to the scratchpad 
through the Read Scratchpad command prior to copying into the main array 
 
If a memory location is write protected, data sent by the master to the associated address during a Write 
Scratchpad command is not loaded into the scratchpadInstead, it is replaced by the data in EEPROM located at 
the target addressIf a memory location is in EPROM mode, the scrat chpad is loaded with the logical AND of the 
data sent by the master and the data in EEPROM at the target addressCopy Scratchpad commands to write-protected or EPROM mode memory locations are allowedThis allows write-protected data in the device to be refreshed, i.e., reprogrammed with the current data 
 If a memory location is copy protected, a Copy Scratchpad command to that location will be blocked, which is indicated by FFh success bytesCopy protection is used for a higher level of security, and should only be used 
after all write-protected pages and their associated protection control bytes are set to their final valuesCopy 
protection as implemented with this device does not prevent copying data from one device to another; it only blocks 
the exec ution of the copy scratchpad command with a target address of a copy -protected memory page 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
8 of 37 Figure 5Memory Map  
Address locations 0000h to 021Fh are nonvolatileAddress locations 0220h to 0225 are volatile 
 
ADDRESS RANGE  TYPE  DESCRIPTION  PROTECTION C ODES (NOTES)  
0000h to 001Fh R/(W)  Data Memory Page 0 (Protection controlled by address 0200h)  
0020h to 003Fh R/(W)  Data Memory Page 1 (Protection controlled by address 0201h)  
0040h to 005Fh R/(W)  Data Memory Page 2 (Protection controlled by address 0202h)  
0060h to 007Fh R/(W)  Data Memory Page 3 (Protection controlled by address 0203h)  
0080h to 009Fh R/(W)  Data Memory Page 4 (Protection controlled by address 0204h)  
00A0h to 00BFh  R/(W)  Data Memory Page 5 (Protection controlled by address 0205h)  
00C0h to 0DFh R/(W)  Data Memory Page 6 (Protection controlled by address 0206h)  
00E0h to 00FFh  R/(W)  Data Memory Page 7 (Protection controlled by address 0207h)  
0100h to 011Fh R/(W)  Data Memory Page 8 (Protection controlled by address 0208h)  
0120h to 013Fh R/(W) Data Memory Page 9 (Protection controlled by address 0209h)  
0140h to 015Fh R/(W)  Data Memory Page 10 (Protection controlled by address 020Ah)  
0160h to 017Fh R/(W)  Data Memory Page 11 (Protection controlled by address 020Bh)  
0180h to 019Fh R/(W)  Data Memory Page 12 (Protection controlled by address 020Ch)  
01A0h to 01BFh  R/(W)  Data Memory Page 13 (Protection controlled by address 020Dh)  
01C0h to 01DFh R/(W)  Data Memory Page 14 (Protection controlled by address 020Eh)  
01E0h to 01FFh  R/(W)  Data Memory  Page 15 (Protection controlled by address 020Fh)  
0200h1) to 020Fh1) R/(W)  Protection Control Pages 0 
to 15 55h: Write Protected; AAh: EPROM mode
Address 0200h is associated with memory 
page 0, address 0201h with page 1, etc 
0210h1) R/(W)  Register Page Lock  (See text)  
0211h  R Factory Byte  (Reads 55h or AAh)  
0212h to 021Dh  N/A Reserved   
021Eh to 021Fh  R Factory Bytes  (Undefined value)  
    
220h  R PIO Logic State  (The lower two bits are valid)  
221h  R PIO Output Latch State  (The lower two bits are valid)  
222h  R PIO Activity Latch State  (The lower two bits are valid)  
223h  R/W2) Conditional Search PIO 
Selection Mask   
224h  R/W2) Conditional Search Polarity 
Selection   
225h  R/W2) Conditional Search Control and Status Register   
1) Once programmed to AAh or 55h this address becomes read-onlyAll other codes can be stored but will neither 
write -protect the address nor activate any function 
2) Limited write access through Write Regi
ster command 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
9 of 37 PIO-RELATED REGISTERS  
Figure 6 shows the simplified logi c diagram of a PIO channel The registers related to the PIO pins are located in 
the address range 0220h to 0225hAll these registers are volatile, i.e., they lose their state when the device is 
powered downAll PIO -related registers can be read like any  data memoryThere are special commands to control 
the PIOs for input (read), output (write), pulse-generation, and to reset the activity latches 
 
Figure  6PIO Simplified Logic Diagram  
 
PIO Out put 
Latch  PIO Acti vity 
Latch  
Edge 
Detector  
Port 
Function 
Control  To Activity Latch 
State Register  To PIO Logic 
State Register  
To PIO Output 
Latch State Reg R 
Q D D Q 
Q 
Q "1" 
CLR ACT LATCH  P0, P1  
DATA  
CLOCK  POWER ON 
RESET  
 
  
PIO Logic State Register  
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0220h  1 1 1 1 1 1 P1 P0 
The logic state of the PIO pins can be obtained by reading this register using the Read Memory commandThis 
register is read-onlyEach bit is associated with the pin of the respective PIO channel Bits 2 to 7 have no function; 
they always read 1The data in this register reflects the PIO state at the last (most significant) bit of the byte that 
proceeds reading the first (least significant) bit of this registerSee the PIO Access Read  command description for 
details 
 
 
PIO Output Latch State Register  
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0221h  1 1 1 1 1 1 PL1 PL0 
The data in this register represents the latest data written to the PIOs through the PIO Access Write command
This register is read using the Read Memory commandThis register is not affected if the device re- initializes itself 
after an ESD hitThis register is read-onlyEach bit is associated with the output latch of the respective PIO 
channel Bits 2 to 7 have no function; they always read 1The flip- flops of this register power up as specified by the 
state of the POL pinIf the chip has to power up with all PIO channels off, the POL pin must be connected to a logic "1" 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
10 of 37 PIO Activity Latch State Register  
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0222h  0 0 0 0 0 0 AL1 AL0 
The data in this register represents the current state of the PIO activity latchesThis register is read using the Read 
Memory commandThis register is read-onlyEach bit is associated with the activity latch of the respective PIO 
channel Bits 2 to 7 have no function; they always read 0A state transition on a PIO  pin, High Low or 
LowHigh, of a duration greater than t PWMIN  causes the associated bit in the register to be set to a 1This register 
is cleared to 00h by a power -on reset, or by successful execution of the Reset Activity Latches  command 
 
The next three registers control the device's participation a Conditional Search ROM sequenceThe interaction of 
the various signals that determine whether the device responds to a conditional  search is illustrated in Figure 7
There is a selection mask, SM, to select the participating PIOs, a polarity selection SP to specify for each channel 
whether the channel signal needs to be 1 or 0 to qualify, and a PLS bit to select either the activity l atches or PIO 
pins as inputsThe signals of all channels are fed into an AND gate as well as an OR gateThe CT bit finally selects the ANDed or ORed result as the conditional search response signal CSRIf CT is 0, the channel signal of 
at least one of the selected channels must match the corresponding polarityIf CT is 1, the channel signals of all 
selected channels must match the corresponding polarity 
 
Figure 7CONDITIONAL SEARCH L OGIC  
 
AL1
P1PLS SP0 SM0 CT
SM1 SP1AL0
P0
CSRChannel 0
Channel 1
PORL
 
 
 
Conditional Search Channel Se lection Mask Register 
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0223h  0 0 0 0 0 0 SM1 SM0 
The data in this register controls whether a PIO channel qualifies for participation in the conditional search 
commandTo include a PIO channel , the bits in this register that  correspond to those channels need to be set to 1
This register can only be written through the Write Register commandThis register is read/writeEach bit is 
associated with the respective PIO channel  as shown in Figure 7Bits 2 to 7 have no function;  they always read 0 
and cannot be changed to 1This register is cleared to 00h by a power -on reset 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
11 of 37 Conditional Search Channel Polarity Selection Register 
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0224h  0 0 0 0 0 0 SP1 SP0 
The data in this register specifies the polarity of each selected PIO channel for the device to respond to the 
conditional search commandThis register can only be written through the Write Registers commandWithin a PIO 
channel, the data source may be either the channel's input pin or the channel's activity latch, as specified by the 
PLS bit in the Control/Status register at address 0225hThis register is read/writeEach bit is associated with the 
respective PIO channel as shown in Figure 7Bits 2 to 7 have no function; they always read 0 and cannot be 
changed to 1This register is cleared to 00h at power -up 
  
Control/Status Register  
 
ADDR  b7 b6 b5 b4 b3 b2 b1 b0 
0225h  VCCP  POL 0 0 PORL  0 CT PLS 
The data in this register reports status information and further configures the device for conditional searchThis register can only be written through the Write Registers commandThis register is read/writeThe power -up state 
of the PORL bit is "1"CT and PLS power up as "0"The functional assignments of the individual bits are explained 
in the table belowBits 2, 4, and 5 have no function; they always read 0 and cannot be set to 1 
 
Control/Status Register Details  
BIT DESCRIPTION  BIT(S)  DEFINITION  
PLS: Pin or Activity 
Latch Select  b0 Selects either the PIO pins or the PIO activity latches  as input for the 
conditional search 
 0: pin selected (default)  
 1: activity latch selected  
CT: Conditional Search Logical Term  b1 Specifies whether the data of two channels needs to be OR ed or 
AND’ed to meet the qualifying condition for the device to respond to 
a conditional searchIf only a single channel is selected in the channel selection mask (0223h) this bit is a don't care 
 0: bitwise OR (default)  
 1: bitwise AND  
PORL: Power -On Reset 
Latch b3 Specifies whether the device has performed a pow er-on resetThis 
bit can only be cleared to 0 by writing to the Control/Status RegisterAs long as this bit is 1 the device will always respond to a Conditional 
Search ROM sequence 
POL: PIO Default Polarity (Read-Only)  b6 Reports the state of the POL pinThe state of the POL pin specifies 
whether the PIO pins P0 and P1 power up high or lowThe polarity 
of a pulse generated at a PIO pin is the opposite of the pin's power -
up state 
 0: PIO powers up 0  
 1: PIO powers up 1  
VCCP: V CC Power 
Status (Read-Only)  b7 For V CC-powered operation, the V CC pin needs to be connected to a 
voltage source equal to V PUP
 0: V CC power not available  
 1: V CC-powered operation  
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
12 of 37 ADDRESS REGISTERS AND TRANSFER STATUS  
The DS28E04-100 employs three address registers, called TA1, TA2, and E/S (Figure 8)Registers TA1 and TA2 
must be loaded with the target address to which the data will be written or from which data is readRegister E/S is 
a read-only transfer -status register, used to verify data integrity of write commands The lower five bits of the E/S 
register indicate the Ending Offset within the 32-byte scratchpadBit 5 of the E/S register, called PF, is set if the 
number of data bits sent by the master is not an integer multiple of 8 or if the data in the scratchpad i s not valid due 
to a loss of powerA valid write to the scratchpad clears the PF bitBit 6 has no function; it always reads 0Note 
that the lowest five bits of the tar
get address also determine the address within the scratchpad, where intermediate 
stora ge of data will beginThis address is called byte offsetIf the target address (TA1) for a Write command is 
03CH for example, then the scratchpad stores incoming data beginning at the byte offset 1CH and is full after only 
four bytesThe corresponding ending offset in this example is 1FHFor maximum data bandwidth, the target 
address for writing should point to the beginning of a new page, i.e., the byte offset is 0Thus the full 32 -byte 
capacity of the scratchpad is available, resulting also in the ending offset of 1FHHowever, it is possible to write 
one or several contiguous bytes somewhere within a pageThe ending offset together with the partial flag support 
the master checking the data integrity after a Write commandThe highest valued bit of t he E/S register, called AA 
is valid only if the PF flag reads 0If PF is 0 and AA is 1, a copy has taken placeWriting data to the scratchpad 
clears the AA flag
 
Figure 8Address Registers  
 
Bit # 7 6 5 4 3 2 1 0 
Target Address (TA1)  T7 T6 T5 T4 T3 T2 T1 T0 
         
Target Address (TA2)  T15 T14 T13 T12 T11 T10 T9 T8 
 
        Ending Address with  
Data Status (E/S)  
(Read Only)  AA 0 PF E4 E3 E2 E1 E0 
  
WRITING WITH VERIFIC ATION  
To write data to the DS28E04-100 EEPROM sections, the scratchpad has to be used as intermediate storageFirst 
the master issues the Write Scratchpad command to specify the desired target address, followed by the data to be 
written to the scratchpadUnder certain conditions (see Write Scratchpad command) the master will receiv e an 
inverted CRC16 of the command, address (actual address sent), and data (as sent by the master) at the end of the 
Write Scratchpad command sequenceKnowing this CRC value, the master can compare it to the value it has calculated to decide whether the communication was successful and proceed to the Copy Scratchpad commandIf 
the master could not receive the CRC16, it should use the Read Scratchpad command to verify data integrityAs a 
preamble to the scratchpad data, the DS28E04-100 repeats the target  address TA1 and TA2 and sends the 
contents of the E/S registerIf the PF flag is set, data did not arrive correctly in the scratchpad or there was a loss 
of power since data was last written to the scratchpadThe master does not need to continue reading; it can start a 
new trial to write data to the scratchpadSimilarly, a set AA flag together with a cleared PF flag indicates that the device did not recognize the Write commandIf everything went correctly, both flags are cleared and the ending 
offset i ndicates the address of the last byte written to the scratchpad Now the master can continue reading and 
verifying every data byteAfter the master has verified the data, it can send the Copy Scratchpad commandThis command must be followed exactly by the data of the three address registers, TA1, TA2, and E/SThe master 
should obtain the contents of these registers by reading the scratchpad 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
13 of 37 MEMORY/CONTROL FUNCT ION COMMANDS  
The Memory/Control Function Flow Chart  (Figure 9) describes the protocols neces sary to access the memory and 
the PIO pins of the DS28E04-100Examples on how to use these functions are included at the end of this 
documentThe communication between master and DS28E04-100 takes place either at standard speed (default, 
OD = 0) or at Ov erdrive peed (OD = 1)If not explicitly set into the Overdrive Mode, the DS28E04-100 powers up in 
standard speed 
 
WRITE SCRATCHPAD COMMAND [0Fh]  
The Write Scratchpad command applies to the data memory, and the writeable addresses in the register pageAfter issuing the Write Scratchpad command, the master must first provide the 2-byte target address, followed by 
the data to be written to the scratchpadThe data is written to the scratchpad starting at the byte offset of T 4:T0
The ending offset (E4:E0) i s the byte offset at which the master stops writing dataOnly full data bytes are 
acceptedIf the last data byte is incomplete, its content will be ignored and the partial byte flag PF will be set 
 When executing the Write Scratchpad command, the CRC generator inside the DS28E04-100  (Figure 18 ) 
calculates a CRC of the entire data stream, starting at the command code and ending at the last data byte as sent 
by the masterThis CRC is generated using the CRC16 polynomial by first clearing the CRC generator  and then 
shifting in the command code (0FH) of the Write Scratchpad command, the Target Addresses (TA1 and TA2)  as 
supplied by the master , and all the data bytesThe master may end the Write Scratchpad command at any time
However, if the end of the scratchpad is reached (E 4:E0 = 11111b), the master can send 16 read-time slots and 
receive the CRC generated by the DS28E04-100 
 
If a Write Scratchpad is attempted to a write-protected location, the scratchpad is loaded with the data already in 
memory, rather than the data transmittedSimilarly, if the target address page is in EPROM mode, the scratchpad 
is loaded with the bitwise logical AND of the transmitted data and data already in memory 
 
READ SCRATCHPAD COMM AND [AA h] 
The Read Scratchpad command allows  verification of the target address and the scratchpad dataAfter issuing the 
command code, the master begins readingThe first two bytes are the target addressThe next byte is the ending 
offset/data status byte (E/S) followed by the scratchpad data, w hich may be different from what the master 
originally sentThis is of particular importance if the target address is within the register page or a page in either 
Write -Protected or EPROM modesSee the Write Scratchpad description for detailsThe master shoul d read 
E4:E0 -T4:T0+1 bytes , after which it receives the inverted CRC16, based on data as it was sent by the DS28E04-
100If the master continues reading after the CRC, all data will be logic 1s 
 
COPY SCRATCHPAD [55h]  
The Copy Scratchpad command is used to copy data from the scratchpad to the data memory and the writable sections of the Register PageAfter issuing the Copy Scratchpad command, the master must provide a 3-byte 
authorization pattern, which should have been obtained by an immediately preceding Read Scratchpad command
This 3 -byte pattern must exactly match the data contained in the three address registers (TA1, TA2, E/S, in that 
order)If the pattern matches, the target address is valid, the PF flag is not set, and the target memory is not copy -
protected, the AA (Authorization Accepted) flag is set and the copy beginsThe data to be copied is determined by 
the three address registersThe scratchpad data from the beginning offset through the ending offset will be copied 
to memory, starti ng at the target addressAnywhere from 1 to 32 bytes can be copied with this commandThe 
device’s internal data transfer takes 10ms maximum during which the voltage on the 1- Wire bus must not fall below 
2.8VAfter waiting 10ms, the master may issue read time slots to receive AAh confirmation bytes until the master 
issues a reset pulseIf the PF flag is set or the target memory is copy -protected, the copy will not begin and the AA 
flag will not be set 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
14 of 37 Figure 9 -1Memory/Control Function Flow Chart  
 
0Fh 
Write Scratch - 
pad ?  
Bus Master TX EEPROM 
Array Target Address  
TA1 (T7:T0), TA2 (T15:T8)  Y N To Figure 9 
2nd Part  
From Figure 9 
2nd Part  Bus Master TX Memory 
Function Command  
To ROM Functions 
Flow Chart (Figure 14)  From ROM Functions 
Flow Chart (Figure 14)  
Master  
TX Reset ?  Master TX Data Byte  
To Scratchpad Offset  
N 
Y DS28E04 sets Scratchpad  
Offset = (T4:T0 ), 
Clears PF, AA  
ScrpadOffset  
= 11111b?  
DS28E04 TX CRC16  
of Command, Address, 
Data Bytes as they were 
sent by the bus master  DS28E04  
Increments  
Scratchpad 
Offset  
Master  
TX Reset 
?  
Y N Bus Master  
RX “1”s  N Partial  
Byte ?  
PF = 1  Y N Y Applies only if the page is not write 
protected or in EPROM modeIf write -
protected, then the DS28E04 copies the 
data byte from the target address into 
the scratchpad If in EPROM mode, 
then the DS28E04 stores the bitwise 
logical AND o f the transmitted byte and 
the data byte from the targeted address 
into the scratchpad 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
15 of 37 Figure 9 -2Memory/Control Function Flow Chart (continued)  
AAh
Read Scratch-
Pad ?
DS28E04 sets Scratchpad
Offset = (T4:T0)Bus Master RX
TA1 (T7:T0), TA2 (T15:T8)
and E/S Byte
Bus Master RX Data Byte
from Scratchpad Offset
Bus Master RX CRC16
of Command, Address,
E/S Byte, Data Bytes as
sent by the DS28E04Y
Bus Master
RX “1”sMaster
TX Reset ?
YNMaster
TX Reset ?DS28E04
Increments
Scratchpad
Offset
Scrpad Offset
= E4:E0 ?Y
YN
NNFrom Figure 9
1st  Part
To Figure 9
1st  PartTo Figure 9
3rd  Part
From Figure 9
3rd  PartSee note in Write
Scratchpad flow chart
for additional details 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
16 of 37 Figure 9 -3Memory/Control Function Flow Chart (continued)  
 
From Figure 9 
2nd Part  
To Figure 9  
2nd Part  To Figure 9  
4th Part  
From Figure 9 
4th Part  * 1-Wire idle high 10ms for power  55h 
Copy Scratch - 
Pad ?  
Bus Master TX  
TA1 (T7:T0), TA2 (T15:T8)  
and E/S Byte  Y N 
Bus Master  
RX “1”s  
Master  
TX Reset ?  
Y N Y AuthCode  
Match ?  
N 
N Copy - 
Protected ?  Y 
DS28E04 copies Scratch - 
pad Data to Address  AA = 1  
* 
DS28E04 TX “0”  
Master  
TX Reset ?  
Master  
TX Reset ?  
Y N DS28E04 TX “1”  N Y Applicable to all R/W 
memory locations 
Y T15:T0  
< 0220h ?  
N 
PF = 0 ?  
Y N 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
17 of 37 Figure 9 -4Memory/Control Function Flow Chart (continue d) 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
18 of 37 Figure 9 -5Memory/Control Function Flow Chart (continued)  
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
19 of 37 Figure 9 -6Memory/Control Function Flow Chart (continued)  
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
20 of 37 READ MEMORY [F0 h] 
The Read Memory command is the general function to read data from the DS28E04-100After issuing the 
command, the master must provide a 2-byte target address in the range of 0000h to 0225hAfter these two bytes, 
the master reads data beginning from the target address and may continue until address 0225hIf the master 
continues reading, the result will be logic 1sThe device's internal TA1, TA2, E/S, and scratchpad contents are not affected by a Read Memory command 
 
The hardware of the DS28E04-100 provides a means to accomplish error -free writing to the memory sectionTo 
safeguard reading data in the 1- Wire environment and to simultaneously speed up data transfers, it is 
recommended to packetize data into data packets the size of one memory page eachSuch a packet would typically st ore a 16-bit CRC with each page of data to insure rapid, error -free data transfers that eliminate having to 
read a page multiple times to determine if the received data is correct or not(See Application Note 114 for the 
recommended file structure.)  
 
WRIT E REGISTER [CCh]  
The conditional search settings and the status/control register are volatileThey need to be loaded after every 
power -up cycle with the Write Register commandAfter issuing the command, the master sends the 2-byte target 
address, which s hould be a value between 0223h and 0225hNext the master sends the byte to be written to the 
addressed cellIf the address was valid, the byte is immediately written to its memory locationThe master now can either end the com mand by issuing a 1- Wire r eset or send another byte for the next higher addressOnce 
memory address 0225h has been written, any subsequent data bytes will be ignoredThe master has to send a 
1-Wire reset to end the commandSince the Write Register flow does not include any error -checking for the new 
register data, it is important to verify correct writing by reading the registers using the Read Memory command 
 
PIO ACCESS READ [F5h]  
In contrast to reading the PIO logical state from address 0220h, this command reads the PIO logic al status in an 
endless loopAfter 32 bytes of PIO pin status the DS28E04-100 inserts an inverted CRC16 into the data stream, 
which allows the master to verify whether the data was received error -freeA PIO Access Read can be terminated 
at any time with a 1- Wire ResetThe state of the POL pin does not affect this command 
 
The status of both PIO channels is sampled at the same timeThe first sampling occurs during the last (most 
significant) bit of the command code F5hThe first (least significant) bit  of the PIO status byte is associated to P0, 
and the next bit to P1The other 6 bits of a PIO status byte do not have corresponding PIO pins; they always read 
"1"While the master receives the last bit of the PIO status byte, the next sampling occurs and so on until the 
master has received 32 PIO samplesNext the master receives the inverted CRC16 of the command byte and 32 PIO samples (first pass) or the CRC of 32 PIO samples (subsequent passes)While the last (most significant) bit of the CRC is trans mitted, the next PIO sampling takes placeThe sampling occurs with a delay of t
REH + x from the 
rising edge of the MS bit of the previous byte, as shown in Figure 10The value of "x" is approximately 0.2µs 
 
Figure  10PIO Access Read Timing Diagram  
IOExample - Sampled State = FEh
MS 2 bits of
previous byteLS 2 bits of
data byte ( FEh)
VTH
Sampling PointtREH+x
 
Notes:  
1 The "previous byte" could be the command code, the data byte resulting from the previous PIO sample, or the MS byte of a CRC16 
2 The sample point timing also applies to the PIO Access Write and Pulse command, with the "prev ious byte" 
being the write confirmation byte (AAh) 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
21 of 37 PIO ACCESS WRITE [5A h] 
The PIO Access Write command is the only way to write to the PIO output -latch state register (address 0221h), 
which controls the open-drain output transistors of the PIO channelsIn an endless loop, this command first writes 
new data to the PIO and then reads back the PIO statusThe implicit read-after -write can be used by the master for 
status verificationA PIO Access Write can be terminated at any time with a 1- Wire ResetThe state of the POL pin 
does not affect this command 
 
After the command code, the master transmits a byte that determines the new state of the PIO output transistors
The first (least significant) bit is associated to P0; the next bit affects P1The other 6 bits of the new state byte do 
not have corresponding PIO pinsThese bits should always be transmitted as "1"sTo switch the output transistor 
off (nonconducting) the corresponding bit value is 1To switch the transistor on, that bit needs to be 0Thi s way the 
data byte transmitted as the new PIO output state arrives in its true form at the PIO pinsTo protect the 
transmission against data errors, the master must repeat the new PIO byte in its inverted formOnly if the 
transmission was error -free does the PIO status changeThe actual PIO transition to the new state occurs with a 
delay of t REH + x from the rising edge of the MS bit of the inverted PIO byte, as shown in Figure 11The value of "x" 
is approximately 0.2µsTo inform the master about the successful change of the PIO status, the DS28E04-100 transmits a confirmation byte with the data pattern AAhAfter the MS bit of the confirmation byte is transmitted, the 
DS28E04-100 samples the status of the PIO pins, as shown in Figure 10, and sends it to the masterDepending on 
the data the master can either continue writing more data to the PIO or issue a 1- Wire reset to end the command 
 
Figure  11PIO Access Write Timing Diagram  
 
IO

PIOExample - Old State = FEh, New state = FDh
MS 2 bits of inverted
new-state byteLS 2 bits of confir-
mation byte (AAh)
FEh FDhVTH
tREH+x
 
 
PIO ACCESS PULSE [A5h]  
As a convenient alternative to using PIO Access Write, the PIO Access Pulse command generates a self -timed 
pulse on the selected PIO outputsThe polarity of the pulse is determined by the state of the POL pinIf POL = 1, 
the pulse is negative (active low) and vice versaThe PIO Access Pulse command is accepted only if the device is 
VCC powered 
 
After the command code the master transmits a selection mask that specifies the PIO at which the pulse is to be 
generatedA PIO is selected if the corresponding bit in the sel ection mask is a "1"The first (least significant) bit is 
associated to P0; the next bit affects P1The other 6 bits of the selection mask do not have corresponding PIO pinsThese bits should always be transmitted as "1"sTo protect the transmission against data errors, the master 
must repeat the selection mask in its inverted formOnly if the transmission was error -free does the pulse occur
The pulse begins with a delay of t
REH + x from the rising edge of the MS bit of the inverted selection mask, as  
shown in Figure 12The value of "x" is approximately 0.2µsTo inform the master about the successful pulse 
generation, the DS28E04-100 transmits a confirmation byte with the data pattern AAhWhile the last bit of the 
confirmation byte is transmitted, t he DS28E04-100 samples the status of the PIO pins, as shown in Figure 10, and 
sends it to the masterNow the master can issue a 1-Wire reset to exit the command flowThis does not terminate 
the pulse on a PIO pin 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
22 of 37 Figure  12PIO Access Pulse Timing Dia gram 
tPULSEIO
PIOMS 2 bits of inverted
Selection MaskLS 2 bits of confir-
mation byte (AAh)
VTH
tREH+x
POL=1
POL=0 
 
RESET ACTIVITY LATCHES [C3 h] 
Each PIO channel includes an activity latch that is set whenever there is a state transition at a PIO pin of duration 
greater than t PWMIN This change can be caused by an external event/signal  or by writing to the PIO or by 
generating a pulseDepending on the application there may be a need to reset the activity latch after having 
captured and serviced an external eventSince there is only read access to the PIO Activity Latch State Register,  
the DS28E04-100 supports a special command to reset these latchesAfter having received the command code, 
the device resets all activity latches simultaneouslyThere are two ways for the master to verify the execution of the Reset Activity Latches commandOne way is to start reading from the 1- Wire line right after the command code 
is transmittedIn this case, the master reads AAh bytes until it sends a 1- Wire resetThe other way is reading 
register address 0222h  
 
1-Wire BUS SYSTEM  
The 1- Wire bus i s a system that has a single bus master and one or more slavesIn all instances the DS28E04-
100 is a slave deviceThe bus master is typically a microcontrollerThe discussion of this bus system is broken 
down into three topics: hardware configuration, t ransaction sequence, and 1- Wire signaling (signal types and 
timing)The 1- Wire protocol defines bus transactions in terms of the bus state during specific time slots, which are 
initiated on the falling edge of sync pulses from the bus master 
  
HARDWARE CONFIGURATION  
The 1- Wire bus has only a single line by definition; it is important that each device on the bus be able to drive it at 
the appropriate timeTo facilitate this, each device attached to the 1- Wire bus must have open-drain or tri -state 
outputs The 1- Wire port of the DS28E04-100 is open drain with an internal circuit equivalent to that shown in 
Figure 13 
 
A multidrop bus consists of a 1- Wire bus with multiple slaves attachedThe DS28E04-100 supports both a 
standard and Overdrive communication speed of 15.4kbps (max) and 111kbps (max), respectivelyNote that legacy 1- Wire products support a standard communication speed of 16.3kbps and Overdrive of 142kbpsThe 
slightly reduced rates for the DS28E04-100 are a result of additional recovery times, which in turn were driven by a 
1-Wire physical interface enhancement to improve noise immunityThe value of the pullup resistor primarily 
depends on the network size and load conditionsThe DS28E04-100 requires a pullup resistor of 2.2k Ω (max) at 
any speed 
 The idle state for the 1- Wire bus is highIf, for any reason, a transaction needs to be suspended, the bus MUST be 
left in the idle state if the transaction is to resumeIf this does not occur and the bus is left low for more than 16µs 
(Overdriv e speed) or more than 120µs (standard speed), one or more devices on the bus can be reset 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
23 of 37  Figure 13Hardware Configuration   
 
 
Open -Drain  
Port Pin  RX = RECEIVE  
 
TX = TRANSMIT  100 Ω 
MOSFET  VPUP 
RX 
TX TX RX DATA  RPUP 
11µA
Max BUS MASTER  DS28E04 1 -Wire PORT  
 
 
 
TRANSACTION SEQUENCE  
The protocol for accessing the DS28E04-100 through the 1- Wire port is as f ollows:  
 
 Initialization 
 ROM Function Command  
 Memory/Control Function Command  
 Transaction/Data  
 
INITIALIZATION  
All transactions on the 1- Wire bus begin with an initialization sequenceThe initialization sequence consists of a 
reset pulse transmitted by the bus master followed by presence pulse(s) transmitted by the slave(s)The presence 
pulse lets the bus master know that the DS28E04-100 is on the bus and is ready to operateFor more details, see 
the 1-Wire Signaling section 
 
1-Wire ROM FUNCTION COMMANDS  
Once the bus master has detected a presence, it can issue one of the eight ROM function commands that the 
DS28E04-100 supportsAll ROM function commands are 8 bits longA list of these commands follows (refer to the 
flow chart in Figure 14) 
 
READ ROM [33 h] 
This command allows the bus master to read the DS28E04-100’s 8 -bit family code, unique 40-bit serial number, 8-
bit address byte, and 8-bit CRCThe lower order 7 bits of the address byte read back the state of the address pins 
A6 to A0See also Figur e 3This command can only be used if there is a single slave on the busIf more than one 
slave is present on the bus, a data collision occurs when all slaves try to transmit at the same time (open drain 
produces a wired-AND result)The resultant family code and 48-bit serial number result in a mismatch of the CRC
Note that there will also be a CRC mismatch if one or more of the external address inputs are connected to GND
The ROM CRC is hardcoded with A6 to A0 set to 1sThe master should comprehend th is and calculate the ROM 
CRC similarly 
 
MATCH ROM [55 h] 
The Match ROM command, followed by a 64-bit ROM sequence, allows the bus master to address a specific 
DS28E04-100 on a multidrop busOnly the DS28E04-100 that exactly matches the 64-bit ROM sequence, 
including the external address, responds to the following Memory/Control Function commandAll other slaves wait for a reset pulseThis command can be used with a single or multiple devices on the bus 
  
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
24 of 37 SEARCH ROM [F0h]  
When a system is initially brought up, the bus master might not know the number of devices on the 1- Wire bus or 
their device ID numbersBy taking advantage of the wired-AND property of the bus, the master can use a process 
of elimination to identify the device ID numbers of all slave dev icesFor each bit of the device ID number, starting 
with the least significant bit, the bus master issues a triplet of time slotsOn the first slot, each slave device participating in the search outputs the true value of its device ID number bitOn the second slot, each slave device participating in the search outputs the complemented value of its device ID number bitOn the third slot, the master 
writes the true value of the bit to be selectedAll slave d
evices that do not match the bit written by the master stop 
participating in the searchIf both of the read bits are zero, the master knows that slave devices exist with both 
states of the bitBy choosing which state to write, the bus master branches in the romcode treeAfter one complete 
pass, the bus master knows the device ID number of a single deviceAdditional passes identify the device ID 
numbers of the remaining devicesRefer to Application Note 187:  1-Wire Search Algorithm for a detailed 
discussion, including an example 
 
Note:  Since the DS28E04-100 lasered ROM CRC is calculated assuming the address inputs are all logic 1, then 
any address inputs that are connected to GND are not validatedIt is recommended to do a double search when 
building a list of devices on the 1- Wire line 
 
CONDITIONAL SEARCH [ECh]  
The Conditional Search ROM command operates similarly to the Search ROM command except that only those 
devices, which fulfill certain conditions (CSR = 1), will participate in the searchThis function provides an efficient 
means for the bus master to identify devices on a multidrop system that have to signal an important eventAfter 
each pass of the conditional search that successfully determined the 64-bit ROM code for a specific device on the 
multidrop bus, that particular device can be individually accessed as if a Match ROM had been issued, since all other devices will have dropped out of the search process and will be waiting for a reset pulseThe DS28E04-100 
responds to the conditional search if the CSR signal is activeSee the description of the registers at addresses 0223h to 0225h and Figure 7 for more details 
 
SKIP ROM [CCh]  
This command can save time in a single-drop bus system by allowing the bus master to access the memory functions without providing the 64-bit ROM codeI f more than one slave is present on the bus and, for example, a 
Read command is issued following the Skip ROM command, data collision occurs on the bus as multiple slaves transmit simultaneously (open-drain pulldowns produce a wired-AND result) 
 
RESUME [A 5h] 
To maximize the data throughput in a multidrop environment, the Resume function is availableThis function checks the status of the RC bit and, if it is set, directly transfers control to the Memory functions, similar to a Skip 
ROM commandThe only w ay to set the RC bit is through successfully executing the Match ROM, Search ROM, or 
Overdrive Match ROM commandOnce the RC bit is set, the device can repeatedly be accessed through the 
Resume Command functionAccessing another device on the bus clears the RC bit, preventing two or more 
devices from simultaneously responding to the Resume Command function 
 
OVERDRIVE SKIP ROM [3C h] 
On a single-drop bus this command can save time by allowing the bus master to access the memory functions 
without providing the 64-bit ROM codeUnlike the normal Skip ROM command, the Overdrive Skip ROM sets the 
DS28E04-100 in the Overdrive mode (OD = 1)All communication following this command has to occur at 
Overdrive speed until a reset pulse of minimum 480µs duration res ets all devices on the bus to standard speed 
(OD = 0) 
 
When issued on a multidrop bus, this command sets all Overdrive-supporting devices into Overdrive modeTo 
subsequently address a specific Overdrive-supporting device, a reset pulse at Overdrive speed has to be issued 
followed by a Match ROM or Search ROM command sequenceThis speeds up the time for the search processIf 
more than one slave supporting Overdrive is present on the bus and the Overdrive Skip ROM command is followed 
by a Read command, da ta collision occurs on the bus as multiple slaves transmit simultaneously (open-drain 
pulldowns produce a wired-AND result) 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
25 of 37 Figure 14- 1ROM Functions Flow Chart  
 
From Figure 14 
2nd Part  To Memory Functions 
Flow Chart (Figure 9)  Master TX Bit 0  
Master TX Bit 63  Master TX Bit 1  
RC = 1  DS28E04 TX  
Family Code  
(1 Byte)  
Bit 0 
Match?  
Y N 
Bit 1 
Match?  
Y N 
Bit 63  
Match?  
Y N DS28E04 TX Bit 0  
DS28E0 4 TX Bit 0  
Master TX Bit 0  
DS28E04 TX Bit 1  
DS28E04 TX Bit 1  
Master TX Bit 1  
DS28E04  TX Bit 63  
DS28E04  TX Bit 63  
Master TX Bit 63  
RC = 1  Bit 0 
Match?  
Y N 
Bit 1 
Match?  
Y N 
Bit 63  
Match?  
Y N To Figure 14 
2nd Part  
RC = 0  RC = 0  RC = 0  RC = 0  Y Y Y Y N F0h 
Search ROM  
Command?  N 55h 
Match ROM  
Command?  N ECh 
CondSearch  
Command?  N 33h 
Read ROM  
Command?  
To Figure 14 
2nd Part  From Memory Functions 
Flow Chart (Figure 9)  
Bus Master TX ROM 
Function Command  DS28E04 TX 
Presence Pulse  OD 
Reset Pulse?  N 
Y OD = 0  Bus Master TX 
Reset Pulse  From Figure 14, 2nd Part  
CSR = 1?  
Y N 
DS28E04 TX Bit 0  
DS28E04 TX Bit 0  
Master TX Bit 0  
DS28E04 TX Bit 1  
DS28E04 TX Bit 1  
Master TX Bit 1  
DS28E04  TX Bit 63  
DS28E04  TX Bit 63  
Master TX Bit 63  
RC = 1  Bit 0 
Match?  
Y N 
Bit 1 
Match?  
Y N 
Bit 63  
Match?  
Y N DS28E04 TX  
CRC Byte  DS28E04 TX  
ExtAddress  
(7 bits)  
DS28E04 TX  
Serial Number  
(40 bits)  DS28E04 TX  
"0" (1 bit)  
The CRC is hard -coded assuming 
all external address bits ar e 1's 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
26 of 37 Figure 14- 2ROM Functions Flow Chart (continued)  
 
From Figure 14 
1st Part  
From Figure 14 
1st Part  To Figure 14, 1st Part  
RC = 1 ?  N 
Y RC = 0 ; OD = 1  
Master TX Bit 0  
Master TX Bit  63 Master TX Bit 1  
RC = 1  Bit 0 
Match?  
Y N 
Bit 1 
Match?  
Y N 
Bit 63  
Match?  
Y N Y N 69h 
Overdrive Match  
ROM?  
RC = 0 ; OD = 1  
Master  
TX Reset ?  Y 
N 
Master  
TX Reset ?  
N Y Y N 3Ch 
Overdrive  
Skip ROM?  
Y N A5h 
Resume  
Command?  
RC = 0  Y N CCh 
Skip ROM  
Command?  
To Figure 14  
1st Part  
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
27 of 37 OVERDRIVE MATCH ROM [69h]  
The Overdrive Match ROM command followed by a 64-bit ROM sequence transmitted at Overdrive speed allows 
the bus master to address a specific DS28E04-100 on a multidrop bus and to simultaneously set it in Overdrive 
modeOnly the DS28E04-100 that exactly matches the 64-bit ROM sequence responds to the subsequent 
Memory/Control Function commandSlaves already in Overdrive mode from a previous Overdrive Skip or successful Overdrive Match command remain in Overdrive modeAll overdrive-capable slaves return to standard speed at the next Reset Pulse of minimum 480µs durationThe Overdrive Match ROM command can be used with 
a single or multiple devices on the bus 
 
1-Wire SIGNALING  
The DS28E04-100 requires strict protocols  to ensure data integrityThe protocol consists of four types of signaling 
on one line: Reset Sequence with Reset Pulse and Presence Pulse, Write- Zero, Write-One, and Read-Data
Except for the Presence pulse, the bus master initiates all falling edgesThe DS28E04-100 can communicate at 
two different speeds, standard speed, and Overdrive speedIf not explicitly set into the Overdrive mode, the DS28E04-100 communicates at standard speedWhile in Overdrive Mode, the fast timing applies to all waveforms 
 
To get from idle to active, the voltage on the 1- Wire line needs to fall from V
PUP below the threshold V TLTo get 
from active to idle, the voltage needs to rise from V ILMAX past the threshold V THThe time it takes for the voltage to 
make this rise is see n in Figure 15 as ' ε' and its duration depends on the pullup resistor (R PUP) used and the 
capacitance of the 1- Wire network attached The voltage V ILMAX is relevant for the DS28E04-100 when determining 
a logical level, not triggering any events 
 Figure 15 shows the initialization sequence required to begin any communication with the DS28E04-100A Reset 
Pulse followed by a Presence Pulse indicates the DS28E04-100  is ready to receive data, given the correct ROM 
and Memory/Control Function commandIf the bus master uses slew -rate control on the falling edge, it must pull 
down th
e line for t
RSTL + tF to compensate for the edgeA t RSTL duration of 480µs or longer exits the Overdrive 
Mode, returning the device to standard speedIf the DS28E04-100 is in Over drive Mode and t RSTL is no longer than 
80µs, the device remains in Overdrive ModeIf the device is in Overdrive Mode and t RSTL is between 80µs and 
480µs, the device will reset, but the communication speed is undetermined 
 
Figure 15Initialization Proc edure: Reset and Presence Pulse  
 
 
After the bus master has released the line, it goes into receive modeNow the 1-Wire bus is pulled to V PUP through 
the pullup resistor, or in case of a DS2482-x00 or DS2480B driver, by active ci rcuitryWhen the threshold V TH is 
crossed, the DS28E04-100 waits for t PDH and then transmits a Presence Pulse by pulling the line low for t PDLTo 
detect a presence pulse, the master must test the logical state of the 1- Wire line at t MSP 
 
The t RSTH window must be at least the sum of t PDHMAX , tPDLMAX , and t RECMIN Immediately after t RSTH is expired, the 
DS28E04-100 is ready for data communicationIn a mixed population network, t RSTH should be extended to 
minimum 480µs at standard speed and 48µs at Overdr ive speed to accommodate other 1- Wire devices 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
28 of 37  Read/Write Time Slots  
Data communication with the DS28E04-100 takes place in time slots, which carry a single bit eachWrite time slots 
transport data from bus master to slaveRead time slots transfer data from slave to masterFigure 16 illustrates 
the definitions of the write and read time slots 
 All communication begins with the master pulling the data line lowAs the voltage on the 1- Wire line falls below the 
threshold V
TL, the DS28E04-100 starts its  internal timing generator that determines when the data line is sampled 
during a write time slot and how long data is valid during a read time slot 
 
Figure 16Read/Write Timing Diagram  
 
Write -One Time Slot  
RESISTOR MASTERVPUP
VIHMASTER
VTH
VTL
VILMAX
0V
tFtSLOTtW1L
ε
 
 
Write -Zero Time Slot 
 
 RESISTOR  MASTER  tREC VPUP 
VIHMASTER  
VTH 
VTL 
VILMAX 
0V 
tF tSLOT tW0L 
ε 
 
 
Read -Data Time Slot  
 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
29 of 37 Master -to-Slave  
For a write -one  time slot, the voltage on the data line must have crossed the V TH threshold before the write -one 
low time t W1LMAX  is expiredFor a write -zero time slot, the voltage on the data line must stay below the V TH 
threshold until the write-zero low time t W0LMIN  is expiredFor the most reliable communication, the voltage on the 
data line should not exceed V ILMAX during the entire t W0L or t W1L window After the V TH threshold has been crossed, 
the DS28E04-100 needs a recovery time t REC before it is ready for the next time slot 
 
Slave -to-Master  
A read -data time slot begins like a write-one time slotThe voltage on the data line must remain below V TL until the 
read low time t RL is expiredDuring the t RL window, when responding with a 0, the DS28E04-100 starts pulling the 
data line low; its internal timing generator determines when this pulldown ends and the voltage starts rising again
When responding w ith a 1, the DS28E04-100 does not hold the data line low at all, and the voltage starts rising as 
soon as t RL is over 
 
The sum of t RL + δ (rise time) on one side and the internal timing generator of the DS28E04-100 on the other side 
define the master sam pling window (t MSRMIN  to t MSRMAX ) in which the master must perform a read from the data line
For the most reliable communication, t RL should be as short as permissible, and the master should read close to 
but no later than t MSRMAX After reading from the data line, the master must wait until t SLOT is expiredThis 
guarantees sufficient recovery time t REC for the DS28E04-100 to get ready for the next time slotNote that t REC 
specified herein applies only to a single DS28E04-100 attached to a 1- Wire lineF or multidevice configurations, 
tREC needs to be extended to accommodate the additional 1- Wire device input capacitanceAlternatively, an 
interface that performs active pullup during the 1- Wire recovery time such as the DS2482-x00 or DS2480B 1- Wire 
line dr ivers can be used 
 
 
IMPROVED NETWORK BEH AVIOR (SWITCHPOINT H YSTERESIS)  
In a 1- Wire environment, line termination is possible only during transients controlled by the bus master (1 -Wire 
driver)1- Wire networks, therefore, are susceptible to noise of various originsDepending on the physical size and 
topology of the network, reflections from end points and branch points can add up, or cancel each other to some 
extentSuch reflections are visible as glitches or ringing on the 1- Wire communication lineNoi se coupled onto the 
1-Wire line from external sources can also result in signal glitchingA glitch during the rising edge of a time slot can 
cause a slave device to lose synchronization with the master and, consequently, result in a search ROM command coming to a dead end or cause a device-specific function command to abortFor better performance in network 
applications, the DS28E04-100 uses a new 1- Wire front end, which makes it less sensitive to noise and also 
reduces the magnitude of noise injected by the slave device itself 
 
The 1- Wire front end of the DS28E04-100 differs from traditional slave devices in four characteristics 
1) The falling edge of the presence pulse has a controlled slew rateThis provides a better match to the line 
impedance than a digitally switched transistor, converting the high- frequency ringing known from traditional 
devices into a smoother low -bandwidth transitionThe slew -rate control is specified by the parameter t
FPD, 
which has different values for standard and Overdrive s peed 
2) There is additional lowpass filtering in the circuit that detects the falling edge at the beginning of a time slot
This reduces the sensitivity to high- frequency noiseThis additional filtering does not apply at Overdrive speed 
3) There is a hyster esis at the low -to-high switching threshold V THIf a negative glitch crosses V TH but does not go 
below V TH - VHY, it will not be recognized (Figure 17, Case A)The hysteresis is effective at any 1- Wire speed 
4) There is a time window specified by the risi ng edge hold-off time t REH during which glitches are ignored, even if 
they extend below V TH - VHY threshold (Figure 17, Case B, t GL < tREH)Deep voltage droops or glitches that 
appear late after crossing the V TH threshold and extend beyond the t REH window  cannot be filtered out and are 
taken as the beginning of a new time slot (Figure 17, Case C, t GL ≥ tREH) 
Only devices that have the parameters t FPD, V HY, and t REH specified in their electrical characteristics use the 
improved 1- Wire front end 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
30 of 37  Figure 1 7Noise Suppression Scheme  
 
VPUP
VTH
VHY
0VtREH
tGLtREH
tGLCase A Case C Case B
 
 
 
CRC GENERATION  
With the DS28E04-100 there are two different types of CRCsOne CRC is an 8-bit type and is stored in the most 
significant byte of the 64-bit ROMThe bus master can compute a CRC value from the first 56 bits of the ROM and, 
if none of the address inputs is connected to GND, compare it to the value stored within the DS28E04-100 to 
determine whether the ROM data has been received error -freeIf any of the address pins are connected t o GND, 
the bus master can calculate the CRC based on an all 1s external address field to determine whether the non-
external address ROM data has been received error -freeThe equivalent polynomial function of this CRC is X8 + X5 
+ X4 + 1This 8-bit CRC is  received in the true (noninverted) formIt is computed at the factory and hardcoded into 
the ROM 
 
The other CRC is a 16-bit type, generated according to the standardized CRC16-polynomial function x16 + x15 + x2 
+ 1This CRC is used for fast verification 
of a data transfer when writing to or reading from the scratchpad or when 
reading from the PIOsIn contrast to the 8-bit CRC, the 16-bit CRC is always communicated in the inverted formA 
CRC generator inside the DS28E04-100 chip (Figure 18) calculates a new 16-bit CRC, as shown in the command 
flow chart (Figure 9)The bus master compares the CRC value read from the device to the one it calculates from the data, and decides whether to continue with an operation or to reread the portion of the data with the CRC error 
 With the Write Scratchpad command, the CRC is generated by first clearing the CRC generator and then shifting in 
the command code, the target addresses TA1 and TA2, and all the data bytes as they were sent by the bus 
masterThe DS28E04-100 transmits this CRC only if E4:E0 = 11111b, i.e., the end of the scratchpad is hit 
 
With the Read Scratchpad command, the CRC is generated by first clearing the CRC generator and then shifting in 
the Command code, the target addresses TA1 and TA2, the E/ S byte, and the scratchpad data as they were sent 
by the DS28E04-100 The DS28E04-100 transmits this CRC only if the reading continues through the end of the 
data written in the previous write scratchpad sequenceExample: if one writes a single byte to the scratchpad and then reads the scratchpad, one will receive a CRC of the command, TA1, TA2, and the data byte 
 
With the initial pass through the PIO Access Read command flow, the CRC is generated by first clearing the CRC 
generator and then shifting in the command code followed by 32 bytes of PIO pin dataSubsequent passes 
through the command flow generate a 16-bit CRC that is the result of clearing the CRC generator and then shifting in 32 bytes read from the PIO pinsFor more information on generating CRC values, refer to Application Note 27 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
31 of 37  Figure 18CRC -16 Hardware Description and Polynomial  
 
Polynomial = X16 + X15 + X2 + 1
X0X1X2X3X4X5X6X7
X8X9X10X11X12X13X14X15X161st
STAGE2nd
STAGE3rd
STAGE4th
STAGE6th
STAGE5th
STAGE7th
STAGE8th
STAGE
9th
STAGE10th
STAGE11th
STAGE12th
STAGE13th
STAGE14th
STAGE15th
STAGE16th
STAGE
INPUT DATACRC
OUTPUT
 
 
 
COMMAND-SPECIFIC 1 -Wire COMMUNICATION PROTOCOL —LEGEND  
SYMBOL  DESCRIPTION  
RST 1-Wire Reset Pulse generated by master 
PD 1-Wire Presence Pulse generated by slave 
Select  Command and data to satisfy the ROM function protocol 
WS Command "Write Scratchpad" 
RS Command "Read Scratchpad" 
CPS Command "Copy Scratchpad" 
RM Command "Read Memory" 
WREG  Command "Write Register" 
PIOR  Command "PIO Access Read" 
PIOW  Command "PIO Access Write" 
PIOP  Command "PIO Access Pulse" 
RAL Command "Reset Activity Latches" 
TA Target address TA1, TA2 
TA-E/S Target address TA1, TA2 with E/S byte 
<32 – T4:T0 bytes>  Transfer of as many  bytes as needed to reach the end of the scratchpad for a given 
target address 
<data to EOM>  Transfer of as many data bytes as are needed to reach the end of the memory 
<register data>  Data for registers at addresses 223h to 225h, 1 to 3 bytes, depend ing on start address 
CRC16 \ Transfer of an inverted CRC16 
FF loop  Indefinite loop where the master reads FF bytes 
AA loop  Indefinite loop where the master reads AA bytes 
Programming  Data transfer to EEPROM; no activity on the 1 -Wire bus permitted d uring this time 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
32 of 37 COMMAND-SPECIFIC 1 -Wire COMMUNICATION PROTOCOL —COLOR CODES  
Master to slave  Slave to master  Programming  
 
 
 
WRITE SCRATCHPAD (CA NNOT FAIL)  
RST PD Select  WS TA <32 – T4:T0 bytes>  CRC16\  FF loop  
 
 
 
READ SCRATCHPAD (CANNOT FAIL)  
RST PD Select RS TA-E/S <E4:E0 - T4:T0 +1 bytes>  CRC16\  FF loop  
 
 
 
COPY SCRATCHPAD 1 -Wire  POWERED (SUCCESS)  
RST PD Select  CPS TA-E/S wait t PROGMAX  AA loop 
 
COPY SCRATCHPAD (INV ALID ADDRESS OR PF =  1 OR COPY PROTECTED)  
RST PD Select  CPS TA-E/S FF loop  
 
 
 
READ MEMO RY (SUCCESS)  
RST PD Select  RM TA <data to EOM>  FF loop  
 
READ MEMORY (INVALID ADDRESS)  
RST PD Select  RM TA FF loop  
 
 
 
WRITE REGISTER (SUCC ESS)  
RST PD Select  WREG  TA <register data>  FF loop  
 
WRITE REGISTER (INVA LID ADDRESS)  
RST PD Select  WREG  TA FF loop  
 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
33 of 37  
 
PIO ACCESS READ (CAN NOT FAIL)  
RST PD Select  PIOR  <32 bytes PIO data>  CRC16\  
 
  
 
 
 
PIO ACCESS WRITE (SU CCESS)  
RST PD Select  PIOW  <new PIO data>  <inverted new PIO data>  <AAh>  <PIO data>  
 
  
 
PIO ACCESS WRITE ( INVALID DATA BYTE ) 
RST PD Select  PIOW  <new PIO data>  <invalid data byte>  FF loop  
 
 
 
PIO ACCESS PULSE (SU CCESS)  
RST PD Select  PIOP  <selection mask>  <inverted selection mask>  <AAh>  <PIO data>  
 
PIO ACCESS PULSE ( INVALID SELECTION MA SK) 
RST PD Select  PIOP  <selection mask>  <invalid selection mask>  FF loop  
 
 
 
RESET ACTIVITY LATCH ES (CANNOT FAIL)  
RST PD Select  RAL AA loop 
 
 
 
 
 Loop until master sends Reset Pulse  
Loop until master sends Re set Pulse  
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
34 of 37 MEMORY FUNCTION EXAMPLE  
 
Write 5 bytes to memory page 1, starting at address 0021hRead the entire memory and the PIO -related registers 
With only a single DS28E04-100  connected to the bus master, the communication looks like this:  
 
MASTER MODE  DATA (LSB FIRST)  COMMENTS  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX 0Fh Issue “Write Scratchpad” command  
TX 21h TA1, beginning offset = 21h  
TX 00h TA2, address = 0021h 
TX <5 data bytes>  Write 5 bytes of data to scratchpad  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX AAh Issue “Read Scratchpad” command  
RX 21h Read TA1, beginning offset = 21 h 
RX 00h Read TA2, address = 0021h 
RX 05h Read E/S, ending offset = 00101b, AA, PF = 0  
RX <5 data bytes>  Read scratchpad data and verify  
RX <2 bytes CRC16 \> Read CRC to check for data integrity  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX 55h Issue “Copy Scratchpad” command  
TX 21h TA1 
TX 00h TA2  (AUTHORIZATION CODE)  
TX 05h E/S 
---- <1-Wire idle high>  Wait 10ms for the copy function to complete  
RX AAh Read copy status, AAh = success  
TX (Reset)  Reset pu lse 
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX F0h Issue “Read Memory” command  
TX 00h TA1, beginning offset = 00h  
TX 00h TA2, address = 0000h 
RX <550 data bytes>  Read the entire memory  
TX (Reset)  Reset pulse  
RX (Presence)  Prese nce pulse  
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
35 of 37 PIO ACCESS READ EXAMPLE  
 
Read the state of the PIOs 32 times 
With only a single DS28E04-100  connected to the bus master, the communication looks like this:  
 
MASTER MODE  DATA (LSB FIRST)  COMMENTS  
TX (Reset)  Reset pulse  
RX (Presence)  Presence  pulse  
TX CCh Issue “Skip ROM” command  
TX F5h Issue “PIO Access Read” command  
RX <32 data bytes>  Read 32 PIO samples  
RX <2 bytes CRC16 \> Read CRC to check for data integrity  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
The inverted CRC16 is t ransmitted after 32 bytes of PIO data 
 
 
PIO ACCESS WRITE EXA MPLE  
 
Set both PIOs to 0 and then to 1Both PIOs are pulled high to V CC or V PUP by a resistor 
With only a single DS28E04-100  connected to the bus master, the communication looks like this:  
 
MASTER MODE  DATA (LSB FIRST)  COMMENTS  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX 5Ah Issue “PIO Access Write” command  
TX FCh Write new PIO output state  
TX 03h Write inverted new PIO output state  
RX AAh Read  confirmation byte  
RX FCh Read new PIO pin status  
TX FFh Write new PIO output state  
TX 00h Write inverted new PIO output state  
RX AAh Read confirmation byte  
RX FFh Read new PIO pi
n status  
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 
36 of 37 PIO ACCESS PULSE EXAMPLE  
 
Generate a pulse on PIO1Both PIOs are pulled high to V CC by a resistorPOL = 1V CC power is present 
With only a single DS28E04-100  connected to the bus master, the communication looks like this:  
 
MASTER MODE  DATA (LSB FIRST)  COMMENT S 
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
TX CCh Issue “Skip ROM” command  
TX A5h Issue “PIO Access Pulse” command  
TX FEh Write PIO selection mask  
TX 01h Write inverted PIO selection mask  
RX AAh Read confirmation byte  
RX 1111110Xb  Read P IO pin status 1) 
TX (Reset)  Reset pulse  
RX (Presence)  Presence pulse  
1) The "X" indicates the state of PIO0, which is not defined in this example 
 
PACKAGE INFORMATION  
For the latest package outline information and land patterns (footprints), go to www.maxim- ic.com/packages 
Note that a “+”, “#”, or “ -” in the package code indicates RoHS status onlyPackage drawings may show a different 
suffix character, but the drawing pertains to the package regardless of RoHS status 
PACKAGE TYPE  PACKAGE CODE  OUTLINE NO LAND PATTERN NO 
16 SO  S16+1 21-0041  90-0097  
 
 
 
 
 
DS28E04-100: 4096-Bit 1 -Wire Addressable EEPROM with PIO  
 
 37 of 37 
 
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim productNo cir cuit patent licenses are impliedMaxim 
reserves the right to change the circuitry and specifications without notice at any time 
Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408 -737- 7600 
© 2011 Maxim Integrated Products                                                               Maxim is a registered trademark of Maxim Integrated Products, Inc 
 REVISION HISTORY  
REVISION 
DATE  DESCRIPTION  PAGES 
CHANGED  
102704  Initial release  — 
12/11 Changed  the Ordering Information  for lead(Pb) -free product ; updated  the lead 
temperature and soldering temperature; e xtended the s torage temperature 
range 1, 2 
In the Electrical Characteristi cs table  applied Note 19 to the t W0L specification , 
deleted ε from the t W1L specification, increased the data retention time, added 
more details to notes 10, 19 and 20 , and added notes 23, 24 3, 4 
Added Package Information section and Revision History 36, 37 
 
 

LTC7804
1Document FeedbackTYPICAL APPLICATION  FEATURES DESCRIPTIONLow I Q Synchronous Boost Controller 
with Spread Spectrum
The LTC® 7804 is a high performance synchronous boost 
DC/DC switching regulator controller that drives an all 
N-channel power MOSFET stageSynchronous rectifica-
tion increases efficiency, reduces power losses and eases 
thermal requirementsA constant frequency current mode 
architecture allows a phase-lockable switching frequency 
of up to 3MHzThe LTC7804 operates from a wide 4.5V 
to 40V input supply rangeWhen biased from the boost 
converter output , the LTC7804 can operate from an input 
supply as low as 1V after startupThe very low no-load quiescent current extends operating 
runtime in battery powered systemsOPTI-LOOP com -
pensation allows the transient response to be optimized over a wide range of output capacitance and ESR values
The MODE pin selects among Burst Mode operation, pulse-skipping mode, or continuous inductor current 
mode at light loadsThe LTC7804 additionally features spread spectrum oper -
ation which significantly reduces the peak radiated and 
conducted noise on both the input and output supplies, making it easier to comply with electromagnetic interfer -
ence (EMI) standards.APPLICATIONS nSynchronous Operation for Highest Efficiency and Reduced Heat Dissipation
 nWide V IN Range: 4.5V to 40V and Operates Down to 
1V After Start-Up
 nOutput Voltage Up to 40V
 nLow Operating I Q: 14μA
 nSpread Spectrum Operation
 nPass-Thru™/100% Duty Cycle Capability for Synchronous MOSFET
 nRSENSE  or Inductor DCR Current Sensing
 nProgrammable Fixed Frequency (100kHz to 3MHz)
 nPhase-Lockable Frequency (100kHz to 3MHz)
 nSelectable Continuous, Pulse-Skipping, or Low Ripple Burst Mode
® Operation at Light Loads
 nLow Shutdown I Q: 1.2μA
 nThermally Enhanced 16-Pin 3mm × 3mm QFN and MSOP Packages
 nAEC-Q100 Qualified for Automotive Applications
 nAutomotive and T ransportation
 nIndustrial 
 nMilitary/Avionics
 nTelecommunicationsAll registered trademarks and trademarks are the property of their respective ownersProtected 
by U.Spatents, including 5481178, 5705919,5929620, 6144194, 6177787, 6580258Efficiency and Power Loss  
vs Output Current High Efficiency Wide Input Range 375kHz 24V/6A Boost Converter
10µF
×2
0.1µF
2µH
2m/uni03A9
150µF
604k
31.6k
4.7µF
0.1µF
10µF
V
OUT
24V
6A
L TC7804
VBIAS
RUN
ITH
SS
SW
BG
TG
BOOST
SENSE+
V
FB
SENSE–
V
IN
4.5V TO 38V 
EXTV
CC
FREQ
INTV
CC
GND
MODE
PLLIN/SPREAD
V
OUT
 FOLLOWS V
IN
 FOR V IN > 24V
7804 TA01a
220pF
22nF
8.06k
BURST EFFICIENCY
BURST LOSS
V
IN
 = 12V
V
OUT
 = 24V
FIGURE 9 CIRCUIT
Burst Mode OPERATION
OUTPUT CURRENT (A)
0.00001
0.0001
0.001
0.01
0.1
1
10
0
10
20
30
40
50
60
70
80
90
100
0.1
1
10
100
1k
10k
EFFICIENCY (%)
POWER LOSS (mW)
7804 TA01b
LTC7804
2
RevB For more information www.analog.comTABLE OF CONTENTS 
Features  1
Applications  1
T
ypical Application  1
Description
1
Absolute Maximum Ratings  3
Pin Configuration  3
Order Information  4
Electrical Characteristics  5
T
ypical Performance Characteristics  7
Pin Functions  10
Block Diagram  11
Operation
12
Main Control Loop  12
IN
TVCC/EXTV CC Power  12
S
hutdown and Start-Up (RUN, SS Pins)  12
L
ight Load Current Operation : Burst Mode Operation, 
Pulse-Skipping or Forced Continuous  
Mode (MODE Pin)  12
Fr
equency Selection, Spread Spectrum and Phase-
Locked-Loop (FREQ and PLLIN/SPREAD Pins)  .13
O
peration  When V IN > V OUT 14
Operation  at Low Input Voltage  14
BOOS
T Supply Refresh and Internal Charge Pump  .14Applications Information  15
SE
NSE+ and SENSE– Pins  15
L
ow Value Resistor Current Sensing  16
I
nductor DCR Sensing  16
I
nductor Value Calculation  17
I
nductor Core Selection  17
P
ower MOSFET Selection  18
CIN and C OUT Selection  18
S
etting Output Voltage19
RUN Pin  19
So
ft-Start (SS Pin)  20
IN
TVCC Regulators  20
T
opside MOSFET Driver Supply (C B, DB) 21
Ph
ase-Locked Loop and Frequency  
Synchronization  21
Se
tting the Operating Frequency22
Selecting the Light-Load Operating Mode  23
Mi
nimum On-Time Considerations 24
Fault Conditions : Overtemperature Protection  24
E
fficiency Considerations  24
C
hecking Transient Response  25
D
esign Example  25
P
C Board Layout Checklist  26
PC B
oard Layout Debugging  27
T
ypical Applications  28
Package Description  32
Revision History  33
T
ypical Application  34
Related Parts  34
LTC7804
3
RevB For more information www.analog.comABSOLUTE MAXIMUM RATINGS
Bias Input Supply Voltage (V BIAS) −0.3 V to 40V
BOOST  −03V to 46V
SW  −5V to 
40V
RUN −03V to 40V
SENSE+, SENSE−  −0.3 V to 40V
EXTV CC Voltage  −03V to 30V
INTV CC, (BOOST-SW)  −0.3 V to 6V(Note 1)ITH −03V to 2V
SS, FREQ  −03V to 6V
PLLIN/SPREAD, MODE, V FB −0.3 V to 6V
BG, TG  (
Note 8)
Operating Junction Temperature Range (Notes 2, 7)
 LTC78
04E, LT C7804 I −40°
C to 125 °C
 LTC78
04H  −40°C to
 150°C
Storage Temperature Range  −65°
C to 150 °C
PIN CONFIGURATION
1
2345678SS
SENSE
–
SENSE+
VFB
ITH
RUN
FREQ
PLLIN/SPREAD161514131211109SWTGBOOSTBGV
BIAS
EXTV CC
INTV CC
MODETOP VIEW
17
GND
MSE PACKAGE
16-LEAD PLASTIC MSOP
TJMAX  = 125°C, θ JA = 40°C/W , θ JC = 10°C/W
EXPOSED PAD (PIN 17) IS GND, MUST BE SOLDERED TO PCB16151413
5678TOP VIEW
17
GND
UD PACKAGE
16-LEAD (3mm × 3mm) PLASTIC QFN
TJMAX  = 125°C, θ JA = 68°C/W, θ JC = 4.2°C/W
EXPOSED PAD (PIN 17) IS GND, MUST BE SOLDERED TO PCB9101112
4321 TG
SW
SS
SENSE–INTV CC
MODE
PLLIN/SPREADFREQBOOSTBGV
BIAS
EXTV CCSENSE+
VFB
ITH
RUN
LTC7804
4
RevB For more information www.analog.comORDER INFORMATION
LEAD FREE FINISH TAPE AND REEL PART MARKING* PACKAGE DESCRIPTION TEMPERATURE RANGE
LTC7804EMSE#PBF LTC7804EMSE#TRPBF 7804 16-Lead Plastic MSOP –40°C to 125°C
LTC7804IMSE#PBF LTC7804IMSE#TRPBF 7804 16-Lead Plastic MSOP –40°C to 125°C
LTC7804HMSE#PBF LTC7804HMSE#TRPBF 7804 16-Lead Plastic MSOP –40°C to 150°C
LTC7804EUD#PBF LTC7804EUD#TRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 125°C
LTC7804IUD#PBF LTC7804IUD#TRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 125°C
LTC7804HUD#PBF LTC7804HUD#TRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 150°C
AUTOMOTIVE PRODUCTS**
LTC7804EMSE#WPBF LTC7804EMSE#WTRPBF 7804 16-Lead Plastic MSOP –40°C to 125°C
LTC7804IMSE#WPBF LTC7804IMSE#WTRPBF 7804 16-Lead Plastic MSOP –40°C to 125°C
LTC7804HMSE#WPBF LTC7804HMSE#WTRPBF 7804 16-Lead Plastic MSOP –40°C to 150°C
LTC7804EUD#WPBF LTC7804EUD#WTRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 125°C
LTC7804IUD#WPBF LTC7804IUD#WTRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 125°C
LTC7804HUD#WPBF LTC7804HUD#WTRPBF LHHM 16-Lead (3mm × 3mm) Plastic QFN –40°C to 150°C
Contact the factory for parts specified with wider operating temperature ranges*The temperature grade is identified by a label on the shipping container .Tape and reel specificationsSome packages are available in 500 unit reels through designated sales channels with #TRMPBF suffix.**Versions of this part are available with controlled manufacturing to support the quality and reliability requirements of automotive applicationsThese 
models are designated with a #W suffixOnly the automotive grade products shown are available for use in automotive applicationsContact your 
local Analog Devices account representative for specific product ordering information and to obtain the specific Automotive Reliability reports for these models.
LTC7804
5
RevB For more information www.analog.comELECTRICAL CHARACTERISTICS The l denotes the specifications which apply over the specified operating 
junction temperature range, otherwise specifications are for T A = 25°C, V BIAS = 12V, RUN = 12V, EXTV CC = 0V, unless otherwise noted
(Note 2)
SYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
Input Supply
VBIAS Bias Input Supply Operating Range 4.5 40 V
VIN Boost Converter Input Supply Operating Range VBIAS ≥ 4.5V 1 40 V
VOUT Output Voltage Operating Range 40 V
Controller OperationV
FB Regulated Feedback Voltage (Note 3) V BIAS = 4.5V to 40V, 
ITH Voltage = 0.6V to 1.2V 
l 
1.188 
1.2 
1.212 
V
Feedback Current (Note 3) ±5
±50 n
A
Feedback Overvoltage Protection Threshold Measured at V FB Relative to Regulated V FB 7 10 13 %
gm T ransconductance Amplifier g m (Note 3) ITH = 1.2V, Sink/Source = 5μA 2 mmho
VSENSE(MAX) Maximum Current Sense Threshold V FB = 1.1V, V SENSE + = 12V l 45 50 55 mV
ISENSE + I SENSE + Pin Current VSENSE + < 2.9V 
3.2 ≤ V SENSE + ≤ INTV CC −0.5V 
VSENSE + > INTV CC + 0.5V2 
30 
650μA 
μA μA
I
SENSE − SENSE− Pin Current VSENSE − = 12V ±1 μA
Soft-Start Charge Current VSS = 0V 10 12.5 15 µA
RUN Pin ON Threshold VRUN Rising l 1.15 1.2 1.25 V
RUN Pin Hysteresis 100 mV
DC Supply Current (Note 4)
IQ VBIAS Shutdown Current RUN = 0V 1.2 μA
VBIAS Sleep Mode Current VSENSE + < 2.9V, EXTV CC = 0V 14 28 μA 
VSENSE + ≥ 3.2V 
VBIAS Current, EXTV CC = 0V 
VBIAS Current, EXTV CC ≥ 4.8V 
EXTV CC Current, EXTV CC ≥ 4.8V 
SENSE+ Current 
5 
1 4 9 
μA μA μA μA
Pulse-Skipping or Forced Continuous Mode 
V
BIAS or EXTV CC CurrentVFB = 1.25V 2 mA
Gate Drivers
TG or BG On-Resistance Pull-Up 
Pull-Down3.0 1.5Ω Ω
TG or BG T ransition T
ime 
Rise Time Fall Time(Note 5) C
LOAD = 3300pF 
CLOAD = 3300pF 
25 15 
ns ns
TG Off to BG On Delay Bottom Switch-On Delay TimeC
LOAD = 3300pF Each Driver  
15 
ns
BG Off to TG On Delay Synchronous Switch-On Delay TimeC
LOAD = 3300pF Each Driver  
15 
ns
tON(MIN) BG Minimum On-Time (Note 6) 80 ns
Maximum Duty Factor for TG Overvoltage 100 %
Maximum Duty Factor for BG VFREQ = 0V 93 %
LTC7804
6
RevB For more information www.analog.comSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
BOOST Charge Pump Available Output Current VBOOST  = 16V, V SW = 12V, FREQ = 0V, 
Forced Continuous Mode30 65 µA
INTVCC Low Dropout (LDO) Linear Regulator
INTV CC Regulation Point 4.95 5.15 5.35 V
INTV CC Load Regulation ICC = 0mA to 50mA, V BIAS ≥ 6V 
ICC = 0mA to 50mA, VEXTV CC ≥ 6V1 
12 2% %
EXTV
CC LDO Switchover Voltage EXTV CC Rising 4.6 4.7 4.8 V
EXTV CC Switchover Hysteresis 250 mV
UVLO Undervoltage Lockout INTV CC Rising l 4.15 4.25 4.35 V
INTV CC Falling l 3.80 3.90 4.00 V
Spread Spectrum Oscillator and Phase-Locked Loop
fOSC Low Fixed Frequency VFREQ = 0V, PLLIN/SPREAD = 0V 340 375 410 kHz
High Fixed Frequency VFREQ = INTV CC, PLLIN/SPREAD = 0V l 2.0 2.25 2.5 MHz
Programmable Frequency RFREQ = 374kΩ, PLLIN/SPREAD = 0V 
RFREQ = 75kΩ, PLLIN/SPREAD = 0V 
RFREQ = 12.4kΩ, PLLIN/SPREAD = 0V 
450100 
500 
3 
550kHz kHz 
MHz
Synchronizable Frequency Range PLLIN/SPREAD = External Clock
l 0.1 3 MHz
PLLIN Input High Level 
PLLIN Input Low Levell 
l2.2  
0.5V V
Spread Spectrum Frequency Range (Relative to f
OSC)PLLIN/SPREAD = INTV CC 
Minimum Frequency Maximum Frequency 
0 
20 
% %ELECTRICAL CHARACTERISTICS The l denotes the specifications which apply over the specified operating 
junction temperature range, otherwise specifications are for T A = 25°C, V BIAS = 12V, RUN = 12V, EXTV CC = 0V, unless otherwise noted
(Note 2)
Note 1: Stresses beyond those listed under Absolute Maximum Ratings 
may cause permanent damage to the deviceExposure to any Absolute Maximum Rating condition for extended periods may affect device reliability and lifetimeNote 2: The LTC7804 is tested under pulsed load conditions such 
that T
J ≈ TAThe LTC7804E is guaranteed to meet specifications from 
0°C to 85°C junction temperatureSpecifications over the –40°C to 125°C operating junction temperature range are assured by design, characterization and correlation with statistical process controlsThe LTC7804I is guaranteed over the –40°C to 125°C operating junction temperature range and the LTC7804H is guaranteed over the –40°C to 150°C operating junction temperature range and is tested at 150°CHigh junction temperatures degrade operating lifetimes; operating lifetime is derated for junction temperatures greater than 125°C Note that the maximum ambient temperature consistent with these specifications is determined by specific operating conditions in conjunction with board layout, the rated package thermal impedance and other environmental factorsThe junction temperature (T
J, in °C) is calculated from the ambient 
temperature (T A, in °C) and power dissipation (P D, in Watts) according 
to the formula: T J = TA + (P D  JA), where θ JA (in °C/W) is the package 
thermal impedance.Note 3: The LTC7804 is tested in a feedback loop that servos V ITH to a 
specified voltage and measures the resultant V FB
Note 4: Dynamic supply current is higher due to the gate charge being delivered at the switching frequencySee Applications informationNote 5: Rise and fall times are measured using 10% and 90% levelsDelay 
times are measured using 50% levelsNote 6 :
 The minimum on-time condition is specified for an inductor 
peak-to-peak ripple current >40% of I L(MAX)  (See Minimum On-Time 
Considerations in the Applications Information section).Note 7: This IC includes overtemperature protection that is intended to 
protect the device during momentary overload conditionsThe maximum rated junction temperature will be exceeded when this protection is activeContinuous operation above the specified absolute maximum operating junction temperature may impair device reliability or permanently damage the deviceNote 8: Do not apply a voltage or current source to these pinsThey must 
be connected to capacitive loads only, otherwise permanent damage may occur .
LTC7804
7
RevB For more information www.analog.comTYPICAL PERFORMANCE CHARACTERISTICS
Efficiency and Power Loss  
vs Output CurrentEfficiency and Power Loss  vs Output Current Efficiency vs Input Voltage
Load Step Burst Mode Operation Load Step Pulse-Skipping ModeLoad Step Forced Continuous Mode
Inductor Current at Light Load Soft Start-UpRegulated Feedback Voltage  vs Temperature
EFFICIENCY
BURST EFFICIENCY
PULSE–SKIPPING
FCM EFFICIENCY
BURST
LOSS
FCM LOSS
LOSS
PULSE–
SKIPPING
V
IN
 = 12V
V
OUT
 = 24V
FIGURE 9 CIRCUIT
OUTPUT CURRENT (A)
0.001
0.01
0.1
1
10
0
10
20
30
40
50
60
70
80
90
100
1
10
100
1k
10k
100k
EFFICIENCY (%)
POWER LOSS (mW)
7804 G01
BURST EFFICIENCY
BURST LOSS
V
IN
 = 12V
FIGURE 9 CIRCUIT
Burst Mode OPERATION
OUTPUT CURRENT (A)
0.00001
0.0001
0.001
0.01
0.1
1
10
0
10
20
30
40
50
60
70
80
90
100
0.1
1
10
100
1k
10k
EFFICIENCY (%)
POWER LOSS (mW)
vs Output Current
7804 G02
V
OUT
 = 24V
I
LOAD
 = 3A
FIGURE 9 CIRCUIT
V
OUT
 = 24V
INPUT VOL TAGE (V)
0
5
10
15
20
25
93
94
95
96
97
98
99
100
EFFICIENCY (%)
7804 G03
V
IN
 = 12V
V
OUT
 = 24V
LOAD STEP FROM 200mA TO 2.5A
FIGURE 9 CIRCUIT
200µs/DIV
V
OUT
500mV/DIV
INDUCTOR
CURRENT
5A/DIV
LOAD STEP
2A/DIV
7804 G04
V
IN
 = 12V
V
OUT
 = 24V
LOAD STEP FROM 200mA TO 2.5A
FIGURE 9 CIRCUIT
200µs/DIV
V
OUT
500mV/DIV
INDUCTOR
CURRENT
5A/DIV
LOAD STEP
2A/DIV
7804 G05
V
IN
 = 12V
V
OUT
 = 24V
LOAD STEP FROM 200mA TO 2.5A
FIGURE 9 CIRCUIT
200µs/DIV
V
OUT
500mV/DIV
INDUCTOR
CURRENT
5A/DIV
LOAD STEP
2A/DIV
Forced Continuous Mode
7804 G06
5A/DIV
V
IN
 = 12V
V
OUT
 = 24V
I
LOAD
 = 200/uni03BCA
FIGURE 9 CIRCUIT
5µs/DIV
PULSE–
SKIPPING
MODE
Burst Mode
OPERATION
FORCED
CONTINUOUS
MODE
7804 G07
V
OUT
5V/DIV
0V
V
IN
 = 12V
V
OUT
 = 24V
FIGURE 9 CIRCUIT
2ms/DIV
7804 G08
TEMPERATURE (°C)
–55
25
5
35
65
95
125
155
1.188
1.191
1.194
1.197
1.200
1.203
1.206
1.209
1.212
REGULATED FEFEDBACK VOL TAGE (V)
vs Temperature
7804 G09
LTC7804
8
RevB For more information www.analog.comTYPICAL PERFORMANCE CHARACTERISTICS
SS Pin Pull-Up Current  
vs Temperature Shutdown Current vs TemperatureShutdown Current  vs Input Voltage
Quiescent Current vs TemperatureRUN Pin Thresholds  vs TemperatureUndervoltage Lockout Thresholds vs Temperature
INTV
CC Line Regulation INTV CC Line RegulationINTV CC and EXTV CC  
vs Load Curent
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
155
10.0
10.5
11.0
11.5
12.0
12.5
13.0
13.5
14.0
14.5
15.0
SOFT–START CURRENT (µA)
vs Temperature
7804 G10
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
155
0
1
2
3
4
5
6
7
8
9
10
SHUTDOWN CURRENT (µA)
Shutdown Current vs Temperature
7804 G11
V
IN
 = V
BIAS
INPUT VOL TAGE (V)
0
5
10
15
20
25
30
35
40
0
0.5
1.0
1.5
2.0
2.5
3.0
SHUTDOWN CURRENT (µA)
vs Input Voltage
7804 G12
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
1
55
0
5
10
15
20
25
30
35
40
45
50
QUIESCENT CURRENT (µA)
7804 G13
RUN FALLING
RUN RISING
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
155
1.00
1.05
1.10
1.15
1.20
1.25
1.30
RUN PIN VOL TAGE (v)
vs Temperature
7804 G14
INTV
CC
 RISING
INTV
CC
 FALLING
TEMPERATURE (°C)
–55
25
5
35
65
95
125
155
3.0
3.2
3.4
3.6
3.8
4.0
4.2
4.4
4.6
4.8
5.0
INTV
CC
 VOL TAGE (V)
vs Temperature
7804 G15
NO LOAD
INPUT VOL TAGE (V)
0
5
10
15
20
25
30
35
40
4.5
4.6
4.7
4.8
4.9
5.0
5.1
5.2
5.3
INTV
CC
 VOL TAGE (V)
CC
7804 G16
NO LOAD
INPUT VOL TAGE (V)
4.50
4.75
5
5.25
5.50
5.75
6
4.5
4.6
4.7
4.8
4.9
5.0
5.1
5.2
5.3
INTV
CC
 VOL TAGE (V)
CC
7804 G17
EXTV
CC
 = 0V
EXTV
CC
 = 8.5V
EXTV
CC
 = 5V
V
BIAS
 = 12V
LOAD CURRENT (mA)
0
10
20
30
40
50
60
70
80
4.0
4.1
4.2
4.3
4.4
4.5
4.6
4.7
4.8
4.9
5.0
5.1
5.2
5.3
INTV
CC
 VOL TAGE (V)
vs Load Current
7804 G18
LTC7804
9
RevB For more information www.analog.comTYPICAL PERFORMANCE CHARACTERISTICS
EXTV CC Switchover and INTV CC 
Voltage vs TemperatureMaximum Current Sense 
Threshold vs ITH VoltageSENSE Pin Input Current  vs V
SENSE  Voltage
SENSE Pin Input Current  vs TemperatureSENSE Pin Input Current vs I
TH 
VoltageOscillator Frequency  vs Temperature
Charge Pump Charging Current  vs Operating FrequencyCharge Pump Charging Current  vs Switch Voltage Output Voltage Noise Spectrum
INTV
CC
EXTV
CC
 RISING
EXTV
CC
 FALLING
TEMPERATURE (°C)
–55
25
5
35
65
95
125
155
3.8
4.0
4.2
4.4
4.6
4.8
5.0
5.2
5.4
5.6
5.8
INTV
CC
 OR EXTV CC VOL TAGE (V)
Voltages vs Temperature
7804 G19
PULSE–SKIPPING MODE
FORCED CONTINUOUS MODE
Burst Mode
OPERATION
I
TH
 VOL TAGE (V)
0
0.2
0.4
0.6
0.8
1.0
1.2
1.4
–30
–20
–10
0
10
20
30
40
50
60
MAXIMUM CURRENT SENSE VOL TAGE (mV)
Threshold vs I
TH
 Voltage
7804 G20
SENSE
+
 PIN
SENSE
–
 PIN
V
SENSE
 COMMON MODE VOL TAGE (V)
0
5
10
15
20
25
30
35
40
0
50
100
150
200
250
300
350
400
450
500
550
600
650
700
750
800
SENSE CURRENT (µA)
SENSE
7804 G21
SENSE
+
 = 12V
SENSE
–
 PIN
SENSE
+
 < 2.9V
SENSE
+
 = 3.2V
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
155
0
50
100
150
200
250
300
350
400
450
500
550
600
650
700
750
800
SENSE CURRENT (µA)
7804 G22
SENSE
+
 < 2.9V
SENSE
–
 PIN
V
SENSE
 = 12V
SENSE
+
 = 3.2V
I
TH
 VOL TAGE (V)
0
0.2
0.4
0.6
0.8
1.0
1.2
1.4
0
50
100
150
200
250
300
350
400
450
500
550
600
650
700
750
800
SENSE CURRENT (µA)
TH
7804 G23
R
FREQ
 = 374k (100kHz)
R
FREQ  
 = 75k (500kHz)
R
FREQ
 = 12.5k (3MHz)
R
FREQ
 = GND (375kHz)
R
FREQ
 = INTV
CC
  (2.25MHz)
TEMPERATURE (°C)
–55
–25
5
35
65
95
125
155
–5
–4
–3
–2
–1
0
1
2
3
4
5
6
7
CHANGE IN FREQUENCY (%)
7804 G24
T = 25°C
V
BOOST
 – V
SW
 = 4V
T = 155°C
T = –55°C
OPERATING FREQUENCY (kHz)
0
600
1200
1800
2400
3000
30
40
50
60
70
80
90
100
CHARGE PUMP CHARGING CURRENT (µA)
7804 G25
V
SW
 = 12V
V
BOOST
 – V
SW
 = 4V
FREQ = INTV
CC
FREQ = GND
SWITCH VOL TAGE (V)
0
5
10
15
20
25
30
35
40
0
10
20
30
40
50
60
70
80
90
100
CHARGE PUMP CHARGING CURRENT (µA)
vs Switch Voltage
7804 G26
FIGURE 12 CIRCUIT
V
IN
 = 18V , V
OUT
 = 24V
DETECTOR = PEAK–HOLD
RBW = 5.1kHz
PLLIN/SPREAD = GND
PLLIN/SPREAD = INTV
CC
FREQUENCY (MHz)
1
1.5
2
2.5
3
3.5
4
4.5
5
5.5
6
6.5
–100
–90
–80
–70
–60
–50
–40
–30
–20
–10
0
AMPLITUDE (dBm)
7804 G27
LTC7804
10
RevB For more information www.analog.comPIN FUNCTIONS
SS (Pin 1/Pin 3):  Output Soft-Start InputThe LTC7804  
regulates the V FB voltage to the lesser of 1.2V or the voltage 
on the SS pinAn internal 12.5µA pull-up current source is 
connected to this pinA capacitor to ground at this pin sets 
the ramp time to the final regulated output voltageThe ramp 
time is equal to 1ms for every 10nF of capacitanceSENSE– (Pin 2/Pin 4):  The Negative (− ) Input to the 
Differential Current Comparator The ITH pin voltage and controlled offsets between the SENSE
– and SENSE+ pins 
in conjunction with R SENSE  set the current trip thresholdSENSE+ (Pin 3/Pin 5):  The Positive (+) Input to the 
Differential Current Comparator When SENSE+ is greater 
than INTV CC, the SENSE+ pin supplies current to the cur -
rent comparator VFB (Pin 4/Pin 6):  Error Amplifier Feedback InputConnect 
an external resistor divider between the output voltage 
and the V FB pin to set the regulated output voltageITH (Pin 5/Pin 7): Error Amplifier Outputs and Switching Regulator Compensation PointThe current comparator trip point increases with this control voltagePlace com -
pensation components between the ITH pin and GNDRUN (Pin 6/Pin 8) :
 Run Control InputForcing this pin 
below 1.2V disables switching of the corresponding 
controller Forcing this pin below 0.7V shuts down the 
LTC7804, reducing quiescent current to approximately 
1.2µAThis pin can be tied to V IN for always-on operationFREQ (Pin 7/Pin 9):  Frequency Control Pin for the 
Internal VCOConnecting the pin to GND forces the VCO 
to a fixed low frequency of 375kHzConnecting the pin 
to INTV CC forces the VCO to a fixed high frequency of 
2.25MHzFrequencies between 100kHz and 3MHz can 
be programmed using a resistor between FREQ and GND
Minimize the capacitance on this pinPLLIN/SPREAD (Pin 8/Pin 10):  External Synchronization 
Input and Spread Spectrum SelectionWhen an external 
clock is applied to this pin, the phase-locked loop will force 
the rising BG signal to be synchronized with the rising edge 
of the external clockWhen an external clock is present, the 
regulators operate in pulse-skipping mode if it is selected 
by the MODE pin, or in forced continuous mode otherwise
When not synchronizing to an external clock, tie this input to INTV CC to enable spread spectrum dithering of the oscil -
lator or to ground to disable spread spectrum.MODE (Pin 9/Pin 11):  Mode Select InputThis input deter -
mines how the LTC7804 operates at light loadsPulling this 
pin to ground selects Burst Mode operation An internal 
100k resistor to ground also invokes Burst Mode operation 
when the pin is floatingTying this pin to INTV CC forces con -
tinuous inductor current operationTying this pin to INTV CC 
through a 100k resistor selects pulse-skipping operationINTV CC (Pin 10/Pin 12): Output of the Internal 5.15V Low 
Dropout Regulator (LDO)The driver and control circuits 
are powered by this supplyMust be decoupled to GND with a minimum of 4.7μF ceramic or tantalum capacitor EXTV CC (Pin 11/Pin 13):  External Power Input to an Internal 
LDO Connected to INTV CCThis LDO supplies INTV CC power , 
bypassing the internal LDO powered from V BIAS whenever 
EXTV CC is higher than 4.7VSee INTV CC Regulators in the 
Applications Information sectionDo not exceed 30V on 
this pinTie this pin to GND if the EXTV CC LDO is not usedVBIAS (Pin 12/Pin 14): Main Bias Supply PinA bypass 
capacitor should be tied between this pin and GNDIt is normally tied to the input supply V
IN or the output of the 
boost converter BG (Pin 13/Pin 15): High Current Gate Drives for Bottom 
N-Channel MOSFET Voltage swing at this pin is from GND 
to INTV CCBOOST (Pin 14/Pin 16): Bootstrapped Supply to the Top 
Side Floating Driver Connect a capacitor between the 
BOOST and SW pinAlso connect a low-leakage Schottky 
diode between the BOOST and INTV CC pins
TG (Pin 15/Pin 1): High Current Gate Drive for the Top 
N-Channel MOSFET This is the output of floating driver 
with a voltage swing of INTV CC superimposed on the 
switch node voltage SW SW (Pin 16/Pin 2):  Switch Node Connection to the Inductor 
GND (Exposed Pad Pin 17/Exposed Pad Pin 17):  Ground
Connects to the source of the bottom (main) N-channel 
MOSFET and the (− ) terminal(s) of C IN and C OUTAll 
small-signal components and compensation components 
should also connect to this groundThe exposed pad must 
be soldered to the PCB for rated thermal performance.(MSOP/QFN)
LTC7804
11
RevB For more information www.analog.comBLOCK DIAGRAM
SWTOPBOOSTINTV CC
TG
BOTBGINTV CC
7804 FDCHARGE PUMP
SPREAD SPECTRUM
OSCILLATOR
AND PLLTOP ONS
RQQ
SHDN
SLEEP 0.425V
ICMP IR
2mV
SLOPE COMPSENSE–
SENSE+FREQ+–+– +
–
+–+– +–SWITCH
LOGIC
VFB
CC
RC CC21.2V
1.32VITH
SS
+–
CSS12.5µA
SHDNPLLIN/SPREAD
MODE
LDO
EN
INTV CC5.15V100kRUN
VBIAS
EXTV CC
L
DO
EN
4.7V5.15V+–
GNDEA
OV1.2V+–
VIN
CINCB
COUTVOUT
RSENSELDB
LTC7804
12
RevB For more information www.analog.comOPERATION
Main Control Loop
The LTC7804 uses a constant frequency, peak current 
mode step-up architectureDuring normal operation, the 
external bottom MOSFET is turned on when the clock 
sets the RS latch, and is turned off when the main current 
comparator , ICMP , resets the RS latchThe peak induc -
tor current at which ICMP trips and resets the latch is 
controlled by the voltage on the ITH pin, which is the 
output of the error amplifier , EAThe error amplifier com -
pares the output voltage feedback signal at the V FB pin 
(which is generated with an external resistor divider con -
nected across the output voltage, V OUT, to ground) to the 
internal 1.200V reference voltageWhen the load current 
increases, it causes a slight decrease in V FB relative to 
the reference, which causes the EA to increase the ITH 
voltage until the average inductor current matches the 
new load currentAfter the bottom MOSFET is turned off each cycle, the 
top MOSFET is turned on until either the inductor current 
starts to reverse, as indicated by the current comparator IR, or the beginning of the next clock cycleINTV
CC/EXTV CC Power
Power for the top and bottom MOSFET drivers and most 
other internal circuitry is derived from the INTV CC pin
When the EXTV CC pin is tied to a voltage less than 4.7V, 
the V BIAS LDO (low dropout linear regulator) supplies 
5.15V from V BIAS to INTV CCIf EXTV CC is taken above 
4.7V, the V BIAS LDO is turned off and an EXTV CC LDO is 
turned onOnce enabled, the EXTV CC LDO supplies 5.15V  
from EXTV CC to INTV CCUsing the EXTV CC pin allows the 
INTV CC power to be derived from a high efficiency external 
source such as a downstream switching regulator outputShutdown and Start-Up (RUN, SS Pins) 
The LTC7804 can be shut down using the RUN pinPulling 
this pin below 1.1V shuts down the main control loop
Pulling the RUN pin below 0.7V disables the controller and 
most internal circuits, including the INTV CC LDOsIn this 
state, the LTC7804 draws only 1.2μA of quiescent current.NOTE:  Do not apply a heavy load for an extended time 
while the chip is in shutdownThe top MOSFETs are 
turned off during shutdown and the output load may 
cause excessive dissipation in the body diodes 
The RUN pin needs to be externally pulled up or driven 
directly by logicIt can also be implemented as an under -
voltage lockout (UVLO) by connecting it to the output of an 
external resistor divider network off V IN (see Applications 
Information section)The start-up of the controller’ s output voltage V OUT is 
controlled by the voltage on the SS pinWhen the voltage on the SS pin is less than the 1.2V internal reference, the LTC7804 regulates the V
FB voltage to the SS pin voltage 
instead of the 1.2V referenceThis allows the SS pin to 
be used to program a soft-start by connecting an external 
capacitor from the SS pin to GNDAn internal 12.5μA  
pull-up current charges this capacitor creating a voltage ramp on the SS pinAs the SS voltage rises linearly from 0V to 1.2V (and beyond), the output voltage V
OUT rises 
smoothly to its final value
Light Load Current Operation:  Burst Mode Operation, 
Pulse-Skipping or Forced Continuous Mode (MODE Pin)
The LTC7804 can be enabled to enter high efficiency 
Burst Mode operation, constant frequency pulse-skipping 
mode, or forced continuous conduction mode at low load 
currents
To select Burst Mode operation, tie the MODE pin to 
GNDTo select forced continuous operation, tie the 
MODE pin to INTV CCTo select pulse-skipping mode, 
tie the MODE pin to a DC voltage greater than 1.2V and 
less than INTV CC – 1.3VAn internal 100k resistor to 
GND invokes Burst Mode operation when the MODE pin 
is floating and pulse-skipping mode when the MODE pin 
is tied to INTV CC through an external 100k resistor When the controller is enabled for Burst Mode operation, 
the minimum peak current in the inductor is set to approx -
imately 25% of the maximum sense voltage even though 
the voltage on the ITH pin indicates a lower valueIf the average inductor current is higher than the load current, or if V
IN > V OUT, the error amplifier , EA, will decrease the 
voltage on the ITH pinWhen the ITH voltage drops below 
LTC7804
13
RevB For more information www.analog.com0.425V , the internal sleep signal goes high (enabling 
sleep mode) and both external MOSFETs are turned off
The ITH pin is then disconnected from the output of the EA and parked at 0.45VIn the case of V
IN > V OUT, the 
LTC7804 will remain in sleep mode regardless of the load 
current through the body diode of the top MOSFET , which 
could then overheat, as discussed in the Operation When V
IN > V OUT sectionIn sleep mode, much of the internal circuitry is turned off, 
reducing the quiescent current that the LTC7804 draws 
to only 14μA
In sleep mode, the load current is supplied by the output 
capacitor As the output voltage decreases, the EA’s out -
put begins to riseWhen the output voltage drops enough, 
the ITH pin is reconnected to the output of the EA, the 
sleep signal goes low, and the controller resumes normal operation by turning on the bottom external MOSFET on the next cycle of the internal oscillator 
When the controller is enabled for Burst Mode operation, 
the inductor current is not allowed to reverseThe reverse 
current comparator , IR, turns off the top external MOSFET 
just before the inductor current reaches zero, preventing 
it from reversing and going negativeThus, the controller operates in discontinuous operationIn forced continuous operation or clocked by an external 
clock source to use the phase-locked loop, the inductor current is allowed to reverse at light loads or under large transient conditionsThe peak inductor current is deter -
mined by the voltage on the ITH pin, just as in normal 
operationIn this mode, the efficiency at light loads is 
lower than in Burst Mode operationHowever , continuous 
operation has the advantage of lower output voltage ripple 
and less interference to audio circuitryIn forced continu -
ous mode, the inductor current ripple is independent of load currentWhen the MODE pin is connected for pulse-skipping mode, the LTC7804 operates in PWM pulse-skipping 
mode at light loadsIn this mode, constant frequency 
operation is maintained down to approximately 1% of 
designed maximum output currentAt very light loads, the 
current comparator , ICMP , may remain tripped for several cycles and force the external bottom MOSFET to stay off for the same number of cycles (i.e., skipping pulses)The 
inductor current is not allowed to reverse (discontinuous operation)This mode, like forced continuous operation, exhibits low output ripple as well as low audio noise and 
reduced RF interference as compared to Burst Mode 
operationIt provides higher low current efficiency than forced continuous mode, but not nearly as high as Burst Mode operationUnlike forced continuous mode and pulse-skipping mode, 
Burst Mode cannot be synchronized to an external clockTherefore, if Burst Mode is selected and PLLIN/SPREAD pin is clocked to use the phase-locked loop, the LTC7804 switches from Burst Mode to forced continuous modeFrequency Selection, Spread Spectrum and Phase-
Locked-Loop (FREQ and PLLIN/SPREAD Pins)
The selection of switching frequency is a trade-off between 
efficiency and component sizeLow frequency opera -
tion increases efficiency by reducing MOSFET switching 
losses, but requires larger inductance and/or capacitance 
to maintain low output ripple voltageThe free running switching frequency of the LTC7804 is 
selected using the FREQ pinIf the PLLIN/SPREAD pin is not being driven by an external clock source, the FREQ pin can be tied to GND, tied to INTV
CC or programmed 
through an external resistor Tying FREQ to GND selects 
375kHz while tying FREQ to INTV CC selects 2.25MHz
Placing a resistor between FREQ and GND allows the fre
 -
quency to be programmed between 100kHz and 3MHz, as shown in Figure 6Switching regulators can be particularly troublesome for applications where electromagnetic interference 
(EMI) is a concernTo improve EMI, the LTC7804 can 
operate in spread spectrum mode, which is enabled by tying the PLLIN/SPREAD pin to INTV
CCThis feature var -
ies the switching frequency with typical boundaries of 
0% to +20% of the frequency set by the FREQ pinA phase-locked loop (PLL) is available on the LTC7804 
to synchronize the internal oscillator to an external clock source that is connected to the PLLIN/SPREAD pinThe 
LTC7804’ s phase detector (PFD) and low pass filter adjust 
the voltage) of the VCO input to align the turn-on of the OPERATION
LTC7804
14
RevB For more information www.analog.comcontroller’s external bottom MOSFET to the rising edge 
of the synchronizing signalThe VCO input voltage is prebiased to the free running 
frequency set by the FREQ pin before the external clock is appliedIf prebiased near the external clock frequency, the PLL loop only needs to make slight changes to the VCO input in order to synchronize the rising edge of the external clock to the rising edge of BGFor more rapid lock-in to the external clock, use the FREQ pin to set the internal oscillator to approximately the frequency of the external clockThe LTC7804’s PLL is guaranteed to lock to an external clock source whose frequency is between 100kHz and 3MHz
The PLLIN/SPREAD pin is TTL compatible with thresholds 
of 1.6V (rising) and 1.1V (falling) and is guaranteed to 
operate with a clock signal swing of 0.5V to 2.5VOperation When V IN > V OUT
When the input voltage V IN rises above the regulated V OUT 
voltage, the boost controller behaves differently depend -
ing on the mode, inductor current and V IN voltageWhen 
VIN exceeds the regulated V OUT in forced continuous 
mode, the loop works to keep the top MOSFET on con -
tinuouslyAn internal charge pump delivers current to 
the boost capacitor from the BOOST pin to maintain a 
sufficiently high TG voltage
If VIN is between 100% and 110% of the regulated V OUT 
voltage and pulse-skipping mode is selected, TG turns 
on if the inductor current rises above approximately 3% 
of the programmed current limitIf Burst Mode opera -
tion is selected, TG remains off regardless of the inductor 
currentIf VOUT is above 110% of the regulated V OUT voltage 
setpoint in forced continuous or pulse-skipping mode, 
the controller turns on TG continuously regardless of the 
inductor currentNote that a rising V IN must exceed the 
110% threshold by an offset voltage equal to the body 
diode of the high-side MOSFET In Burst Mode, the con -
troller also attempts to turn on TG when V OUT exceeds 
the 110% thresholdHowever , the internal charge pump is disabled if the chip is asleep due to burst mode opera -
tionWith the charge pump off, the boost capacitor may discharge, resulting in the TG voltage being insufficient 
to keep the top MOSFET completely onTo prevent exces -
sive power dissipation across the body diode of the top MOSFET in this situation, the chip can be switched over to forced continuous or pulse-skipping mode to enable the charge pump, or a Schottky diode can also be placed in parallel to the top MOSFET Operation at Low Input Voltage
The LTC7804 features a rail-to-rail current comparator 
which functions down to zero voltsThe minimum boost 
converter input voltage is therefore determined by the 
practical limitations of the boost converter architecture 
Since the input voltage could be lower than the 4.5V  VBIAS 
limit, V BIAS can be connected to the output of the boost 
controller , as illustrated in the typical application circuit 
in Figure 11This allows the boost controller to handle 
very low input voltage transients while maintaining output 
voltage regulation
BOOST Supply Refresh and Internal Charge Pump
The top MOSFET driver is biased from the floating boot -
strap capacitor , C B, which normally recharges during each 
cycle through an external low-leakage Schottky or PN 
Junction diode, D B, when the bottom MOSFET turns on
There are two considerations to keep the BOOST supply 
at the required bias levelDuring start-up, if the bottom MOSFET is not turned on within 100µs after UVLO goes low, the bottom MOSFET will be forced to turn on for a cumulative on-time of ~400nsThis forced refresh gener -
ates enough BOOST-SW voltage to allow the top MOSFET 
to be fully enhanced instead of waiting for the initial few 
cycles to charge the bootstrap capacitor , C BThere is also 
an internal charge pump that keeps the required bias on BOOST The charge pump always operates in both forced 
continuous mode and pulse-skipping modeIn Burst 
Mode operation, the charge pump is turned off during 
sleep and enabled when the chip wakes upThe internal charge pump can normally supply a charging current of 65µA.OPERATION
LTC7804
15
RevB For more information www.analog.comAPPLICATIONS INFORMATION
The Typical Application on the first page is a basic 
LTC7804 application circuitLTC7804 can be config -
ured to use either DCR (inductor resistance) sensing or 
low value resistor sensingThe choice between the two 
current sensing schemes is largely a design trade-off 
between cost, power consumption and accuracyDCR 
sensing is becoming popular because it saves expensive 
current sensing resistors and is more power efficient, 
especially in high current and lower frequency applica -
tionsHowever , current sensing resistors provide the 
most accurate current limits for the controller Other exter -
nal component selection is driven by the load require-
ment, and begins with the selection of R SENSE  (if R SENSE  
is used) and inductor valueNext, the power MOSFETs 
and Schottky diodes are selectedFinally, input and output 
capacitors are selectedSENSE+ and SENSE– Pins
The SENSE+ and SENSE– pins are the inputs to the cur -
rent comparatorsThe common mode voltage range on 
these pins is 0V
 to 40V (abs max), enabling the LTC7804 
to operate from input voltages up to a maximum of 40VThe SENSE– pin is high impedance drawing less 
than ≈±1μAThis high impedance allows the current com -
parators to be used in inductor DCR sensingThe impedance of the SENSE+ pin changes depending on 
the common mode voltageWhen SENSE+ is less than 
2.9V, it is relatively high impedance, drawing about 2μA
When SENSE+ is greater than 3.2V but is less than INTV CC 
– 0.5V, the pin draws about 30μA to bias internal circuitry
When SENSE+ is above INTV CC + 0.5V, a higher current 
(~650μA) flows into the pinBetween INTV CC – 0.5V and 
INTV CC + 0.5V, the current transitions from the smaller 
current to the higher currentFilter components mutual to the sense lines should be 
placed close to the LTC7804, and the sense lines should 
run close together to a Kelvin connection underneath the current sense element (shown in Figure 1)Sensing cur -
rent elsewhere can effectively add parasitic inductance 
and capacitance to the current sense element, degrading 
the information at the sense terminals and making the 
programmed current limit unpredictableIf inductor DCR sensing is used (Figure 2b), sense resistor R1 should be placed close to the switching node, to prevent noise from coupling into sensitive small-signal nodesThe maximum current limit threshold voltage of the cur -
rent comparator is programmed to be 50mV
Figure 1Sense Lines Placement with Inductor or Sense ResistorVINTO SENSE FILTER,
NEXT TO THE CONTROLLER
INDUCTOR OR R SENSE7804 F01
(2b) Using the Inductor DCR to Sense Current
Figure 2Current Sensing Methods(2a) Using a Resistor to Sense CurrentVIN
VOUT
7804 F02aTG
SW
BGLTC7804
BOOSTINTV CCSENSE+
SENSE–VBIAS
GNDRSENSE
ESLSENSE RESISTOR WITH 
PARASITIC INDUCTANCER
F  CF = ESL/R SENSE
POLE-ZERO CANCELLATION.CF
RF
PLACE R F AND C F 
NEAR SENSE PINSTG
SW
BGINDUCTORDCR
LLTC7804
BOOSTSENSE+
SENSE–R2 C1VBIAS VIN
VOUT
PLACE C1 NEAR SENSE PINSGND
7804 F02b
(R1||R2)  C1 = L
DCRRSENSE(EQ)  = DCR  R2
R1 + 
R2R1INTV CC
LTC7804
16
RevB For more information www.analog.comAPPLICATIONS INFORMATION
Low Value Resistor Current Sensing
A typical sensing circuit using a discrete resistor is shown 
in Figure 2aR SENSE  is chosen based on the required out -
put currentThe current comparator has a maximum threshold 
VSENSE(MAX)  of 50mVThe current comparator threshold 
voltage sets the peak of the inductor current, yielding a 
maximum average inductor current, I L(MAX) , equal to the 
peak value less half the peak-to-peak ripple current, ∆I L
To calculate the sense resistor value, use the equation:
 RSENSE =VSENSE(MAX)
IL(MAX) +ΔIL
2
The actual value of I L(MAX)  depends on the required output 
current I OUT(MAX)  and can be calculated using:
 IL(MAX) =IOUT(MAX) VOUT
VIN⎛
⎝⎜⎞
⎠⎟
To ensure that the application will deliver full load cur -
rent over the full operating temperature range, choose 
the minimum value for V SENSE(MAX)  in the Electrical 
Characteristics table and account for tolerances in switch -
ing frequency, inductance, and R SENSE  resistance, as well 
as applicable voltage rangesTo avoid potential jitter or instability due to PCB noise cou-
pling into the current sense signal, the AC current sensing 
ripple of ∆VSENSE  = ∆IL  RSENSE  should also be checked to 
ensure a good signal-to-noise ratioIn general, for a rea -
sonably good PCB layout, a target V SENSE  AC ripple range 
of 10mV to 20mV at 50% duty cycle is recommended for 
both R SENSE  and DCR sensing applicationsThe parasitic inductance (ESL) of the sense resistor intro -
duces significant error in the current sense signal, par -
ticularly for lower inductor value (< 3µH ) or higher current 
(> 5A) applicationsThis error may be compensated for 
with an RC filter into the sense pins as shown in Figure  2a 
Set the RC filter time constant R F  CF = ESL/R SENSE  for 
optimal cancellation of the ESLSurface mount sense 
resistors in low ESL wide footprint geometries are rec -
ommended to minimize this error If not specified on the manufacturer ’ 
s data sheet, the ESL can be approximated as 0.4nH for a resistor with a 1206 footprint and 0.2nH for a 1225 footprintInductor DCR Sensing
For applications requiring the highest possible efficiency 
at high load currents, the LTC7804 is capable of sensing the voltage drop across the inductor DCR, as shown in Figure 2bThe DCR of the inductor represents the small amount of DC resistance of the copper wire, which can 
be less than 1mΩ for today’ s low value, high current 
inductorsIn a high current application requiring such 
an inductor , power loss through a sense resistor would 
cost several points of efficiency compared to inductor 
DCR sensingIf the external (R1||R2)  C1 time constant is chosen to 
be exactly equal to the L/DCR time constant, the voltage 
drop across the external capacitor is equal to the drop 
across the inductor DCR multiplied by R2/(R1 + R2)R2 scales the voltage across the sense terminals for appli -
cations where the DCR is greater than the target sense 
resistor valueTo properly dimension the external filter 
components, the DCR of the inductor must be knownIt can be measured using a good RLC meter , but the DCR 
tolerance is not always the same and varies with tempera -
ture; consult the manufacturers’ data sheets for detailed informationUsing the inductor ripple current value from the Inductor 
Value Calculation section, the target sense resistor value is:
 RSENSE ≤VSENSE(MAX)
IL(MAX) +ΔIL
2
To ensure that the application will deliver full load cur -
rent over the full operating temperature range, choose the 
minimum value for the maximum current sense threshold 
VSENSE(MAX)  in the Electrical Characteristics tableNext, determine the DCR of the inductor When provided, 
use the manufacturer’s maximum value, usually given at 20°CIncrease this value to account for the temperature coefficient of copper resistance, which is approximately 0.4%/°CA conservative value for T
L(MAX)  is 100°C.
LTC7804
17
RevB For more information www.analog.comTo scale the maximum inductor DCR to the desired sense 
resistor value (RD), use the divider ratio:
 RD=RSENSE(EQUIV)
DCRMAXat TL(MAX)
C1 is usually selected to be in the range of 0.1μF to 
0.47μFThis forces R1 || R2 to around 2k, reducing error 
that might have been caused by the SENSE− pin’s ±1μA 
currentThe target equivalent resistance R1 || R2 is calculated 
from the nominal inductance, C1 value, and DCR:
 R1||R2 =L
DCR at 20°C( )  C1
The sense resistor values are:
 R1=R1||R2
RD; R2=R1 RD
1– RD
The maximum power loss in R1 is related to duty cycle, and will occur in continuous mode at V
IN = 1/2V OUT:
 PLOSS_R1 =VOUT– VIN ( )  VIN
R1
Ensure that R1 has a power rating higher than this valueIf high efficiency is necessary at light loads, consider this power loss when deciding whether to use DCR sensing 
or sense resistorsLight load power loss can be mod -
estly higher with a DCR network than with a sense resis-
tor , due to the extra switching losses incurred through 
R1However , DCR sensing eliminates a sense resistor , 
reduces conduction losses and provides higher efficiency 
at heavy loadsPeak efficiency is about the same with 
either methodInductor Value Calculation
The operating frequency and inductor selection are inter -
related in that higher operating frequencies allow the use 
of smaller inductor and capacitor valuesSo why would anyone ever 
choose to operate at lower frequencies with 
larger components?  The answer is efficiencyA higher 
frequency generally results in lower efficiency because of MOSFET switching and gate charge lossesIn addi -
tion to this basic trade-off, the effect of inductor value 
on ripple current and low current operation must also be consideredThe maximum average inductor current in continuous 
conduction mode is equal to the maximum average out -
put current multiplied by a factor of V OUT/VIN, or I L(MAX)  
= IOUT(MAX) VOUT/VINBe aware that the maximum out -
put current decreases with decreasing V INThe choice of 
IL(MAX)  therefore depends on the maximum load current 
for a regulated V OUT at the minimum normal operating 
VINIf the load current limit for a given V IN is exceeded, 
VOUT will decrease until the I L(MAX)  = IOUT(MAX) VOUT/VIN 
equation is satisfied Additionally, when the output is in 
overvoltage (V IN >VOUT), the top switch is on continuously 
and the maximum load current is equal to I L(MAX) The 
inductor ripple current ∆IL for a boost regulator is:
 ΔIL=1
f LVIN1–VIN
VOUT⎛
⎝⎜⎞
⎠⎟
Accepting larger values of ∆I L allows the use of low induc -
tances, but results in higher output voltage ripple and 
greater core lossesA reasonable starting point for set -
ting ripple current is ∆I L = 0.3 I L(MAX) The maximum ∆I L 
occurs at V IN = 1/2V OUTThe inductor value also has secondary effectsThe tran -
sition to Burst Mode operation begins when the average 
inductor current required results in a 
peak current below 
25% of the current limit determined by R SENSE Lower 
inductor values (higher ∆I L) will cause this to occur at 
lower load currents, which can cause a dip in efficiency in 
the upper range of low current operationIn Burst Mode operation, lower inductance values will cause the burst frequency to decrease
Inductor Core Selection
Once the value for L is known, the type of inductor must 
be selectedHigh efficiency converters generally cannot 
afford the core loss found in low cost powdered iron cores, 
forcing the use of more expensive ferrite or molypermal-
loy coresActual core loss is independent of core size for a 
fixed inductor value, but it is very dependent on inductance APPLICATIONS INFORMATION
LTC7804
18
RevB For more information www.analog.comvalue selectedAs inductance increases, core losses go 
downUnfortunately, increased inductance requires more 
turns of wire and therefore copper losses will increaseFerrite designs have very low core loss and are preferred 
for high switching frequencies, so design goals can con -
centrate on 
copper loss and preventing saturationFerrite 
core material saturates hard, which means that induc -
tance collapses abruptly when the peak design current is exceededThis results in an abrupt increase in inductor ripple current and consequent output voltage rippleDo 
not allow the core to saturate! The inductor saturation 
design margin should account for the tolerance and tem-perature effects on the saturation currentPower MOSFET Selection
T wo external power MOSFETs must be selected for the 
LTC7804 controller: one N-channel MOSFET for the bot-
tom (main) switch, and one N-channel MOSFET for the top (synchronous) switchThe peak-to-peak drive levels are set by the INTV CC 
voltageThis voltage is typically 5.15V  during start-up 
(see EXTV CC Pin Connection)Consequently, logic-level 
threshold MOSFETs must be used in most applications
Pay close attention to the BV DSS specification for the 
MOSFETs as wellSelection criteria for the power MOSFETs include the 
onresistance, R DS(ON) , Miller capacitance, C MILLER , input 
voltage and maximum output currentMiller capacitance, 
CMILLER , can be approximated from the gate charge curve 
usually provided on the MOSFET manufacturers’  data 
sheetC MILLER  is equal to the increase in gate charge 
along the horizontal axis while the curve is approximately 
flat divided by the specified change in V DSThis result is 
then multiplied by the ratio of the application applied V DS 
to the gate charge curve specified V DSWhen the IC is 
operating in continuous mode the duty cycles for the top and bottom MOSFETs are given by:
 Main Switch Duty Cycle = VOUT– VIN
VOUT
Synchronous Switch Duty Cycle = VIN
VOUTThe MOSFET power dissipations at maximum output cur -
rent are given by:
PMAIN=VOUT– VIN ( ) VOUT
VIN2 IOUT(MAX)( )2 1+δ ( )
RDS(ON) +VOUT3
VIN⎛
⎝⎜⎞
⎠⎟IOUT(MAX)
2⎛
⎝⎜⎞
⎠⎟
RDR+RG ( ) CMILLER( ) 1
VINTVCC−VTHMIN+1
VTHMIN⎛
⎝⎜⎞
⎠⎟ f
PSYNC=VOUT
VINIOUT(MAX)( )21+δ ( ) RDS(ON)
where δ is the temperature dependency of R DS(ON)  
(δ ≈ 0.005/°C), R G is the internal gate resistance of the 
MOSFET and R DR is the effective driver resistance at the 
MOSFET’ s Miller threshold voltage (R DR ≈ 2Ω)V THMIN  is 
the typical MOSFET minimum threshold voltageBoth MOSFETs have I2R losses while the bottom N-channel 
equation includes an additional term for transition losses, 
which are highest at high output voltagesFor V OUT < 
20V and moderate switching frequencies, the high current 
efficiency generally improves with larger MOSFETs, while 
for V OUT > 20V the transition losses rapidly increase to the 
point that the use of a higher R DS(ON)  device with lower 
CMILLER  actually provides higher efficiencyThe synchro -
nous MOSFET losses are greatest at high output voltage 
when the bottom switch duty factor is low or during a 
short-circuit when the synchronous switch is on close to 
100% of the periodCIN and C OUT Selection
The input ripple current in a boost converter is relatively 
low (compared to the output ripple current) because this current is continuousThe boost input capacitor C
IN volt-
age rating should comfortably exceed the maximum input 
voltageAlthough ceramic capacitors can be relatively 
tolerant of overvoltage conditions, aluminum electrolytic capacitors are notBe sure to characterize the input volt -
age for any possible overvoltage transients that could 
apply excess stress to the input capacitors.APPLICATIONS INFORMATION
LTC7804
19
RevB For more information www.analog.comThe value of C IN is a function of the source impedance, and 
in general, the higher the source impedance, the higher 
the required input capacitanceThe required amount of 
input capacitance is also greatly affected by the duty cycle
High output current applications that also experience high 
duty cycles can place great demands on the input supply, both in terms of DC current and ripple current
The output current in a boost converter is discontinu -
ous, so C OUT should be selected to meet output voltage 
ripple requirementsThe effects of ESR (equivalent series 
resistance) and the bulk capacitance must be considered 
when choosing the right capacitor for a given output 
ripple voltageThe peak-to-peak ripple due to charging 
and discharging the bulk capacitance of C OUT is given by:
 VRIPPLE =IOUT(MAX)  VOUT– VIN(MIN) ( )
COUT VOUT f V
The ripple due to the voltage drop across the ESR is 
given by:
 ∆VESR = IL(MAX) +1
2∆IL⎛
⎝⎜⎞
⎠⎟ESR
Multiple capacitors placed in parallel may be needed to 
meet the ESR and RMS current handling requirementsDry tantalum, special polymer , aluminum electrolytic and 
ceramic capacitors are all available in surface mount packagesCeramic capacitors have excellent low ESR 
characteristics but can have a high voltage coefficient
Capacitors are now available with low ESR and high ripple 
current ratings such as OS-CON and POSCAP Setting Output Voltage
The LTC7804 output voltage is set by an external feed -
back resistor divider carefully placed across the output, 
as shown in Figure 3The regulated output voltage is 
determined by:
 VOUT=1.2V 1 +RB
RA⎛
⎝⎜⎞
⎠⎟
To improve the frequency response, a feedforward capaci-
tor , C FF, may be usedGreat care should be taken to route APPLICATIONS INFORMATION
Figure 3Setting Output Voltage L TC7804
VFBVOUT
RB CFF
RA
7804 F03
Figure 4Using the RUN Pin as a UVLOL TC7804
RUNVIN
RB
RA
7804 F04the V FB line away from noise sources, such as the inductor 
or the SW lineRUN Pin
The LTC7804 is enabled using the RUN pinIt has a rising 
threshold of 1.2V with 100mV of hysteresisPulling the 
RUN pin below 1.1V shuts down the main control loop
Pulling it below 0.7V disables the controller and most 
internal circuits, including the INTV CC LDOsIn this state, 
the LTC7804 draws only 1.2μA of quiescent currentThe RUN pin is high impedance and must be externally 
pulled up/down or driven directly by logicThe RUN pin 
can tolerate up to 40V (abs max), so it can be conveniently 
tied to V IN in always-on applications where the controller 
is enabled continuously and never shut downDo not 
float the RUN pinThe RUN pin can be configured as a UVLO by connecting 
it to the output of an external resistor divider network off V
IN, as shown in Figure 4The rising and falling UVLO thresholds are calculated 
using the RUN pin thresholds:
 VUVLO(RISING) =1.2V 1 +RB
RA⎛
⎝⎜⎞
⎠⎟
VUVLO(FALLING) =1.1V 1 +RB
RA⎛
⎝⎜⎞
⎠⎟
LTC7804
20
RevB For more information www.analog.comthe EXTV CC LDO regulate INTV CC to 5.15VEach of these 
can supply a peak current of at least 50mA and must be 
bypassed to ground with a minimum of 2.2μF ceramic 
capacitor , placed as close as possible to the pinNo mat -
ter what type of bulk capacitor is used, an additional 1μF 
ceramic capacitor placed directly adjacent to the INT VCC 
and GND pins is highly recommended to supply the high 
frequency transient currents required by the MOSFET 
gate driversHigh input voltage applications in which large MOSFETs 
are being driven at high frequencies may cause the maxi -
mum junction temperature rating for the LTC7804 to be 
exceededThe INTV CC current, which is dominated by 
the gate charge current, may be supplied by either the 
VBIAS LDO or the EXTV CC LDOWhen the voltage on the 
EXTV CC pin is less than 4.7V, the V BIAS LDO is enabled
Power dissipation for the IC in this case is highest and 
is equal to V BIAS  IINTVCC The gate charge current is 
dependent on operating frequency as discussed in the 
Efficiency Considerations sectionThe junction tempera -
ture can be estimated by using the equations given in 
Note 2 of the Electrical CharacteristicsFor example, the LTC7804 INTV
CC current is limited to less than 20mA in 
the QFN package from a 40V supply when not using the EXTV
CC supply at a 70°C ambient temperature:  
 TJ = 70°C + (20mA)(40V)(68°C/W for QFN) = 125°C 
In the MSOP package, the INTV CC current is limited to less 
than 34mA from a 40V supply:
 TJ = 70°C + (34mA)(40V)(40°C/W for MSOP) = 125°C 
To prevent the maximum junction temperature fr
om being 
exceeded, the input supply current must be checked while 
operating in forced continuous mode (MODE = INTV CC) 
at maximum V BIASWhen the voltage applied to EXTV CC rises above 4.7V, the 
VBIAS LDO is turned off and the EXTV CC LDO is enabled
The EXTV CC LDO remains on as long as the voltage applied 
to EXTV CC remains above 4.5VThe EXTV CC LDO attempts 
to regulate the INTV CC voltage to 5.15V, so while EXTV CC 
is less than 5.15V, the LDO is in dropout and the INTV CC 
voltage is approximately equal to EXTV CCWhen EXTV CC 
is greater than 5.15V, up to an absolute maximum of 30V, 
INTV CC is regulated to 5.15V.APPLICATIONS INFORMATION
Figure 5Using the SS Pin to Program Soft-StartL TC7804
SS
CSS
GND
7804 F05The current that flows through the R A−RB divider directly 
adds to the shutdown, sleep, and active current of the 
LTC7804, and care should be taken to minimize the impact 
of this current on the overall efficiency of the application circuitResistor Values in the MΩ range may be required to keep the impact on quiescent shutdown and sleep cur -
rents lowFor applications that do not require a precise UVLO the 
RUN pin can be tied to V INIn this configuration, the UVLO 
threshold is limited to the internal INTV CC UVLO threshold 
as shown in the Electrical Characteristics tableSoft-Start (SS Pin)
The start-up of V OUT is controlled by the voltage on the 
SS pinWhen the voltage on the SS pin is less than the 
internal 1.2V reference, the LTC7804 regulates the V FB 
pin voltage to the voltage on the SS pin instead of 1.2VSoft-start is enabled by simply connecting a capacitor 
from the SS pin to ground, as shown in Figure 5An inter -
nal 12.5μA current source charges the capacitor , provid -
ing a linear ramping voltage at the SS pinThe LTC7804 
will regulate the V FB pin (and hence V OUT) according to 
the voltage on the SS pin, allowing V OUT to rise smoothly 
to its final regulated valueThe total soft-start time will be approximately:
 tSS=CSS1.2V
12.5µA
INTV CC Regulators
The LTC7804 features two separate internal P-channel 
low dropout linear regulators (LDOs) that supply power 
at the INTV CC pin from either the V BIAS supply pin or 
the EXTV CC pin depending on the connection of the 
EXTV CC pinINTV CC powers the gate drivers and much 
of the LTC7804 ’s internal circuitryThe V BIAS LDO and 
LTC7804
21
RevB For more information www.analog.comSignificant thermal gains can be realized by powering 
INTV CC from an external supply, and efficiency is also 
improved if the external supply is derived from another 
switching regulator This is accomplished by tying the 
EXTV CC pin directly to an external supply that is greater 
than the INTV CC regulation pointTying the EXTV CC pin to an 8.5V supply reduces the junc -
tion temperature in the previous examples from 125°C 
to 82°C:
 TJ = 70°C + (20mA)(8.5V)(68°C/W) = 82°C 
and from 125°C to 82°C in an MSOP package
 TJ = 70°C + (34mA)(8.5V)(40°C/W) = 82°C 
The following list summarizes the three possible connec -
tions for EXTV CC:
1EXT
VCC GroundedThis will cause INTV CC to be pow -
ered from the internal 5.15V regulator resulting in an 
efficiency penalty of up to 10% at high input voltages2EXTV CC Connected Directly to V INThis can be used 
if VBIAS is tied to V OUT and the maximum regulator 
input voltage is 30V or lessThis approach allows the 
regulator to ride through very low input voltage con -
ditions (V IN<4.5V) and provides significant thermal 
benefit when V IN > 4.7V3EXT V CC Connected to an External SupplyThis can 
be used if an external supply compatible with the 
MOSFET gate drive requirements is available in the 
5V to 30V rangeThe supply may be higher or lower than V
BIAS, however , a lower EXTV CC voltage results 
in higher efficiencyTopside MOSFET Driver Supply (C B, DB)
An external bootstrap capacitor C B connected to the 
BOOST pin supplies the gate drive voltage for the topside MOSFET Capacitor C
B in the Block Diagram is charged 
though external diode D B from INTV CC when the SW pin 
is lowWhen the topside MOSFET is to be turned on, the driver places the C
B voltage across the gate and source 
of the desired MOSFET This enhances the MOSFET and 
turns on the topside switchFor typical applications, a 
suitable value of C B is in the 0.1µF to 0.47µF rangeThe 
switch node voltage, SW , rises to V OUT and the BOOST pin followsWith the topside MOSFET on, the boost voltage 
is above the output voltage:  VBOOST = VOUT + VINTVCC The 
value of the boost capacitor C B needs to be 100 times that 
of the total input capacitance of the topside MOSFET(s)
For typical applications, a suitable value of C B is in the 
0.1µF to 0.47µF rangeThe reverse breakdown of the 
external diode D B must be greater than V OUT(MAX) The external diode D B can be a Schottky diode or silicon 
diode, but in either case it should have low leakage and fast recoveryPay close attention to the reverse leakage at high temperatures, where it generally increases sub -
stantiallyA leaky diode not only increases the quiescent 
current of the boost converter , but it can create a cur -
rent path from the BOOST pin to INTV CCThis will cause 
INTV CC to rise if the diode leakage exceeds the current 
consumption on INTV CC, which is primarily a concern in 
Burst Mode operation where the load on INTV CC can be 
very smallThere is an internal voltage clamp on INTV CC 
that prevents the INTV CC voltage from running away, but 
this clamp should be regarded as a failsafe only
The topside MOSFET driver includes an internal charge 
pump that delivers current to the bootstrap capacitor from 
the BOOST pinThis charge current maintains the bias 
voltage required to keep the top MOSFET on continuously 
during pass-through/overvoltage conditionsIn applica-
tions supporting pass-through or overvoltage conditions, 
the Schottky or PN-junction diode selected for the topside 
driver should have a reverse leakage less than the avail -
able output current the charge pump can supplyCurves 
displaying the available charge pump current under dif-
ferent operating conditions can be found in the Typical 
Performance Characteristics section
Phase-Locked Loop and Frequency Synchronization 
The LTC7804 has an internal phase-locked loop (PLL) com -
prised of a phase frequency detector , a lowpass filter , and a 
voltage-controlled oscillator (VCO)This allows the turn-on 
of the bottom MOSFET to be locked to the rising edge of 
an external clock signal applied to the PLLIN/SPREAD pin
The phase detector is an edge sensitive digital type that 
provides zero degrees phase shift between the external and 
internal oscillatorsThis type of phase detector does not exhibit false lock to harmonics of the external clock.APPLICATIONS INFORMATION
LTC7804
22
RevB For more information www.analog.comIf the external clock frequency is greater than the internal 
oscillator’ s frequency, f OSC, then current is sourced contin -
uously from the phase detector output, pulling up the VCO 
inputWhen the external clock frequency is less than f OSC, 
current is sunk continuously, pulling down the VCO inputIf the external and internal frequencies are the same but exhibit 
a phase difference, the current sources turn on for an amount 
of time corresponding to the phase differenceThe voltage at the VCO input is adjusted until the phase and frequency of the internal and external oscillators are identicalAt the stable operating point, the phase detector output is high impedance 
and an the internal filter capacitor , holds the voltage at the 
VCO inputNote that the LTC7804 can only be synchronized to an external clock whose frequency is within range of the 
LTC7804’ s internal VCO, which is nominally 100kHz to 3MHzRapid phase locking can be achieved by using the FREQ pin to set a free-running frequency near the desired syn -
chronization frequencyThe VCO’s input voltage is prebi -
ased at a frequency corresponding to the frequency set 
by the FREQ pinOnce prebiased, the PLL onl
y needs 
to adjust the frequency slightly to achieve phase lock 
and synchronizationAlthough it is not required that the free-running frequency be near external clock frequency, doing so will prevent the operating frequency from pass -
ing through a large range of frequencies as the PLL locksWhen synchronized to an external clock, the LTC7804 oper -
ates in forced continuous mode if the MODE pin is set to 
Burst Mode operation or forced continuous operationIf the MODE pin is set to pulse-skipping operation, the LTC7804  
maintains pulse-skipping operation when synchronizedSetting the Operating Frequency
The switching frequency is set using the FREQ and PLLIN/
SPREAD pins as shown in Table 1Table 1 
FREQ PIN PLLIN/SPREAD PIN FREQUENCY
0V 0V 375kHz
INTV CC 0V 2.25MHz
Resistor 0V 100kHz to 3MHz
Any of the Above External Clock  
100kHz to 3MHzPhase-Locked to 
External Clock
Any of the Above INT VCC Spread Spectrum f OSC 
Modulated 0% to +20%APPLICATIONS INFORMATION
Figure 6 Setting the Operating Frequency
FREQ PIN RESISTOR (Ω)
10k
100k
500k
100k
1M
10M
FREQUENCY (Hz)
7804 F06
77.5% AT 2.25MHz
(b) Relationship Between Maximum Duty 
Cycle and Operating Frequency
(a) Relationship Between Oscillator 
Frequency and Resistor Value at the FREQ Pin
FREQUENCY (MHz)
0.1
1
3
65
70
75
80
85
90
95
100
MAXIMUM DUTY CYCLE (%)Tying the FREQ pin to ground selects 375kHz while tying 
FREQ to INTV CC selects 2.25MHzPlacing a resistor 
between FREQ and ground allows the frequency to be pro -
grammed anywhere between 100kHz and 3MHzChoose a 
FREQ pin resistor from Figure  6a or the following equation:
 RFREQ(in  kΩ)=37MHz
fOSC
A further constraint on the operating frequency is due to 
the maximum duty cycle of the boost converter The maxi -
mum duty cycle, which can be approximated as DC MAX = (1 
– VIN(MIN) /VOUT)  100%, is limited as shown in Figure  6b
At low frequencies, the output will lose regulation if the 
required duty cycle is higher than 93%At high frequencies, 
LTC7804
23
RevB For more information www.analog.comthe maximum duty cycle available to maintain constant fre -
quency operation is reduced further In this region, if a higher 
duty cycle is required to keep the output voltage in regulation, 
the controller will skip the top MOSFET (TG) turn-on and keep 
the bottom MOSFET (BG) on for more than one clock cycle to 
achieve the higher duty cycle at an effectively lower frequency
Choose a frequency that limits the maximum duty cycle to a 
value lower than the curve shown in Figure 6bSwitching regulators can be particularly troublesome for 
applications where electromagnetic interference (EMI) is a concernTo improve EMI, spread spectrum mode can optionally be selected by tying the PLLIN/SPREAD pin to INTV
CCWhen spread spectrum in enabled, the switch -
ing frequency varies within 0% to +20% of the frequency selected by the FREQ pinSpread spectrum may be used in any operating mode selected by the MODE pin (Burst Mode, pulse-skipping, or for ced continuous mode)Selecting the Light-Load Operating Mode
The LTC7804 can be set to enter high efficiency Burst 
Mode operation, constant frequency pulse-skipping mode 
or forced continuous conduction mode at light load cur -
rentsTo select Burst Mode operation, tie the MODE to 
groundTo select forced continuous operation, tie the 
MODE pin to INTV CCTo select pulse-skipping mode, tie 
the MODE pin to INTV CC through a 100k resistor An inter -
nal 100k resistor from the MODE pin to ground selects 
Burst Mode operation if the pin is floatingWhen syn -
chronized to an external clock through the PLLIN/SPREAD 
pin, the LTC7804 operates in pulse -skipping mode if it is 
selected, or in for
ced continuous mode otherwiseTable 2  
summarizes the use of the MODE pin to select the light load operating modeTable 2 
MODE PINLIGHT-LOAD 
OPERATING MODE MODE WHEN SYNCHRONIZED
0V or Floating Burst Mode Forced Continuous 
100k to INTV CC Pulse-Skipping Pulse-Skipping
INTV CC Forced Continuous Forced Continuous 
In general, the requirements of each application will dictate 
the appropriate choice for light-load operating modeIn 
Burst Mode operation, the inductor current is not allowed to reverseThe reverse current comparator turns off the 
top MOSFET just before the inductor current reaches zero, 
preventing it from reversing and going negativeThus, 
the regulator operates in discontinuous conductionIn 
addition, when the load current is very light, the inductor 
current will begin bursting at frequencies lower than the switching frequency, and enter a low current sleep mode 
when not switchingAs a result, Burst Mode operation 
has the highest possible efficiency at light loadIn forced continuous mode, the inductor current is 
allowed to reverse at light loads and switches at the same 
frequency regardless of loadIn this mode, the efficiency at light loads is considerably lower than in Burst Mode operationHowever , continuous operation has the advan -
tage of lower output voltage ripple and less interference to 
audio circuitryIn forced continuous mode, the inductor current ripple is independent of load currentIn pulse-skipping mode, constant frequency operation is 
maintained down to approximately 1% of designed maxi -
mum output currentAt very light loads, the PWM com -
parator may remain tripped for several cycles and force the bottom MOSFET to stay off for the same number of cycles 
(i.e., skipping pulses)The inductor current is not allowed 
to reverse (discontinuous operation)This mode, like forced continuous operation, exhibits low output ripple as well as low audio noise and reduced RF interference as compared 
to Burst Mode operationIt provides higher light load effi -
ciency than forced continuous mode, but not nearly as high 
as Burst Mode operationConsequently, pulse-skipping mode 
represents a compromise between light load efficiency, out-put ripple and EMI
In some applications, it may be desirable to change light 
load operating mode based on the conditions present in 
the systemFor example, if a system is inactive, one might 
select high efficiency Burst Mode operation by keeping 
the MODE pin set to 0VWhen the system wakes, one 
might send an external clock to PLLIN/SPREAD, or tie 
MODE to INTV CC to switch to low noise forced continu-
ous modeSuch on-the-fly mode changes can allow an individual application 
to benefit from the advantages of 
each light -load operating mode.APPLICATIONS INFORMATION
LTC7804
24
RevB For more information www.analog.comMinimum On-Time Considerations
Minimum on-time, t ON(MIN) , is the smallest time duration 
that the LTC7804 is capable of turning on the bottom 
MOSFET It is determined by internal timing delays and 
the gate charge required to turn on the bottom MOSFET Low duty cycle applications may approach this minimum on-time limit and care should be taken to ensure that:
 tON(MIN) <VOUT−VIN 
VOUT f
If the duty cycle falls below what can be accommodated by the minimum on-time, the controller will begin to skip 
cyclesThe output voltage will continue to be regulated, but 
the ripple voltage and current will increaseMore cycles 
will be skipped when V IN increasesOnce V IN rises above 
VOUT, the loop keeps the top MOSFET continuously onThe 
minimum on-time for the LTC7804 is approximately 80nsFault Conditions: Overtemperature Protection
At higher temperatures, or in cases where the internal 
power dissipation causes excessive self-heating on chip, 
the overtemperature shutdown circuitry will shut down 
the LTC7804When the junction temperature exceeds 
approximately 180˚C, the overtemperature circuitry dis-
ables the INTV CC LDO, causing the INTV CC supply to col -
lapse and effectively shut down the entire LTC7804 chip
When the junction temperature drops back to approxi -
mately 160˚C, the INTV CC LDO turns back onLong-term 
overstress (T J > 125˚ C) should be avoided as it can 
degrade the performance or shorten the life of the partEfficiency Considerations
The percent efficiency of a switchin
g regulator is equal to 
the output power divided by the input power times 100%
It is often useful to analyze individual losses to determine 
what is limiting the efficiency and which change would 
produce the most improvementPercent efficiency can 
be expressed as:
 %Efficiency = 100% – (L1 + L2 + L3 + .) 
where L1, L2, etcare the individual losses as a per
cent-
age of input power .Although all dissipative elements in the circuit produce 
losses, four main sources usually account for most of the 
losses in LTC7804 circuits:  1) IC V BIAS current, 2) INTV CC 
regulator current, 3) I2R losses, 4) bottom side MOSFET 
transition losses.1 The V BIAS current is the DC supply current given in 
the Electrical Characteristics table, which excludes 
MOSFET driver and control currentsV BIAS current 
typically results in a small (<0.1%) loss2INT
VCC current is the sum of the MOSFET driver and 
control currentsThe MOSFET driver current results 
from switching the gate capacitance of the power 
MOSFETsEach time a MOSFET gate is switched 
from low to high to low again, a packet of charge, d q, 
moves from INTV CC to groundThe resulting d q/dt is 
a current out of INTV CC that is typically much larger 
than the control circuit currentIn continuous mode, I
GATECHG  = f(QT + QB) , where QT and QB are the gate 
charges of the topside and bottom side MOSFETs3I2R losses are predicted from the DC resistances of 
the fuse (if used), MOSFET , inductor , current sense 
resistor and input and input capacitor ESRIn con -
tinuous mode the average input current flows through 
L and R SENSE , but is chopped between the topside 
MOSFET and the synchronous MOSFET If the two 
MOSFETs have approximately the same R DS(ON) , then 
the resistance of one MOSFET can simply be summed 
with the resistances of L, R SENSE  and ESR to obtain 
I2R losses4T ransition losses apply only to the bottom MOSFET 
and become significant only when operating at higher 
output voltages (typically 15V or greater) or at high 
frequency (MHz range)T ransition losses can be esti -
mated from the equation for the main switch power dissipation in the Power MOSFET Selection section
Other hidden losses such as copper trace and internal battery resistances can account for an additional 5% to 10% efficiency degradation in portable systemsIt is very important to include these system level losses during the design phaseThe internal battery and fuse resistance losses can be minimized by making sure that C
IN has adequate charge storage and very low ESR at the APPLICATIONS INFORMATION
LTC7804
25
RevB For more information www.analog.comswitching frequencyA 25W supply will typically require 
a minimum of 20μF to 40μF of capacitance having a maximum of 20mΩ to 50mΩ of ESROther losses includ -
ing body diode conduction losses during dead-time and in
ductor core losses generally account for less than 2% 
total additional loss but can be significant when operating at high switching frequenciesChecking T ransient Response
The regulator loop response can be checked by looking at 
the load current transient responseSwitching regulators 
take several cycles to respond to a step in DC (resistive) 
load currentWhen a load step occurs, V OUT shifts by an 
amount equal to ∆I LOAD (ESR), where ESR is the effective 
series resistance of C OUT∆ILOAD also begins to charge or 
discharge C OUT generating the feedback error signal that 
forces the regulator to adapt to the current change and 
return V OUT to its steady-state valueDuring this recovery 
time V OUT can be monitored for excessive overshoot or 
ringing, which would indicate a stability problemOPTI-LOOP compensation allows the transient response to be 
optimized over a wide range of output capacitance and 
ESR valuesThe availability of the ITH pin not only allows optimization of control loop behavior , but it also provides a DC coupled and AC filtered closed-loop response test pointThe DC step, rise time and settling at this test point truly reflects the closed-loop responseAssuming a pre -
dominantly second order system, phase margin and/or 
damping factor can be estimated using the percentage 
of overshoot seen at this pinThe bandwidth can also be estimated by examining the rise time at the pinThe ITH external components shown in the first page circuit will provide an adequate starting point for most applicationsThe ITH series R
C−CC filter sets the dominant pole-zero 
loop compensationThe values can be modified slightly 
to optimize transient response once the final PC layout is done and the particular output capacitor type and value have been determinedThe output capacitors need to be selected because the various types and values determine the loop gain and phaseAn output current pulse of 20% to 80% of full-load current having a rise time of 1μs to 10μs will produce output voltage and ITH pin waveforms that will give a sense of the overall loop stability without breaking the feedback loop.Placing a power MOSFET directly across the output 
capacitor and driving the gate with an appropriate signal 
generator is a practical way to produce a realistic load step 
conditionThe initial output voltage step resulting from the step change in output current may not be within the bandwidth of the feedback loop, so this signal cannot be 
used to determine phase marginThis is why it is better to 
look at the ITH pin signal which is in the feedback loop and 
is the filtered and compensated control loop responseThe gain of the loop will be increased by increasing 
RC and the bandwidth of the loop will be increased by 
decreasing C CIf R C is increased by the same factor that 
CC is decreased, the zero frequency will be kept the same, 
thereby keeping the phase shift the same in the most 
critical frequency range of the feedback loopThe output voltage settling behavior is related to the stability of the closed-loop system and will demonstrate the actual over -
all supply performanceA second, more severe transient is caused by switching 
in loads with large (>1μF
) supply bypass capacitorsThe 
discharged bypass capacitors are effectively put in parallel 
with C OUT, causing a rapid drop in V OUTNo regulator can 
alter its delivery of current quickly enough to prevent this sudden step change in output voltage if the load switch 
resistance is low and it is driven quicklyIf the ratio of 
CLOAD to C OUT is greater than 1:50, the switch rise time 
should be controlled so that the load rise time is limited 
to approximately 25   CLOADThus a 10μF capacitor would 
require a 250μs rise time, limiting the charging current to about 200mA
Design Example
As a design example, assume V
IN = 12V (nominal), V IN 
= 22V (max), V OUT = 24V, I OUT(MAX)  = 4A and f = 1MHz
The frequency is not one of the internal preset values, so 
a resistor from the FREQ pin to GND is required, with a value of:
 RFREQ(in  kΩ)≤37MHz
1 MHz= 37kΩAPPLICATIONS INFORMATION
LTC7804
26
RevB For more information www.analog.comThe inductance value is chosen based on a 30% ripple 
current assumptionThe minimum inductance for 30% 
ripple current is:
 L=VIN
f ΔIL1–VIN
VOUT⎛
⎝⎜⎞
⎠⎟
The largest ripple happens when V IN = 1/2V OUT = 12V, 
where the average maximum inductor current is I L(MAX)  
= IOUT(MAX)   (V OUT/VIN) = 8AA 2.4μH inductor will pro -
duce 31% ripple currentThe peak inductor current will 
be the maximum DC value plus one half the ripple current, 
or 9.25A
The minimum on-time occurs at maximum V IN:
 tON(MIN) <VOUT−VIN(MAX)  
VOUT f=2V
24V  1 MHz=83ns
If the minimum on time of 80ns is violated, the LTC7804 
skips pulses at high input voltage, resulting in lower fre-quency operation and higher inductor current ripple than desiredIf undesirable, this behavior can be avoided by 
decreasing the frequency (with the inductor value accord -
ingly adjusted) to avoid operation near the minimum 
on-timeThe equivalent R SENSE  resistor value can be calculated by 
using the minimum value for the maximum current sense 
threshold (50mV):

 RSENSE≤45mV
9.25A≈0.004Ω
To allow for additional margin, a lower value R SENSE  
may be used;  however , be sure that the inductor satu -
ration current has sufficient margin above V SENSE(MAX) /
RSENSE , where the maximum value of 55mV is used for 
VSENSE(MAX) Choosing 1% resistors: R A = 11.3k and R B = 215k yields 
an output voltage of 24.032V.The best way to evaluate MOSFET performance in a par -
ticular application is to build and test the circuit on the 
bench, facilitated by an LTC7804 demo boardHowever , an 
educated guess about the application is helpful to initially 
select MOSFETsT ransition losses will likely dominate over I2R losses for the bottom MOSFET Therefore, choose 
a MOSFET with higher R DS(ON)  as opposed to lower gate 
charge to minimize the combined loss termsThe top 
MOSFET does not experience transition losses, and its 
power loss is generally dominated by I2R lossesFor 
this reason, the top MOSFET is typically chosen to be of 
lower R DS(ON)  and subsequently higher gate charge than 
the bottom MOSFET Be sure to select logic-level thresh -
old MOSFETs, since the gate drive voltage is limited to 
5.15V (INTV CC)COUT is chosen to filter the square current in the output
The maximum output capacitor current peak is:
 IOUT(PEAK) =IL(MAX)  1+RIPPLE%
2⎛
⎝⎜⎞
⎠⎟–IOUT(MAX)
=8  1+31%
2⎛
⎝⎜⎞
⎠⎟– 4=5.24A
A low ESR (5m) capacitor is suggestedThis capacitor 
will limit output voltage ripple to 26.2mV (assuming 
ESR-dominant ripple)For an 10ms
 soft start, select a 0.1μF capacitor for the 
SS pinAs a first pass estimate for the bias components, 
select C INTVCC  = 4.7μF, boost supply capacitor C B = 2.2μF
The TG gate drive voltage (relative to SW) should be 
around 4.5~5VIf it is too low, increase C B or use a boost 
diode with a lower forward voltage dropDetermine and set application-specific parametersSet 
the MODE pin based on the trade-off of light load effi -
ciency and constant frequency operationSet the PLLIN/
SPREAD pin based on whether a fixed, spread spectrum, or phase-locked frequency is desiredThe RUN pin can be used to control the minimum input voltage for regula -
tor operation or can be tied to V
IN for always-on opera -
tionUse ITH compensation components from the typical 
applications as a first guess, check the transient response 
for stability, and modify as necessaryPC Board Layout Checklist
When laying out the printed circuit board, the following 
checklist should be used to ensure proper operation of the ICThese items are also illustrated graphically in the APPLICATIONS INFORMATION
LTC7804
27
RevB For more information www.analog.comlayout diagram of Figure 7Figure 8 illustrates the cur -
rent waveforms present in the various branches of the 
synchronous regulator operating in the continuous modeCheck the following in your layout:
1Are the signal and power grounds kept separate?  The  
LTC7804  ground pin and the ground return of C INTVCC  
must return to the combined C OUT (–) terminalsThe 
area of the loop formed by the top N-channel MOSFET , 
bottom N-channel MOSFET and the high frequency 
(ceramic) C OUT capacitor(s) should be minimized with 
short leads, planar connections and multiple paral -
leled vias where needed2Does the LTC7804  VFB pin’s resistive divider con-
nect to the (+) terminal of C OUT? The resistive divider 
must be connected between the (+) terminal of C OUT 
and signal groundThe feedback resistor connections 
should not be along the high current input feeds from 
the input capacitor(s)3Are the SENSE– and SENSE+ leads routed together 
with minimum PC trace spacing? The filter capacitor 
between SENSE+ and SENSE– should be as close as 
possible to the ICEnsure accurate current sensing with Kelvin connections at the SENSE resistor 4 Is the INTV CC decoupling capacitor connected close 
to the IC, between the INTV CC and the GND pin? This 
capacitor carries the MOSFET drivers’ current peaks
An additional 1μF ceramic capacitor placed imme -
diately next to the INTV CC and GND pins can help 
improve noise performance substantially5Keep the SW , TG, and BOOST nodes away from sensi -
tive small-signal nodesAll of these nodes have very 
large and fast-moving signals and therefore should be 
kept on the output side of the LTC7804 and occupy minimum external layer PC trace areaMinimize the loop inductance of the TG and BG gate drive traces and their respective return paths to the controller IC (SW and GND) by using wide, preferably inner-layer , traces and multiple parallel vias6 Use a 
modified star ground technique: a low imped -
ance, large copper area central grounding point on 
the same side of the PC board as the input and output APPLICATIONS INFORMATION
capacitors with tie-ins for the bottom of the INTV CC 
decoupling capacitor , the bottom of the voltage feed-back resistive divider and the GND pin of the IC7 Use separate 
traces and vias to connect the INTV CC 
capacitor to the BOOST diodes versus the connec -
tions to the controller , bias, and pull-up connectionsPC Board Layout Debugging
It is helpful to use a DC − 50MHz current probe to moni -
tor the current in the inductor while testing the circuit
Monitor the output switching node (SW pin) to synchro -
nize the oscilloscope to the internal oscillator and probe 
the actual output voltage as wellCheck for proper per -
formance over the operating voltage and current range 
expected in the applicationThe frequency of operation should be maintained over the input voltage range down to dropout and until the output load drops below the low current operation threshold—typically 25% of the maxi -
mum designed current level in Burst Mode operationThe duty cycle percentage should be maintained from cycle 
to cycle in a well-designed, low noise PCB implementation
Variation in the duty cycle at a subharmonic rate can sug -
gest noise pickup at the current or voltage sensing inputs 
or inadequate loop compensationOvercompensation of 
the loop can be used to tame a poor PC layout if regulator bandwidth optimization is not requiredReduce V
BIAS from its nominal level to verify operation of 
the regulator at the maximum duty cycleCheck the opera -
tion of the undervoltage lockout circuit by further lowering 
VBIAS while monitoring the outputs to verify operationInvestigate whether any problems exist only at higher output 
currents or only at higher input voltagesIf problems coin -
cide with high input voltages and low output currents, look 
for capacitive coupling between the BOOST , SW , TG, and pos -
sibly BG connections and the sensitive voltage and current 
pinsThe capacitor placed across the current sensing pins needs to be placed immediately adjacent to the pins of the 
ICThis capacitor helps to minimize the effects of differential 
noise injection due to high frequency capacitive couplingIf problems are encountered with high current output loading at lower input voltages, look for inductive coupling between 
COUT, top MOSFET and the bottom MOSFET components to 
LTC7804
28
RevB For more information www.analog.comTYPICAL APPLICATIONS
Figure 7Recommended Printed Circuit Layout Diagram
Figure 8Branch Current WaveformsSENSE–
SENSE+RUN V IN
VIN
VOUTSW
TG
BOOST
BG fINCB
M1
M2
GND
7804 F07L1 RSENSE
VBIAS
GNDL TC7804
FREQ
MODEPLLIN/SPREAD
RUN
VFB
ITH
SSINTV CC+
+
RLL1SW RSENSEVOUT
COUT
7804 F08VIN
CINRIN
BOLD LINES INDICATE HIGH SWITCHING CURRENT
KEEP LINES TO A MINIMUM LENGTHthe sensitive current and voltage sensing tracesIn addition, 
investigate common ground path voltage pickup between 
these components and the GND pin of the ICAn embarrassing problem, which can be missed in an 
otherwise properly working switching regulator , results 
when the current sensing leads are hooked up backwardsAPPLICATIONS INFORMATION
The output voltage under this improper hookup will still 
be maintained but the advantages of current mode control 
will not be realizedCompensation of the voltage loop 
will be much more sensitive to component selectionThis 
behavior can be inves
tigated by temporarily shorting out the current sensing resistor—don’t worry, the regulator will still maintain control of the output voltage.
LTC7804
29
RevB For more information www.analog.comFigure 9High Efficiency Wide Input Range 375kHz 24V/6A Boost Converter
Figure 10Low I Q Nonsynchronous 80V/120W Boost ConverterTYPICAL APPLICATIONS
SENSE+
SENSE–
TG
CB
0.1µF
CITHA
220pFL TC7804
CSS
0.1µF
CITH
22nFCIN
10µF
MTOP
MBOT
CINT
4.7µF
7804 F09VOUT
24V
6A*VIN
4.5V TO 38VRSENSE
2m/uni03A9
L2µH
BOOSTSWVBIASRUN
BG
GNDINTV
CC
VFBITHSS
RA
31.6kRITH
8.06k
RS
604k
CIN, COUTA : MURATA GCM32EC71H106KA03   
COUTB : SUNCON 63HVPF100M
D: INFINEON BAS140W
L: COILCRAFT SER2011-202MLDMBOT , MTOP: INFINEON BSC059N04LS6*WHEN V
IN > 24V , V OUT FOLLOWS  VIN; WHEN V IN < 9V , MAXIMUM LOAD CURRENT AVAILABLE IS REDUCED.FREQPLLIN/SPREADEXTV CC
COUTA
10µF
×2COUTB
100µF+MODE
D1nF
200Ω
SENSE+
SENSE–
BOOST
TG
CITHA
100pFL TC7804CSS
0.1µF
CITH
10nFCIN
10µF×2
MBOTD
CINT
4.7µF
7804 F10VOUT*
80V1.5AV
IN
9V TO 38V RSENSE
7m/uni03A9
L33µHVBIAS
BG
GNDINTV
CC
VFBITHSS
RA
12.1kRITH
45.3k
RS
806kSWFREQRUN
PLLIN/SPREADMODEEXTVCC
COUTA
10µF
×3COUTB
68µF+
CIN: MURATA GCM32EC71H106KA03
COUTA : TDK C5750X7S2A106K230KE
COUTB : SUNCON100CE68LX
D: VISHAY VS-12CWQ10FN-M3
L: COILCRAFT XAL1510-333MEBMBOT: INFINEON BSC159N10LSF-G
*WHEN V IN < 24V , MAXIMUM LOAD CURRENT AVAILABLE IS DERATED BY INPUT CURRENT LIMIT 
LTC7804
30
RevB For more information www.analog.comFigure 11High Efficiency 2.25MHz, 10V Boost ConverterTYPICAL APPLICATIONS
SENSE+
SENSE–
TG
CB
0.1µF
CITHA
100pFL TC7804
CSS
0.1µF
CITH
4.7nFCIN
10µF
×2
MBOTMTOP
CINT
4.7µF
7804 F11aVOUT*
10V6AV
IN
4.5V TO 24V START-UP
AND OPERATION THROUGHTRANSIENTS DOWN TO 1V
L0.47µH
BOOSTSWRUN
BG
GNDINTV CC
VFBITHSS
RA
73.2kRITH
4.99k
RB
549kFREQ
COUTA
10µF
×5RSENSE
2mΩ
COUTB
150µF+
CIN, COUTA : MURATA GCM32EC71H106KA03
COUTB : SUNCON 50HVPF150M
L: WURTH 744355047MBOT , MTOP: INFINEON BSC059N04LS6D: INFINEON BAS140W
*WHEN V
IN > 10V , V OUT FOLLOWS V IN;VBIAS
PLLIN/SPREAD
WHEN V IN < 4.5V , MAXIMUM LOAD CURRENT AVAILABLE IS REDUCED.1nF
100k100ΩEXTV CC
MODE
INTV CCINTV CC
D
V
IN
=12V
V
IN
=9V
V
IN
=6V
V
IN
=5V
OUTPUT CURRENT (A)
0
0.5
1
1.5
2
2.5
3
3.5
4
4.5
5
5.5
6
80
82
84
86
88
90
92
94
96
98
100
EFFICIENCY (%)
7804 F11b
LTC7804
31
RevB For more information www.analog.comFigure 12High Efficiency 2.25MHz, 24V Boost Converter with Spread SpectrumTYPICAL APPLICATIONS
SENSE+
SENSE–
TG
CB
0.1µF
CITHA
220pFL TC7804
CSS
0.1µF
CITH
3.3nFCIN
10µF
×2
MTOP
MBOT
CINT
4.7µF
7804 F12aVOUT
24V4A*V
IN**
5V TO 24VRSENSE
3m/uni03A9
L0.68µH
BOOSTSWVBIASRUN
BG
GNDINTV
CC
VFBITHSS
RA
12.1kRITH
27.4k
RS
232k
CIN, COUTA : MURATA GCM32EC71H106KA03   
COUTB : SUNCON 50HVPF150M
D: INFINEON BAS140W
L: WURTH 7443330068MBOT , MTOP: INFINEON BSC059N04LS6FREQPLLIN/SPREADEXTV CC
COUTA
10µF
×5COUTB
150µF+MODE
  *WHEN V IN < 8V , MAXIMUM LOAD CURRENT AVAILABLE IS DERATED BY INPUT CURRENT LIMIT
**CONSTANT FREQUENCY OPERATION WHEN V IN > 6V (SEE FIGURE 6B RELATIONSHIP BETWEEN 
    MAXIUM DUTY CYCLE AND OPERATING   FREQUENCY)D1nF
100Ω
INTV CC
V
IN
 = 12V
OUTPUT CURRENT (A)
0
0.5
1
1.5
2
2.5
3
3.5
4
80
82
84
86
88
90
92
94
96
98
100
EFFICIENCY (%)
7804 F12b
LTC7804
32
RevB For more information www.analog.comPACKAGE DESCRIPTION
MSOP (MSE16) 0213 REV F0.53 ±0.152
(.021 ±.006)
SEATING
PLANE0.18
(.007)1.10
(.043)
MAX
0.17 –/uni00A00.27
(.007 – .011)
TYP0.86
(.034)
REF
0.50
(.0197)
BSC16
16151413121110
1 2 3 4 5 6 7 8991 8
NOTE:
1DIMENSIONS IN MILLIMETER/(INCH)2DRAWING NOT TO SCALE3DIMENSION DOES NOT INCLUDE MOLD FLASH, PROTRUSIONS OR GATE BURRS   MOLD FLASH, PROTRUSIONS OR GATE BURRS SHALL NOT EXCEED 0.152mm (.006") PER SIDE4DIMENSION DOES NOT INCLUDE INTERLEAD FLASH OR PROTRUSIONS   INTERLEAD FLASH OR PROTRUSIONS SHALL NOT EXCEED 0.152mm (.006") PER SIDE5LEAD COPLANARITY (BOTTOM OF LEADS AFTER FORMING) SHALL BE 0.102mm (.004") MAX6EXPOSED PAD DIMENSION DOES INCLUDE MOLD FLASHMOLD FLASH ON E-PAD SHALL    NOT EXCEED 0.254mm (.010") PER SIDE0.254
(.010)0° – 6° TYP
DETAIL “A”DETAIL “A”
GAUGE PLANE5.10
(.201)
MIN3.20 – 3.45
(.126 – .136)0.889 ±0.127
(.035 ±.005)
RECOMMENDED SOLDER PAD LAYOUT0.305 ±0.038
(.0120 ±.0015)
TYP0.50
(.0197)
BSCBOTTOM VIEW OF
EXPOSED PAD OPTION
2.845 ±0.102
(.112 ±.004)2.845 ±0.102
(.112 ±.004)
4.039 ±0.102
(.159 ±.004)
(NOTE 3)1.651 ±0.102
(.065 ±.004)1.651 ±0.102
(.065 ±.004)
0.1016 ±0.0508
(.004 ±.002)3.00 ±0.102
(.118 ±.004)
(NOTE 4)0.280 ±0.076
(.011 ±.003)
REF
4.90 ±0.152
(.193 ±.006)DETAIL “B”DETAIL “B”
CORNER TAIL IS PART OF
THE LEADFRAME FEATUREFOR REFERENCE ONL Y
NO MEASUREMENT PURPOSE0.12 REF0.35REFMSE Package
16-Lead Plastic MSOP, Exposed Die Pad
(Reference LTC DWG # 05-08-1667 Rev F)
LTC7804
33
RevB For more information www.analog.comInformation furnished by Analog Devices is believed to be accurate and reliableHowever , no responsibility is assumed by Analog 
Devices for its use, nor for any infringements of patents or other rights of third parties that may result from its useSpecifications 
subject to change without noticeNo license is granted by implication or otherwise under any patent or patent rights of Analog Devices.PACKAGE DESCRIPTION
3.00 ±0.10
(4 SIDES)RECOMMENDED SOLDER PAD PITCH AND DIMENSIONS1.45 ±0.05
(4 SIDES)
NOTE:
1DRAWING CONFORMS TO JEDEC PACKAGE OUTLINE MO-220 VARIATION (WEED-2)2DRAWING NOT TO SCALE3ALL DIMENSIONS ARE IN MILLIMETERS4DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE     MOLD FLASHMOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.15mm ON ANY SIDE5EXPOSED PAD SHALL BE SOLDER PLATED6SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION    ON THE TOP AND BOTTOM OF PACKAGE  PIN 1TOP MARK(NOTE 6)
0.40 ±0.10BOTTOM VIEW—EXPOSED PAD
1.45 ± 0.10
(4-SIDES)0.75 ±0.05R = 0.115
TYP
0.25 ±0.051PIN 1 NOTCH R = 0.20 TYPOR 0.25 × 45° CHAMFER
15 16
2
0.50 BSC0.200 REF2.10 ±0.053.50 ±0.050.70 ±0.05
0.00 – 0.05(UD16) QFN 09040.25 ±0.05
0.50 BSCPACKAGE OUTLINEUD Package
16-Lead Plastic QFN (3mm × 3mm)
(Reference LTC DWG # 05-08-1691 Rev Ø)
REVISION HISTORY
REV DATE DESCRIPTION PAGE NUMBER
A 10/20 Update top mark from for UD package from 7804 to LHHMUpdate Foot note for Shutdown Current vs Input Voltage Plot (Change from 3897 to 7804)Remove “Drop Out Det” from Block Diagram.18
11
B 06/22 Updated AEC-Q100 Qualifications1
LTC7804
34
RevB  ANALOG DEVICES, INC2019-202206/22
www.analog.comRELATED PARTSTYPICAL APPLICATION
High Efficiency 35V Boost Converter with DCR Current Sensing
SENSE+
SENSE–
TG
CITHA
330pFCB
0.1µFL TC7804
CSS
0.1µF
CITH
15nFCIN
10µF
×2
MBOT1MTOP
CINT
4.7µF
7804 TA02VOUT
35V6A*V
IN
6V TO 38V
C10.47µFL2.2µH
BOOSTSWVBIAS
BGGNDINTV
CC
VFBITHSS
RA
8.25kRITH
7.5k
RB
232kFREQRUN
COUTA
10µF
×5COUTB
150µF+
CIN, COUTA : TDK C3225X5R1H106M250AB
COUTB : SUNCON 50HVPF150M
D: INFINEON BAS140WL: COILCRAFT SER2915H-222KLMBOT1, MBOT2: INFINEON BSC059N04LS6 
MTOP: INFINEON BSC014N04LSI
*WHEN V
IN > 35V , V OUT FOLLOWS  VIN; WHEN V IN < 9V , MAXIMUM LOAD CURRENT AVAILABLE IS REDUCED.RS1
3.74k
1%PLLIN/SPREADEXTV CC
MODE
DRS2
7.15k1%
MBOT2
PART NUMBER DESCRIPTION COMMENTS
LTC3787 Single Output, Low I Q Multiphase Synchronous 
Boost Controller4.5V (Down to 2.5V After Start-Up) ≤ V IN ≤ 38V, V OUT Up to 60V, 50kHz to 
900kHz Fixed Operating Frequency, 4mm × 5mm QFN-28, SSOP-28
LTC3788/ LTC3788-1 Dual Output, Low I Q Multiphase Synchronous 
Boost Controller4.5V (Down to 2.5V After Start-Up) ≤ V IN ≤ 38V, V OUT Up to 60V, 50kHz to 
900kHz Fixed Operating Frequency, 5mm × 5mm QFN-32, SSOP-28
LTC3786 Low I Q Synchronous Step-Up Controller 4.5V (Down to 2.5V After Start-Up) ≤ V IN ≤ 38V, V OUT Up to 60V, 50kHz to 
900kHz Fixed Operating Frequency, 3mm × 3mm QFN-16, MSOP-16E
LTC3769 60V Low I Q Synchronous Boost Controller 4.5V (Down to 2.3V After Start-Up) ≤ V IN ≤ 60V, V OUT Up to 60V, 50kHz to 
900kHz Fixed Operating Frequency, 4mm × 4mm QFN-24, TSSOP-20
LTC3784 60V Single Output, Low I Q Multiphase 
Synchronous Boost Controller4.5V (Down to 2.3V After Start-Up) ≤ V IN ≤ 60V, V OUT Up to 60V, 50kHz to 
900kHz Fixed Operating Frequency, 4mm × 5mm QFN-28,
 SSOP-28
LTC3897 PolyPhase® Synchronous Boost Controller with 
Input/ Output Protection4.5V ≤ V IN ≤ 65V, 5V to 10V Gate Drive, 100kHz to 750kHz Fixed Operating 
Frequency, TSSOP-38, 5mm × 7mm QFN-38
LTC3862/ LTC3862-1 Single Output, Multiphase Current Mode 
Step-Up DC/DC Controller4V ≤ V IN ≤ 36V, 5V or 10V Gate Drive, 75kHz to 500kHz Fixed Operating 
Frequency, SSOP-24, TSSOP-24, 5mm × 5mm QFN-24
LT3757A/LT3758 Boost, Flyback, SEPIC and Inverting Controller 2.9V ≤ V IN ≤ 40V/100V, 100kHz to 1MHz Fixed Operating Frequency, 3mm × 3mm 
DFN-10 and MSOP-10E
LTC7818 Low I Q, 3MHz, T riple Output, Buck/Buck/Boost 
Synchronous ControllerAll Outputs Remain in Regulation Through Cold Crank, 4.5V (Down to 1V After Start-Up) ≤ V
IN ≤ 40V, V OUT(BUCKS)  Up to 40V, V OUT(BOOST)  Up to 40V, I Q = 14µA
LTC3789 High Efficiency Synchronous 4-Switch Buck-Boost DC/DC Controller4V ≤ V
IN ≤ 38V, 0.8V ≤ V OUT ≤ 38V, SSOP-28, 4mm × 5mm QFN-28, SSOP-28

 Low Power  165 MHz  HDMI  Receiver  
Data Sheet ADV7611Fax: 781.461.3113  ©2010 -2012  Analog Devices, IncAll rights reserved FEATURES  
High -Definition Multimedia Interface (HDMI ®) 1.4a features 
supported  
All m andatory and additional 3D video format s suppor ted 
Extended colorimetry, including sYCC601, Adobe RGB, 
Adobe YCC 601 , xvYCC extended gamut color  
CEC 1.4 -compatible  
HDMI rece iver  
165 MHz maxi mum TMDS clock frequency  
24-bit output pixel bus  
High -bandwidth D igital Content Protection (HDCP) 1.4  
support with internal HDCP keys 
HDCP  repeater support  
Up to 127 KSVs supported  
Integrated CEC c ontroller  
Programmable HDMI e quali zer 
5 V detect and H ot Plug assert  for HDMI port  
Audio support  
SPDIF (IEC  60958- compatible) digital audio  
HDMI audio extraction support  
Advance d audio mute feature  
General  
Interrupt controller with two interrupt outputs  
Standard i dentification (STDI) circuit  
High ly flexible 24-bit pixel output interface  
Internal EDID RAM  
Any -to-any  3 × 3 color space conversion (CSC) matrix  
2-layer PCB design supported  
64-lead  LQFP_EP ,  10 mm × 1 0 mm package  
Qualified for automotive applications  
APPLICATIONS  
Projectors 
Automotive   
Video conferencing  
HDTV s 
AVR, HTiB  
Soundbar s 
Video switch es FUNCTIONAL BLOCK DIA GRAM  
HS/VS
4I2S
S/PDIFHDCP
KEYS
TMDS
DDCHDMI1DEEP
COLOR
HDMI Rx
ADV7611COMPONENT
PROCESSOR 36
OUTPUT MUXFIELD/DE
LLC
DATA
MCLK
SCLK
LRCLKLRCLK
AP
MCLK
SCLKOUTPUT MUX24-BIT
YCbCr/RGBHS
VS/FIELD
DE
LLC
09305-001 
Figure 1 
 
 
ADV7611  Data SheetTABLE OF CONTENTS  
Features  1 
Applications  1 
Functional Block Diagram  1 
Revision History  2 
General Description  3 
Detailed Functional Block Diagram  3 
Specifications  4 
Electrical Characteristics  4 
Data and I2C Timing Characteristics  5 
Absolute Maximum Ratings  7 
Package Thermal Performance  7 
ESD Caution  7 
Pin Configuration and Fu nction Descriptions  8 
Power Supply Sequencing  10 Power -Up Sequence  10 
Power -Down Sequence  10 
Functional Overview 11 
HDMI Receiver  11 
Component Processor  11 
Other Features  11 
Pixel Input/Output Formatting  12 
Pixel Data Output Modes Features  12 
Outline Dimensions  14 
Ordering Guide  14 
Automotive Products  14 
 
 
 
REVISION HISTORY  
6/12— RevC to R evD 
Change to Pin 1 Description, Table 4  8 
5/12— RevB to RevC  
Changes to Features Section 1 
Changes to General Description Section  3 
Added Endnote 3 (Table 1)  4 
Deleted TDM Serial Timing Parameter (Table 2)  5 
Deleted Figure 6  7 
Change d Pin 48  Description ( Table 4 ) 9 
Changes to HDMI Receiver and Other Features Sections  11 
Added Endnote 1 in Pixel Input/Output Formatting Sect ion and  
Endnote 1 to Table 5  12 
Deleted Time -Division Multiplexed (TDM) Mode  Section  
and Figure 9  13 
Changes to P14 (Table 6)  13 
Changes to Ordering Guide  14 
Added HDMI Note  16 
6/11— RevA to Rev B 
Changes to  Figure 7  1 
5/11— Rev0 to RevA  
Changes to  Features Sec tion1 
Changes to Ordering Guide  16 
Added Automotive Products Section  16 
11/10— Revision 0: Initial Version  
 
Data Sheet ADV7611GENERAL DESCRIPTION
The ADV7611 is offered in automotive, professional (no 
HDCP) , and industrial versionsThe operating temperature 
range is −40oC to +85oC
The UG-180 contains critical information that must be used in 
conjunction with the ADV7611 
The ADV7611 is a high quality, single input HDMI ®-capable 
receiverIt incorporates an HDMI -capable receiver that 
supports all mandatory 3D TV defined in HDMI 1.4aThe 
ADV7611 supports formats up to UXGA  60 Hz at 8 bit 
It integrates a  CEC controller that supports the capability 
discovery and c ontrol (CDC) feature 
The ADV7611 has an audio output port for the audio data 
extracted from the HDMI streamThe  HDMI receiver has an 
advanced mute controller that prevents audible extraneous 
noise in the audio output The following audio formats are accessible:  
 A stream from the I2S serializer (two audio channels)  
 A stream from the S/PDIF serializer (two uncompres sed 
channels or N compressed channels, for example, AC3)  
 DST stream  
The HDMI port has dedicated 5  V detect and Hot Plug ™ assert 
pinsThe HDMI receiver also includes an integrated equalizer  
that ensures the robust operation of the interface with long cab les
The ADV7611 contains one main component pro cessor (CP), 
that processes the video signals from the HDMI receiverIt 
provides features such as contrast, brightness and saturation 
adjustments, STDI detection block, free run, and synchronization  
alignmen t controls 
Fabricated in an advanced CMOS process, the ADV7611 is 
provided in a 10 mm × 10 mm, 64 -lead surface -mount LQFP _EP , 
RoHS -compliant pac kage and is specified over the − 40°C to 
+85°C tempera ture range  
DETAILED FUNCTIONAL BLOCK DIAGRAM  
CONTROL
INTERFACE
I2C
CONTROL
AND DATA
PLLEDID
REPEATER
CONTROLLER
HDCP
ENGINEPACKET/
INFOFRAME
MEMORY121212
BACKEND
COLORSPACE
CONVERSION
OUTPUTFORMATTER
COMPONENT
PROCESSOR5V DETECT
AND HPD
CONTROLLER
AUDIO
PROCESSORDATA
PREPROCESOR
AND COLOR
SPACE
CONVERSIONHDMI
PROCESSOR
PACKET
PROCESSORA
BC
MUTEINTERRUPT
CONTROLLER
(INT1,INT2)P0 TO P7
*INT2 CAN BE ONLY OUTPUT ON ONE OF THE PINS: SCLK/INT2, MCLK/INT2, OR HPA_A/INT2.XTALP
XTALN
SCL
SDA
CEC
RXA_5V
HPA_A/INT2*
DDCA_SDA
DDCA_SCL
RXA_C±
RXA_0±
RXA_1±
RXA_2±P8 TO P15
P16 TO P23
LLC
HS
VS/FIELD/ALSB
DE
INT1
INT2*
AP
LRCLK
SCLK/INT2*
MCLK/INT2*AUDIO OUTPUT FORMATTERHDCP
EEPROM
SAMPLER EQUALIZERDPLL
CEC
CONTROLLER
ADV7611
09305-002 
Figure 2Detailed Functional Block Diagram  
 
ADV7611  Data SheetSPECIFICATIONS 
At DVDD = 1.71 V to 1.89 V , DVDDIO = 3.14 V to 3.46 V , PVDD = 1.71 V to 1.89 V , TVDD = 3.14 V to 3 .46 V , CVDD = 1.71 V to 1.89 V , 
TMIN to T MAX = −40°C to +85°C, unless otherwise noted 
ELECTRICAL CHARACTER ISTICS  
Table 1 
Parameter  Symbol  Test Conditions /Comments  Min  Typ  Max  Unit  
DIGITAL INPUTS1       
Input High Voltage  VIH XTALN and XTALP  1.2   V 
 VIH Other digital inputs  2   V 
Input Low Voltage  VIL XTALN and XTALP    0.4 V 
 VIL Other digital inputs    0.8 V 
Input Current  IIN RESET  pin  ±45 ±60 µA 
  Other digital inputs   ±10   µA 
Input Capacitance  CIN    10 pF 
DIGITAL INPUTS (5 V TOLERANT)1, 2       
Input High Voltage  VIH  2.6   V 
Input Low Voltage  VIL    0.8 V 
Input Current  IIN  −82  +82  µA 
DIGITAL OUTPUTS1       
Output High Voltage  VOH  2.4   V 
Output Low Voltage  VOL    0.4 V 
High Impedance Leakage 
Current  ILEAK VS/FIELD/ALSB pin   ±35 ±60 µA 
  HPA_A/INT2 pin    ±82 µA 
  Other   10  µA 
Output C apacitance  COUT    20 pF 
POWER REQUIREMENTS3, 4       
Digital Core Power Supply  DVDD   1.71 1.8 1.89 V 
Digital I/O Power Supply  DVDDIO   3.14  3.3 3.46  V 
PLL Power Supply  PVDD   1.71 1.8 1.89 V 
Terminator Power Supply  TVDD   3.14 3.3 3.46 V 
Comparator Pow er Supply  CVDD   1.71 1.8 1.89 V 
Digital Core Supply Current  IDVDD UXGA 60 Hz at  8 bit  95.7 188.1 mA 
Digital I/O Supply Current IDVDDIO  UXGA 60 Hz at  8 bit  12.9 178.5 mA 
PLL Supply Current  IPVDD UXGA 60 Hz at  8 bit  30.7 36.9 mA 
Terminator Supply Curr ent ITVDD UXGA 60 Hz at  8 bit  50.9 57.6 mA 
Comparator Supply Current  ICVDD UXGA 60 Hz at  8 bit  95.8 114.4 mA 
POWER -DOWN  CURRENTS3, 5       
Digital Core Supply Current  IDVDD_PD  Power -Down Mode 1   0.2 0.5 mA 
Digital I/O S upply Current IDVDDIO _PD  Power -Down Mode 1   1.3 1.7 mA 
PLL Supply Current  IPVDD _PD Power -Down Mode 1   1.5 1.8 mA 
Terminator Supply Current  ITVDD _PD Power -Down Mode 1   0.1 0.3 mA 
Comparator Supply Current  ICVDD _PD Power -Down Mode 1   1.3 1.7 mA 
Power -Up Time  tPWRUP    25  ms 
 
1 Data guaranteed by characterization 
2 The following pins are 5 V tolerant: DDCA_SCL, DDC_SDA , and RXA_5V 
3 Data recor ded during lab characterization 
4 Maximum current consumption values are recorded with maximum rated voltage supply levels, MoireX video pattern, and at maximum rated temperature 
5 Power -Down Mode 0 (IO m ap, Register  0x0C  = 0x62), ring o scillat
or powered  down (HDMI map, Reg ister  0x48 = 0x01) , and DDC p ads off (HDMI map, Register  0x73 = 
0x01) 
 
 
Data Sheet ADV7611DATA AND I2C TIMING CHARACTERISTICS 
Table 2 
Parameter Symbol Test Conditions/Comments Min Typ Max Unit 
CLOCK AND CRYSTAL        
Crystal Frequency, XTALP    28.63636  MHz 
Crystal Frequency Stabi lity     ±50 ppm 
LLC Frequency Range1   13.5  165 MHz 
I2C PORTS        
SCL Frequency     400 kHz 
SCL Minimum Pulse Width High2 t 1  600   ns 
SCL Minimum Pulse Width Low2 t2  1.3   μs 
Start Condition Hold Time2 t3  600   ns 
Start Condition Setup Time2  t4  600   ns 
SDA Setup Time2 t5  100   ns 
SCL and SDA Rise Time2 t6    300 ns 
SCL and SDA Fall Time2 t7    300 ns 
Stop Condition Setup Time2 t8  0.6   μs 
RESET FEATURE       
Reset Pulse Width   5   ms 
CLOCK OUTPUTS       
LLC Mark-Space Ratio2 t9:t10  45:55  55:45 % duty 
cycle 
DATA AND CONTROL OUTPUTS3       
Data Output Transition Time2, 4 t11 End of valid data to negati ve clock edge  1.0 2.2 ns 
 t 12 Negative clock edge to start of valid data  0.0 0.3 ns 
I2S PORT, MASTER MODE       
SCLK Mark-Space Ratio2 t15:t16  45:55  55:45 % duty 
cycle 
LRCLK Data Transition Time2 t17 End of valid data to negative SCLK edge   10 ns 
LRCLK Data Transition Time2 t18 Negative SCLK edge to start of valid data   10 ns 
I2S Data Transition Time2, 5  t19 End of valid data to negative SCLK edge   5 ns 
I2S Data Transition Time2, 5  t20 Negative SCLK edge to start of valid data   5 ns 
 
1 Maximum LLC frequency is limited by the clock frequency of UXGA 60 Hz at 8 bit
2 Data guaranteed by characterization
3 With the DLL block on output clock bypassed
4 DLL bypassed on clock path
5 I2S is accessible via the AP pin
 
ADV7611  Data SheetTiming Diagrams  
SDA
SCLt5 t3
t4 t8t6
t7 t2t1t3
09305-003 
Figure 3I2C Timing  
 
t9
LLC
t11
t12t10
P0 TO P23, HS,
VS/FIELD/ALSB, DE
09305-004 
Figure 4Pixel Port and Control SDR Output Timing  
 
SCLK
LRCLK
I2S
LEFT-JUSTIFIED
MODE
I2S
RIGHT-JUSTIFIED
MODEI2S
I2S MODEMSB MSB – 1t15
t16
t17
t19
t20t18
MSB MSB – 1
LSB MSBt19
t20t19
t20NOTES
1I2S IS A SIGNAL ACCESSIBLE VIA THE AP PIN09305-005 
Figure 5I2S Timing  
 
 
Data Sheet ADV7611ABSOLUTE MAXIMUM RATING S 
Table 3 
Parameter  Rating  
DVDD to GND  2.2 V  
PVDD to GND  2.2 V  
DVDDIO to GND  4.0 V  
CVDD to GND  2.2 V  
TVDD to GND  4.0 V  
Digital Inputs Voltage to GND  GND − 0.3 V to  DVDDIO + 0.3 V  
5 V Tolerant Digital Inputs to 
GND1 5.3 V  
Digital Outputs Voltage to GND  GND − 0.3 V to DVDDIO + 0.3 V  
XTALP , XTALN  GND − 0.3 V to PVDD + 0.3 V  
SCL/SDA Data Pins to DVDDIO  DVDDIO − 0.3 V to DVDDIO + 
3.6 V  
Maximum Junction Temperature 
(TJ MAX) 125° C 
Storage Temperature Range  −60°C to + 150° C 
Infrared Reflow Soldering (20 sec)  260° C 
 
1 The following inputs are 3.3 V inputs but are 5 V tolerant: DDCA_SCL and 
DDCA_SDA 
Stresses above those listed under Absolute Maximum Ratings 
may cause p ermanent damage to the deviceThis is a stress 
rating only; functional operation of the device at these or any 
other conditions above those indicated in the operational section of this specification is not impliedExposure to absolute 
maximum rating cond itions for extended periods may affect 
device reliability PACKAGE THERMAL PERF ORMANCE  
To reduce power consumption when using the ADV7611, the 
user is advised to turn off the unused sections of the part 
Due to the printed circuit board ( PCB ) metal varia tion, and , 
therefore , variation in PCB heat conductivity, the value of θ JA 
may differ for various PCBs 
The most efficient measurement solution is obtained using the 
package surface temperature to estimate the die temperature 
because this eliminates the v ariance associated with the θ JA value 
The maximum junction temperature (T J MAX) of 125°C must not  be 
exceededThe following equation calculates the junction  tempera -
ture using the measured package surface temperature and  applies 
only when no heat sink is  used on the device under test (DUT):  
( )TOTAL JT S J W ΨTT ×+=  
where:  
TS is the package surface temperature (°C) 
ΨJT = 0.4°C/W for the 64- lead LQFP_EP 
WTOTAL  = ((PVDD × I PVDD) + (0.05 × TVDD × I TVDD) + (CVDD ×  
ICVDD) + (D VDD × I DVDD) + (DVDDIO × I DVDDIO ))  
where 0.05 is 5% of the TVDD power that is dissipated on the 
part itself 
ESD CAUTION  
 
 
 
ADV7611  Data SheetPIN CONFIGURATION AN D FUNCTION DESCRIPTI ONS 
AP
VS/FIELD/ALSB
HS
DE
DVDDIOP0P1
P2
DVDD
P3
P4
P5
P6
P7
DVDDIO
P8RXA_5V
DDCA_SDA
DDCA_SCL
CEC
DVDD
XTALN
XTALP
PVDD
RESET
INT1
SDA
SCL
DVDD
MCLK/INT2
LRCLK
SCLK/INT2P21P20
P19
P18
P17
P16
DVDDIO
DVDD
LLC
P15P14P13
P12
P11
P10
P9HPA_A/INT2
CVDD
RXA_C–
RXA_C+
TVDD
RXA_0–
RXA_0+
TVDD
RXA_1–
RXA_1+
TVDD
RXA_2–
RXA_2+
CVDD
P23
P222
3
4
7651
8
9
10
12
13
14
15
161147
46
45
42434448
41
40
39
37
36
35
34
3338
1718192021222324252627282930313264636261605958575655545352515049
ADV76 11
TOP VIEW
(Not to Scale)PIN 1
INDICATOR
NOTES1CONNECT EXPOSED PAD (PIN0) TO GROUND (BOTT OM)09305-008 
Figure 6Pin Configuration  
Table 4Pin Function Descriptions 
Pin NoMnemonic  Type  Description  
0 GND  Ground  Ground 
1 HPA_A/INT2  Miscellaneous digital  A dual function pin that can be configured to output a Hot Plug assert signal (for 
HDMI Port A) or an Interrupt  2 signal This pin is 5 V tolerant 
2 CVDD  Power  HDMI Analog  Block Supply Voltage (1.8 V) 
3 RXA_C − HDMI input  Digital Input Clock Complement of Port A in the HDMI Interface 
4 RXA_C+  HDMI input  Digital Input Clock True of Port A in the HDMI Interface 
5 TVDD  Power  Terminator Supply Voltage (3.3 V) 
6 RXA_ 0− HDMI input  Digital Input Channel 0 Complement of Port A in the HDMI Interface 
7 RXA_0+  HDMI input  Digital Input Channel 0 True of Port A in the HDMI Interface 
8 TVDD  Power  Terminator Supply Voltage (3.3 V) 
9 RXA_1 − HDMI input  Digital Input Channel  1 Complement of Port A in the HDMI Interface 
10 RXA_1+  HDMI input  Digital Input Channel 1 True of Port A in the HDMI Interface 
11 TVDD  Power  Terminator Supply Voltage (3.3 V) 
12 RXA_2 − HDMI input  Digital Input Channel 2 Complement of Port A in the H DMI Interface 
13 RXA_2+  HDMI input  Digital Input Channel 2 True of Port A in the HDMI Interface 
14 CVDD  Power  HDMI Analog  Block Supply Voltage (1.8 V) 
15 P23 Digital video output  Video Pixel Output Port 
16 P22 Digital video output  Video Pixel Outpu t Port 
17 P21 Digital video output  Video Pixel Output Port 
18 P20 Digital video output  Video Pixel Output Port 
19 P19 Digital video output  Video Pixel Output Port 
20 P18 Digital video output  Video Pixel Output Port 
21 P17 Digital video output  Video Pixel Output Port 
22 P16 Digital video output  Video Pixel Output Port 
23 DVDDIO  Power  Digital I/O Supply Voltage (3.3 V) 
24 DVDD  Power  Digital Core Supply Voltage (1.8 V) 
Data Sheet ADV7611Pin NoMnemonic  Type  Description  
25 LLC Digital video output  Line -Locked Output Clock for the Pixel Data (R ange is 13.5 MHz to 162.5 MHz) 
26 P15 Digital video output  Video Pixel Output Port 
27 P14 Digital video output  Video Pixel Output Port 
28 P13 Digital video output  Video Pixel Output Port 
29 P12 Digital video output  Video Pixel Output Port 
30 P11 Digital video output  Video Pixel Output Port 
31 P10 Digital video output  Video Pixel Output Port 
32 P9 Digital video output  Video Pixel Output Port 
33 P8 Digital video output  Video Pixel Output Port 
34 DVDDIO  Power  Digital I/O Supply Voltage (3.3 V )
35 P7 Digital video output  Video Pixel Output Port 
36 P6 Digital video output  Video Pixel Output Port 
37 P5 Digital video output  Video Pixel Output Port 
38 P4 Digital video output  Video Pixel Output Port 
39 P3 Digital video output  Video Pixel O utput Port 
40 DVDD  Power  Digital Core Supply Voltage (1.8 V) 
41 P2 Digital video output  Video Pixel Output Port 
42 P1 Digital video output  Video Pixel Output Port 
43 P0 Digital video output  Video Pixel Output Port 
44 DVDDIO  Power  Digital I/O Supp ly Voltage (3.3 V) 
45 DE Miscellaneous digital  DE (da
ta enable) is a signal that indicates active pixel data 
46 HS Digital video output  HS is a horizontal synchronization output signal 
47 VS/FIELD/ALS
B Digital input/output  VS is a vertical synchroni zation output signalFIELD is a field synchronization output 
signal in all interlaced video modesVS or FIELD can be configured for this pinThe 
ALSB allows selection of the I2C address 
48 AP Miscellaneous  digital  Audio Output PinPin can be configur ed to output S /PDIF digital audio output 
(S/PDIF) or I2S
49 SCLK/INT2 Miscellaneous digital  A dual function pin that can be configured to output an audio serial clock or an 
Interrupt  2 signal 
50 LRCLK  Miscellaneous digital  Audio Left/ Right Clock 
51 MCLK/INT2  Miscellaneous digital  A dual fu nction pin that can be configured to output an audio master clock or an 
Interrupt  2 signal 
52 DVDD  Power  Digital Core Supply Voltage (1.8 V) 
53 SCL Miscellaneous digital  I2C Port Serial Clock InputSCL is the clock line for the control port 
54 SDA  Miscellaneous digital  I2C Port Serial Data Input/Output PinSDA is the data line for the control port 
55 INT1  Miscellaneous digital  InterruptThis pin can be active low or active highWhen status bits change, t his pin is 
triggeredThe events that trigger an interrupt are under user configuration 
56 RESET   Miscellaneous digital  System Reset InputActive lowA minimum low reset pulse width of 5 ms is required 
to reset the ADV7611 circuitry 
57 PVDD  Power  PLL Supply Voltage (1.8  V)
58 XTALP  Miscellaneous analog  Input Pin for 28.63636 MHz Crystal or an External 1.8 V, 28.63636 MHz Clock Oscillator 
Source to Clock the ADV7611 
59 XTALN  Miscellaneous analog  Crystal InputInput pin for 28.63 636 MHz crystal 
60 DVDD  Power  Digital Core Supply Voltage (1.8 V) 
61 CEC Digital input/output  Consumer Electronic Control Channel 
62 DDCA_SCL  HDMI input  HDCP Slave Serial Clock Port ADDCA_SCL is a 3.3 V input that is 5 V tolerant 
63 DDCA_SDA  HDMI input  HDCP Slave Serial Data Port ADDCA_SDA is a 3.3 V input that is 5 V tolerant 
64 RXA_5V  HDMI input  5 V Detect Pin for Port A in the HDMI Interface 
 
 
ADV7611  Data SheetPOWER SUPPLY  SEQUENCING  
POWER -UP SEQUENCE  
The recommended power -up sequence of the ADV7611 is to 
power up the 3.3 V supplies first, followed by the 1.8 V supplies
Reset should be held low while the supplies are powered up 
Alternatively,  the ADV7611 may be powered up by asserting all 
supplies simultaneouslyIn this case, care must be taken while the 
supplies are being established to ensure that a lower rated supply 
does not go above a higher rated supply level 
POWER -DOWN SEQUENCE 
The ADV7611 supplies may be deasserted simultaneously as 
long as a higher rated supply does not go below a lower rated  
supply 3.3VPOWER SUPPLY (V)1.8V3.3V SUPPLIES
1.8V SUPPLIES
1.8V SUPPLIES
POWER-UP3.3V SUPPLIES
POWER-UP
09305-007 
Figure 7Recommended Power- Up Sequence
 
Data Sheet ADV7611FUNCTIONAL OVERVIEW 
HDMI RECEIVER  
The receiver supports all mandatory and many optional 3D 
formatsIt supports HDTV formats up to UXGA at 8 bit 
The HDMI -compatible receiver on  the ADV7611 incorporates 
programmable  equalization of the HDMI data signalsThis 
equalization compensates for the high frequency losses inherent  
in HDMI and DVI cabling, especially at longer lengths and higher 
frequencies It is capable of equalizing fo r cable lengths up to  
30 meters to achieve robust receiver performance 
With the inclusion of HDCP , displays can receive encrypted 
video contentThe HDMI interface of the ADV7611 allows for 
authentication of a video receiver, decryption of encoded data  
at the receiver, and renewability of that authentication during 
transmission, as specified by the HDCP 14 protocol 
The ADV7611 has a synchr onization regeneration block used  
to regenerate the DE based on the measurement of t he video 
format being displaye d and to filter the horizontal and vertical 
synchronization signals to prevent glitchesThe HDMI receiver 
also supports TERC4 error detection, used for detection  of 
corrupted  HDMI packet s following a cable disconnect 
The HDMI receiver contains an audio m ute controller that  
can detect a variety of conditions that may result in audible extraneous noise in the audio outputOn detection of these 
conditions, the audio signal can be ramped to prevent audio 
clicks or popsAudio output can be formatte d to L PCM  and 
IEC 61937 
The HDMI receiver features include:  
 162.5 MHz  (UXGA at 8 bit) maximum TMDS clock 
frequency  
 3D format support defined in HDMI 1.4a specification  
 Integrated equalizer for cable lengths up to 30 meters  
 HDCP 1.4   
 Internal HDCP keys 
 PCM audio packet support  
 Repeater support 
 Internal EDID RAM  
 Hot Plug a ssert output pin for an  HDMI port  
 CEC controller  COMPONENT PROCESSOR  
The ADV7611 has an any -to-any 3  × 3 CSC matrixThe CSC 
block is placed at the back of the CP sectionCSC enables 
YPrPb -to-RGB  and RGB -to-YCrCb conversionsMany other 
standards of color space can be implemented using the color space converter 
CP features include:  
 525i, 625i, 525p, 625p, 720p, 1080i,  1080p,  and other 
formats  
 Manual adjustments including gain (contrast) and  
offset (brightness), hue , and saturation  
 Free run output mode that provides stable timing when no 
video input is present  
 162.5 MHz processing  rate  
 Contrast, brightness, hue, and saturation controls  
 Standard identification enabled by STDI block  
 RGB that can b e color space converted to YCrCb and 
decima ted to a 4:2:2 format for video -centric back end IC 
interfacing  
 DE output signal supplied for direct connection to an 
HDMI/DVI transmitter  
OTHER FEATURES  
The ADV7611 has HS, VS, FIELD, and DE output signals with 
programmable position, polarity, and width  
The ADV7611 has programmable interrupt request output pins, 
including INT1 and INT2 (INT2 is accessible only via one of 
following pins: MCLK/INT2 , SCLK/INT2 , or HPA_A/INT2)  
It also features a low power -down mod eThe I2C address of  
the main map is 0x98 after resetThis can be changed after reset 
to 0x9A if pullup is attached to VS/FIELD/ALSB pin and I2C 
command SAMPLE_ALSB is issuedRefer to the Register 
Access and Serial Ports Description  section in the UG -180
The ADV7611 is provided in a 10 mm  × 10 mm, RoHS -compliant  
LQFP_EP package, and is specified over the − 40°C to +85°C 
temperature range 
 
 
ADV7611  Data SheetPIXEL INPUT/OUTPUT F ORMATTING  
The output section of the ADV7611 is highly flexibleThe pixel 
output bus can support up to 24 -bit 4:4:4 YCrCbThe pixel data 
supports both single and double data rates modesIn SDR mod e, a 
16-/24-bit 4:2:2 or 24- bit 4:4:4 output is possibleIn DDR mode1, 
the pixel output port can be configured in an 8 -/12-bit 4:2:2 YCrCb 
or 24-bit 4:4:4 RGB 
Bus rotation is supportedTable 5 and Table 6 outline the differ ent 
output formats that are supportedAll output modes are controlled  
via I2C 
 
1 DDR mode is only supported only up to 50 MHz (an equivalent to data rate 
clocked 100 MHz clock in SDR mode) PIXEL DATA OUTPUT MO DES FEATURES  
The output pixel por t features include : 
 8-/12-bit ITU -R BT.656 4:2:2 YCrCb with embedded time 
codes and/or HS, VS, a nd FIELD output signals  
 16-/24-bit YCrCb with embedded time codes and/or HS 
and VS/FIELD pin timing  
 24-bit YCrCb/RGB with embedded time codes and/or HS 
and VS/FIELD pin timing  
 DDR 8 -/12-bit 4:2:2 YCrCb  
 DDR 24-bit 4:4:4 RGB 
Table 5SDR 4:2:2 and 4:4:4 Output Modes  
 SDR 4:2:2  SDR 4:4:4  
OP_FORMAT_SEL[7:0]  0x01 0x0A1 0x80  0x8A  0x40  
Pixel Output  8-Bit SDR  
ITU-R BT.656 
Mode 0  12-Bit SDR  
ITU-R BT.656 
Mode 2  16-Bit SDR  
ITU-R BT.656 4:2:2  
Mode 0  24-Bit SDR  
ITU-R BT.656 4:2:2 
Mode 2  24-Bit SDR 4:4:4 
Mode 0  
P23 High -Z Y3, Cb3, Cr3 High -Z Y3 R7 
P22 High -Z Y2, Cb2, Cr2 High -Z Y2 R6 
P21 High -Z Y1, Cb1, Cr1  High -Z Y1 R5 
P20 High -Z Y0, Cb0, Cr0 High -Z Y0 R4 
P19 High -Z High -Z H
igh -Z Cb3, Cr3 R3 
P18 High -Z High -Z High -Z Cb2, Cr2 R2 
P17 High -Z High -Z High -Z Cb1, Cr1 R1 
P16 High -Z High -Z High -Z Cb0, Cr0  R0 
P15 Y7, Cb7, Cr7 Y11, Cb11, Cr11 Y7 Y11 G7 
P14 Y6, Cb6, Cr6 Y10, Cb10, Cr10 Y6 Y10 G6 
P13 Y5, Cb5, Cr5 Y9, Cb9, Cr9 Y5 Y9 G5 
P12 Y4, Cb4, Cr4 Y8, Cb8, Cr8 Y4 Y8 G4 
P11 Y3, Cb3, Cr3 Y7, Cb7, Cr7 Y3 Y7 G3 
P10 Y2, Cb2, Cr2  Y6, Cb6, Cr6  Y2 Y6 G2 
P9 Y1, Cb1, Cr1 Y5, Cb5, Cr5 Y1 Y5 G1 
P8 Y0, Cb0, Cr0 Y4, Cb4, Cr4 Y0 Y4 G0 
P7 High -Z High -Z Cb7, Cr7 Cb11, Cr11 B7 
P6 High -Z High -Z Cb6, Cr6 Cb10, Cr10 B6 
P5 High -Z High -Z Cb5, Cr5 Cb9, Cr9 B5 
P4 High -Z High -Z Cb4, Cr4  Cb8, Cr8  B4 
P3 High -Z High -Z Cb3, Cr3 Cb7, Cr7 B3 
P2 High -Z High -Z Cb2, Cr2 Cb6, Cr6 B2 
P1 High -Z High -Z Cb1, Cr1 Cb5, Cr5 B1 
P0 High -Z High -Z Cb0, Cr0 Cb4, Cr4 B0 
 
1 Modes 0x00 and 0x0A require additional writes to IO Map Reg ister  0x19[7:6]  = 2’b11 and IO Map Reg ister 0x33[6]  = 1 
 
Data Sheet ADV7611Table 6DDR 4:2:2 and 4:4:4 Output Modes  
 DDR 4:2:2 Mode (Clock/2)  DDR 4:2:2 Mode (Clock/2)  DDR 4:4:4 Mode (Clock/2)1, 2 
OP_FORMAT_SEL[7:0]  0x20  0x2A  0x60  
 8-Bit DDR ITU -656  
(Clock/2 Output) 4:2:2 Mode 0  12-Bit DDR ITU -656  
(Cloc k/2 Output) 4:2:2 Mode 2  24-Bit DDR RGB  
(Clock/2 Output)  
Pixel Output  Clock Rise  Clock Fall  Clock Rise  Clock Fall  Clock Rise  Clock Fall  
P23 High -Z High -Z Cb3, Cr3 Y3 R7-0 R7-1 
P22 High -Z High -Z Cb2, Cr2 Y2 R6-0 R6-1 
P21 High -Z High -Z Cb1, Cr1 Y1 R5-0 R5-1 
P20 High -Z High -Z Cb0, Cr0 Y0 R4-0 R4-1 
P19 High -Z High -Z High -Z High -Z R3-0 R3-1 
P18 High -Z High -Z High -Z High -Z R2-0 R2-1 
P17 High -Z High -Z High -Z High -Z R1-0 R1-1 
P16 High -Z High -Z High -Z High -Z R0-0 R0-1 
P15 Cb7, Cr7 Y7 Cb11, Cr11 Y11 G7-0 G7-1 
P14 Cb6, Cr6 Y6 Cb1 0, Cr10 Y10 G6-0 G6-1 
P13 Cb5, Cr5  Y5 Cb9, Cr9  Y9 G5-0 G5-1 
P12 Cb4, Cr4 Y4 Cb8, Cr8 Y8 G4-0 G4-1 
P11 Cb3, Cr3 Y3 Cb7, Cr7 Y7 G3-0 G3-1 
P10 Cb2, Cr2 Y2 Cb6, Cr6 Y6 G2-0 G2-1 
P9 Cb1, Cr1 Y1 Cb5, Cr5 Y5 G1-0 G1-1 
P8 Cb0, Cr0 Y0 Cb4, Cr4 Y4 G0-0 G0-1 
P7 High -Z High -Z High -Z High -Z B7-0 B7-1 
P6 High -Z High -Z High -Z High -Z B6-0 B6-1 
P5 High -Z High -Z High -Z High -Z B5-0 B5-1 
P4 High -Z High -Z High -Z High -Z B4-0 B4-1 
P3 High -Z High -Z High -Z High -Z B3-0 B3-1 
P2 High -Z High -Z High -Z High -Z B2-0 B2-1 
P1 High -Z High -Z High -Z High -Z B1-0 B1-1 
P0 High -Z High -Z High -Z High -Z B0-0 B0-1 
 
1 -0 = even samples 
2 -1 = odd samples 
 
 
ADV7611  Data SheetOUTLINE DIMENSIONS 
COMPLIANT TO JEDEC S TANDARDS MS-026-BCD-HD1
16
17 32 3249 64
48
3312.20
12.00 SQ
11.80 10.20
10.00 SQ
9.80
1
16
1749 64
48
33PIN 1
TOP VIEW
(PINS DOWN)BOT TOM VIEW
(PINS UP)EXPOSED
PAD
06-12-2012- AVIEW A1.60
MAX
SEATING
PLANE0.75
0.60
0.45
1.00 REF
0.15
0.05 0.08
COPLANARITY7°
0°0.200.09
VIEW A
ROTATED 90° CCW1.45
1.401.35
0.27
0.220.17 0.50
LEAD PITCH7.50
REF SQ
FOR PROPER CONNECTION OF
THE EXPOSED PAD, REFER TO
THE PIN CONFIGURATION AND
FUNCTION DESCRIPTIONS
SECTION OF THIS DATA SHEET.5.10
5.00 SQ
4.90
 
Figure 864-Lead Low Profile Quad Flat Package (LQFP_EP)  
SW-64-2 
Dimensions shown in millimeters   
 
ORDE RING GUIDE  
Model1, 2 Notes  Temperature Range Package Description  Package Option  
ADV7611BSWZ   −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
ADV7611BSWZ -RL 3 −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
ADV7611BSWZ -P 4 −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
ADV7611BSWZ -P-RL 3 −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
ADV7611WBSWZ  −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
ADV7611WBSWZ -RL 3 −40°C to +85°C 64-Lead LQFP_EP  SW-64-2 
EVAL -ADV7611EB1Z   Evaluatio n Board with HDCP Keys   
EVAL -ADV7611EB2Z   Evaluation Board Without HDCP Keys   
 
1 Z = RoHS Compliant Part 
2 W = Qualified for Automotive Parts 
3 13” Tape and Reel 
4 Non -HDCP version 
 
AUTOMOTIVE PRODUCTS  
The AD V7611W model s are  available with controlled manufacturing to support the qual ity and reliability requirement s of automotive 
applicationsNote that  these automotive model s may have specifications that differ from the commercial models; therefore, designers 
should review the Specifications  section of this data sheet carefullyOnly the automotive grade product s shown are available for use in 
automotive applicationsContact your local Analog Devices, Inc., account representative for specific product ordering inform ation and to 
obtain the specific Automotive Reliability report for this model 
 
Data Sheet ADV7611NOTES  
ADV7611  Data SheetNOTES  
 
 
 
 
   
 
     
 
 
  
 
   
 
   
 
  
 
   
 
  
HDMI, the HDMI L ogo, and High -Definition Multimedia Interface are trademarks or registered trademarks of HDMI Licensing LLC in the United States and other 
countries 
©2010 -2012  Analog Devices, IncAll rights reservedTrademarks and   
 registered trademarks are the property of their respective owners 
  D09305- 0-6/12(D)  
 

LTC6416
16416fThe L TC®6416 is a differential unity gain buffer designed 
to drive 16-bit ADCs with extremely low output noise and excellent linearity beyond 300MHzDifferential input impedance is 12kΩ, allowing 1:4 and 1:8 transformers to be used at the input to achieve additional system gainWith no external biasing or gain setting components and 
a ﬂ  ow-through pinout, the L TC6416 is very easy to useIt can be DC-coupled and has a common mode output offset of –40mV If the input signals are AC-coupled, the L TC6416 input pins are internally biased to provide an output common mode voltage that is set by the voltage on the V
CM pinIn addition the L TC6416 has high speed, fast recovery 
clamping circuitry to limit output signal swingBoth the high and low clamp voltages are internally biased to allow maximum output swing but are also user programmable via the CLLO and CLHI pinsSupply current is nominally 42mA and the L TC6416 oper-
ates on supply voltages ranging from 2.7V to 3.9V The L TC6416 is packaged in a 10-lead 3mm × 2mm DFN 
packagePinout is optimized for placement directly adjacent to Linear’s high speed 12-, 14- and 16-bit ADCsL, L T , L TC and L TM are registered trademarks of Linear Technology CorporationAll other 
trademarks are the property of their respective owners TYPICAL APPLICATION DESCRIPTION2 GHz Low Noise Differential
 16-Bit ADC Buffer
L TC6416 Driving L TC2208 ADC – 140MHz IF FEATURES
 APPLICATIONSn 2GHz –3dB Small Signal Bandwidth
n 300MHz ±0.1dB Bandwidth
n 1.8nV/√ Hz Output Noise
n 46.25dBm Equivalent OIP3 at 140MHz
n 40.25dBm Equivalent OIP3 Up to 300MHz
n –81dBc/–72dBc HD2/HD3 at 140MHz, 2V P-P Out
n –84.5dBc IM3 at 140MHz, 2V P-P Out Composite
n –74dBc/–67.5dBc HD2/HD3 at 300MHz, 2V P-P Out
n –72.5dBc IM3 at 300MHz, 2V P-P Out Composite
n Programmable High Speed, Fast Recovery 
Output Clamping
n DC-Coupled Signal Path
n Operates on Single 2.7V to 3.9V Supply
n Low Power: 150mW on 3.6V
n 2mm × 3mm 10-Pin DFN Package
n Differential ADC Driver
n IF Sampling Receivers
n Impedance T ransformer
n SAW Filter Interface
n CCD Buffer
25Ω200Ω
200Ω1pFV+
GNDGNDVCM
OUT–
6416 TA01aOUT+
1.5pF1.5pF0.1μF
0.1μF3.6V
2.2μF
25Ω3.3V
1:8
MINI-CIRCUITS
TCM8-1+50Ω
+–AIN+
AIN–
PGA = 1L TC2208IN+CLHI
CLLOIN–L TC6416680pF
CLOCK
(130MHz)16
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 TA01b–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500
V+ = 3.6V
HD2 = –94dBc
HD3 = –89.1dBc
SFDR = 89.1dB
SNR = 70.7dB
MEASURED USING DC1257B
WITH MINI-CIRCUIT TCM8-1+
1:8 TRANSFORMERL TC6416 Driving L TC2208 ADC 
with 1:8 T ransformer f IN =140MHz,
fS = 130MHz, –1dBFS, PGA = 1
LTC6416
26416f PIN CONFIGURATION  ABSOLUTE MAXIMUM RATINGS
Total Supply Voltage (V+ to GND).4V
Input Current (CLLO, CLHI, V CM, IN+, IN–) .±10mA
Output Current (OUT+, OUT–) .±22.5mA
Operating Temperature Range (Note 2).–40°C to 85°C
Speciﬁ  ed Temperature Range (Note 3) .–40°C to 85°CStorage Temperature Range .–65°C to 150°CJunction Temperature 150°C(Note 1)
TOP VIEW
11
DDB PACKAGE
10-LEAD (3mm s 2mm) PLASTIC DFNVCM
CLHI
IN+
IN–
CLLOV+
GND
OUT+
OUT–
GND68
7910
542
31
TJMAX = 150°C, θ JA = 76°C/W , θ JC = 13.5°C/W
EXPOSED PAD (PIN 11) IS GND, MUST BE SOLDERED TO PCB
ORDER INFORMATION
3.6V  ELECTRICAL CHARACTERISTICS The l denotes the speciﬁ  cations which apply over the full 
operating temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.6V , GND = 0V , No R LOAD, CLOAD = 6pF V CM = 1.25V , 
CLHI = V+, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as (OUT+ + OUT–)/2V INDIFF  is 
deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematicSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
Input/Output Characteristics 
GDIFF Differential Gain VINDIFF  = ±1.2V Differential
l–0.3
–0.4–0.15 0
0dBdB
TCG
DIFF Differential Gain Temperature Coefﬁ  cient l –0.00033 dB/°C
VSWINGDIFF Differential Output Voltage Swing V OUTDIFF , VINDIFF  = ±2.3V
l3.73.34.2 V
P-P 
VP-P
VSWINGMIN Output Voltage Swing Low Single-Ended Measurement of OUT+, 
OUT–VINDIFF  = ±2.3V l0.2 0.3
0.35VV
V
SWINGMAX Output Voltage Swing High Single-Ended Measurement of OUT+, 
OUT–VINDIFF  = ±2.3V l2.15
22.3 V
V
IOUT Output Current Drive Single-Ended Measurement of OUT+, 
OUT–l ±20 mA
VOS Differential Input Offset Voltage IN+ = IN– = 1.25V , V OS = V OUTDIFF /
GDIFF l–5
–10–0.5 5
10mVmV
TCV
OS Differential Input Offset Voltage Drift l 1μ V/°C
VIOCM Common Mode Offset Voltage, Input to OutputV
OUTCM  – V INCM
l–65–75–47 –15
–5mVmVLead Free Finish
TAPE AND REEL (MINI) TAPE AND REEL PART MARKING* PACKAGE DESCRIPTION TEMPERATURE RANGE
L TC6416CDDB#TRMPBF L TC6416CDDB#TRPBF LDDY 10-Lead (3mm × 2mm) Plastic DFN 0°C to 70°C
L TC6416IDDB#TRMPBF L TC6416IDDB#TRPBF LDDY 10-Lead (3mm × 2mm) Plastic DFN –40°C to 85°C
TRM = 500 pieces*Temperature grades are identiﬁ  ed by a label on the shipping container Consult L TC Marketing for parts speciﬁ  ed with wider operating temperature rangesConsult L TC Marketing for information on lead based ﬁ  nish partsFor more information on lead free part marking, go to: http://www.linear .com/leadfree/
For more information on tape and reel speciﬁ  cations, go to: http://www.linear .com/tapeandreel/
LTC6416
36416f3.6V  ELECTRICAL CHARACTERISTICS  The l denotes the speciﬁ  cations which apply over the full 
operating temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.6V , GND = 0V , No R LOAD, CLOAD = 6pF V CM = 1.25V , 
CLHI = V+, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as (OUT+ + OUT–)/2V INDIFF  is 
deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematicSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
IVRMIN Input Voltage Range, IN+, IN– 
(Minimum) (Single-Ended)Deﬁ  ned by Output Voltage Swing Test l 0.1 V
IVRMAX Input Voltage Range IN+, IN– 
(Maximum) (Single-Ended)Deﬁ  ned by Output Voltage Swing Test l 2.4 V
IB Input Bias Current, IN+, IN–IN+ = IN– = 1.25V l –15 –5 15 μA
RINDIFF Differential Input Resistance V INDIFF  = ±1.2V l 91 2 1 5k Ω
CINDIFF Differential Input Capacitance 1 pF
RINCM Input Common Mode Resistance IN+ = IN– = 0.65V to 1.85V 6 kΩ
CMRR Common Mode Rejection Ratio IN+ = IN– = 0.65V to 1.85V ,
CMRR = (V OUTDIFF /GDIFF/1.2V) l63.559.683 dB
dB
e
N Input Noise Voltage Density f = 100kHz 1.8 nV/√ Hz
iN Input Noise Current Density f = 100kHz 6.5 pA/√ Hz
Output Common Mode Voltage ControlG
CM VCM Pin Common Mode Gain V CM = 0.65V to 1.85V l 0.9 0.96 1.05 V/V
VINCMDEFAUL T Default Input Common Mode Voltage V INCMIN+, IN–, VCM Pin Floating l 1.3 1.38 1.45 V
VOS (VCM – V INCM) Offset Voltage, V CM to V INCM VCM – V INCM, VCM = 1.25V l –70 –28 70 mV
VOUTCMDEFAUL T Default Output Common Mode Voltage Inputs Floating, V CM Pin Floating l 1.25 1.34 1.45 V
VOS (VCM – V OUTCM ) Offset Voltage, V CM to V OUTCM VCM – V OUTCM , VCM = 1.25V l –60 15 60 mV
VOUTCMMIN Output Common Mode Voltage Range 
(Minimum)VCM = 0.1V
l0.37 0.5
0.55V
V
VOUTCMMAX Output Common Mode Voltage Range 
(Maximum)VCM = 2.7V
l2.3
2.252.46 V
V
VCMDEFAUL T VCM Pin Default Voltage l 1.325 1.36 1.425 V
RVCM VCM Pin Input Resistance l 2.5 3.8 5.1 kΩ
CVCM VCM Pin Input Capacitance 1 pF
IBVCM VCM Pin Bias Current V CM = 1.25V l –50 –32 50 μA
DC Clamping CharacteristicsV
CLHIDEFAUL T Default Output Clamp Voltage, High l 2.3 2.45 2.6 V
VOS (CLHI – V OUTCM ) Offset Voltage, CLHI to V OUTCM l –55 13 55 mV
VCLLODEFAUL T Default Output Clamp Voltage, Low l 0.125 0.265 0.425 V
VOS (CLLO – V OUTCM ) Offset Voltage, CLLO to V OUTCM l –120 –70 0 mV
RCLHI CLHI Pin Input Resistance V CLHI = 2.45V l 3 4.1 5 kΩ
IBCLHI CLHI Pin Bias Current V CLHI = 2.45V l –25 –1 25 μA
RCLLO CLLO Pin Input Resistance V CLLO = 0.275V l 1.5 2.3 3.2 kΩ
IBCLLO CLLO Pin Bias Current V CLLO = 0.275V l –25 4.5 25 μA
Power SupplyV
S Supply Voltage Range l 2.7 3.9 V
IS Supply Current
l33 42 51
54mA
mA
PSRR Power Supply Rejection Ratio V S  = 2.7V to 3.6V l 57.5 80 dB
LTC6416
46416f3.3V  ELECTRICAL CHARACTERISTICS

SYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
Input/Output CharacteristicsG
DIFF Differential Gain V INDIFF  = ±1.2V
l–0.3
–0.4–0.15 0
0dB
dB
TCG DIFF Differential Gain Temperature Coefﬁ  cient l –0.00033 dB/°C
VOUTDIFF Differential Output Voltage Swing V INDIFF  = ±2.3V
l3.5
3.24V P-P 
VP-P
VOUTMIN Output Voltage Swing Low Single-Ended Measurement of OUT+, 
OUT–VINDIFF  = ±2.3V l0.2 0.3
0.35V
V
VOUTMAX Output Voltage Swing High Single-Ended Measurement of OUT+, 
OUT–VINDIFF  = ±2.3V l2.051.952.2 V
V
I
OUT Output Current Drive (Note 4) Single-Ended Measurement of OUT+, 
OUT–l ±20 mA
VOS Differential Input Offset Voltage IN+ = IN– = 1.25V , V OS = V OUTDIFF /
GDIFF l–5
–10–0.1 5
10mV
mV
TCV OS Differential Input Offset Voltage Drift l 1μ V / ° C
VIOCM Common Mode Offset Voltage, Input to 
OutputVOUTCM  – V INCM
l–65
–75–40 –15
–5mV
mV
IVRMIN Input Voltage Range, IN+, IN– 
(Minimum) (Single-Ended)Deﬁ  ned by Output Voltage Swing Test l 0.1 V
IVRMAX Input Voltage Range, IN+, IN– 
(Maximum) (Single-Ended)Deﬁ  ned by Output Voltage Swing Test l 2.4 V
IB Input Bias Current, IN+, IN–IN+ = IN– = 1.25V l –15 –4 15 μA
RINDIFF Differential Input Resistance V INDIFF  = ±1.2V l 91 2 1 5 k Ω
CINDIFF Differential Input Capacitance 1 pF
RINCM Input Common Mode Resistance IN+ = IN– = 0.65V to 1.85V 6 kΩ
CMRR Common Mode Rejection Ratio IN+ = IN– = 0.65V to 1.85V = ΔV INCM,
CMRR = (V OUTDIFF /GDIFF/ΔVINCM)l63.559.683 dB
dB
e
N Input Noise Voltage Density f = 100kHz 1.8 nV/√ Hz
iN Input Noise Current Density f = 100kHz 6.5 pA/√ Hz
Output Common Mode Voltage ControlG
CM VCM Pin Common Mode Gain V CM = 0.65V to 1.85V l 0.9 0.96 1.05 V/V
VINCMDEFAUL T Default Input Common Mode Voltage V INCMIN+, IN–, VCM Pin Floating l 1.2 1.28 1.35 V
VOS (VCM – V INCM) Offset Voltage, V CM to V INCM VCM – V INCM, VCM = 1.25V l –70 –26 70 mV
VOUTCMDEFAUL T Default Output Common Mode Voltage Inputs Floating, V CM Pin Floating l 1.15 1.24 1.35 V
VOS (VCM – V OUTCM ) Offset Voltage, V CM to V OUTCM VCM – V OUTCM , VCM = 1.25V l –60 14 60 mV
VOUTCMMIN Output Common Mode Voltage 
(Minimum)VCM = 0.1V
l0.34 0.5
0.55V
V
VOUTCMMAX Output Common Mode Voltage 
(Maximum)VCM = 2.4V
l2.05
22.16 V
V
VCMDEFAUL T VCM Pin Default Voltage l 1.2 1.25 1.3 V
RVCM VCM Pin Input Resistance l 2.5 3.8 5.1 kΩ
CVCM VCM Pin Input Capacitance 1 pF
IBVCM VCM Pin Bias Current V CM = 1.25V l –10 0.2 10 μA The l denotes the speciﬁ  cations which apply over the full 
operating temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.3V , GND = 0V , No R LOAD, CLOAD = 6pF V CM = 1.25V , 
CLHI = V+, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as (OUT+ + OUT–)/2V INDIFF  is 
deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematic.
LTC6416
56416fSYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
Differential AC Characteristics–3dBBW –3dB Bandwidth 200mV
P-P,OUT  Differential 2 GHz
0.1dBBW ±0.1dB Bandwidth 200mV P-P,OUT  Differential 0.3 GHz
0.5dBBW ±0.5dB Bandwidth 200mV P-P,OUT  Differential 1.4 GHz
1/f 1/f Noise Corner 25 kHz
SR Slew Rate Differential 3.4 V/nst
S1% 1% Settling Time 2V P-P,OUT 1.8 ns
Common Mode AC Characteristics (V CM Pin)
–3dBBW VCM VCM Pin Small Signal –3dB BW V CM = 0.1V P-P, Measured Single-Ended 
at Output9M H z
SRCM Common Mode Slew Rate Measured Single-Ended at Output 40 V/μs
AC Clamping Characteristicst
OVDR Overdrive Recovery Time 1.9V P-P,OUT 5n s
AC Linearity70MHz SignalHD2 Second Harmonic Distortion V
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–83.5
–71
–78.5–88.5dBc
dBcdBcdBcAC ELECTRICAL CHARACTERISTICS The l denotes the speciﬁ  cations which apply over the full operating 
temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.3V and 3.6V unless otherwise noted, GND = 0V , No R LOAD, 
CLOAD = 6pF V CM = 1.25V , CLHI = V CC, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as 
(OUT+ + OUT–)/2V INDIFF  is deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematic.SYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
DC Clamping CharacteristicsV
CLHIDEFAUL T Default Output Clamp Voltage, High l 2.1 2.23 2.4 V
VOS (CLHI – V OUTCM ) Offset Voltage, CLHI to V OUTCM l –55 4 55 mV
VCLLODEFAUL T Default Output Clamp Voltage, Low l 0.1 0.25 0.4 V
VOS (CLLO – V OUTCM ) Offset Voltage, CLLO to V OUTCM l –120 –72 0 mV
RCLHI CLHI Pin Input Resistance V CLHI = 2.25V l 3 4.1 5 kΩ
IBCLHI CLHI Pin Bias Current V CLHI = 2.25V l –25 –1 25 μA
RCLLO CLLO Pin Input Resistance V CLLO = 0.25V l 1.5 2.3 3.2 kΩ
IBCLLO CLLO Pin Bias Current V CLLO = 0.25V l –25 3 25 μA
Power SupplyV
S Supply Voltage Range l 2.7 3.9 V
IS Supply Current
l33 42 51
54mA
mA
PSRR Power Supply Rejection Ratio V S  = 2.7V to 3.6V l 57.5 80 dB The l denotes the speciﬁ  cations which apply over the full 
operating temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.3V , GND = 0V , No R LOAD, CLOAD = 6pF V CM = 1.25V , 
CLHI = V+, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as (OUT+ + OUT–)/2V INDIFF  is 
deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematic3.3V  ELECTRICAL CHARACTERISTICS
LTC6416
66416fNote 1:  Stresses beyond those listed under Absolute Maximum Ratings 
may cause permanent damage to the deviceExposure to any Absolute Maximum Rating condition for extended periods may affect device reliability and lifetimeNote 2:  The L TC6416C/L TC6416I is guaranteed functional over the 
operating temperature range of –40°C to 85°CNote 3:  The L TC6416C is guaranteed to meet speciﬁ  ed performance from 
0°C to 70°CIt is designed, characterized and expected to meet speciﬁ  ed performance from –40°C and 85°C but is not tested or QA sampled SYMBOL PARAMETER CONDITIONS MIN TYP MAX UNITS
HD3 Third Harmonic Distortion V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–73
–60
–94.5
–83dBc
dBcdBcdBc
IM3 Output Third Order Intermodulation 
DistortionV
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–76.5
–86dBc
dBc
OIP3 Output Third Order Intercept (Equivalent) 
(Note 5)V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P42.25
47dBm
dBm
P1dB Output 1dB Compression Point (Equivalent) 
(Note 5)V+ = 3.6V , V CM = 1.25V 14.1 dBm
140MHz Signal
HD2 Second Harmonic Distortion V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–79.5
–75.5
–73–81dBc
dBcdBcdBc
HD3 Third Harmonic Distortion V
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–64
–55–70–72dBc
dBcdBcdBc
IM3 Output Third Order Intermodulation 
DistortionV
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–75
–84.5dBc
dBc
OIP3 Output Third Order Intercept (Equivalent) 
(Note 5)V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P41.5
46.25dBm
dBm
P1dB Output 1dB Compression Point (Equivalent) 
(Note 5)V+ = 3.6V , V CM = 1.25V 14.1 dBm
300MHz Signal
HD2 Second Harmonic Distortion V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–75
–65
–69.5
–74dBc
dBcdBcdBc
HD3 Third Harmonic Distortion V
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.3V , V CM = 1.25V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.05V 
, V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–59
–51.5
–63
–67.5dBc
dBcdBcdBc
IM3 Output Third Order Intermodulation 
DistortionV
+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P–68.5
–72.5 –64dBc
dBc
OIP3 Output Third Order Intercept (Equivalent) 
(Note 5)V+ = 3.3V , V CM = 1.05V , V OUTDIFF  = 2V P-P
V+ = 3.6V , V CM = 1.25V , V OUTDIFF  = 2V P-P 3638.25
40.25dBm
dBm
P1dB Output 1dB Compression Point (Equivalent) 
(Note 5)V+ = 3.6V , V CM = 1.25V 12.9 dBmAC  ELECTRICAL CHARACTERISTICS  The l denotes the speciﬁ  cations which apply over the full operating 
temperature range, otherwise speciﬁ  cations are at T A = 25°CV+ = 3.3V and 3.6V unless otherwise noted, GND = 0V , No R LOAD, 
CLOAD = 6pF V CM = 1.25V , CLHI = V CC, CLLO = 0V unless otherwise notedV INCM is deﬁ  ned as (IN+ + IN–)/2V OUTCM  is deﬁ  ned as 
(OUT+ + OUT–)/2V INDIFF  is deﬁ  ned as (IN+ – IN–)VOUTDIFF  is deﬁ  ned as (OUT+ – OUT–)See DC test circuit schematicat these temperaturesThe L T6416I is guaranteed to meet speciﬁ  ed 
performance from –40°C to 85°CNote 4:  This parameter is pulse testedNote 5:  Since the L TC6416 is a voltage-output buffer , a resistive load is not 
required when driving an AD converter Therefore, typical output power is very smallIn order to compare the L TC6416 with ampliﬁ  ers that require a 50Ω 
output load, the L TC6416 output voltage swing driving a given R
L is converted 
to OIP3 and P1dB as if it were driving a 50Ω loadUsing this modiﬁ  ed 
convention, 2V P-P is by deﬁ  nition equal to 10dBm, regardless of actual R L.
LTC6416
76416fFREQUENCY (MHz)DIFFERENTIAL GAIN (dB)
6416 G0110 1000 10000 100V+ = 3.3V2
0
–4–8
–12–2
–6
–10
–14
–16
S11 (dB)
6416 G02V+ = 3.3V0
–20
–25–5
–15–10
–30
–35
FREQUENCY (MHz)10 1000 100
DIFFERENTIAL OUTPUT RETURN LOSS (dB)
6416 G03V+ = 3.3V0
–1
–4
–8–7–2
–3
–6–5
–9
–10
FREQUENCY (MHz)10 1000 100DIFFERENTIAL REVERSE ISOLATION (dB)
6416 G04V+ = 3.3V–20
–40
–80–70–30
–60–50
–90
–100
FREQUENCY (MHz)10 1000 100 TYPICAL PERFORMANCE CHARACTERISTICS
Differential Reverse Isolation 
(S12) vs FrequencyDifferential Forward Gain (S21) 
vs FrequencyDifferential Input Return Loss 
(S11) vs FrequencyDifferential Output Return Loss 
(S22) vs Frequency
–50
–60
–70–80
–90
–100
FREQUENCY (MHz)HD2, HD3 (dBc)
6416 G0510 100 500V+ = 3.3V
VCM = 1.25V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIALHD2HD3–50
–60
–70–80
–90
–100
FREQUENCY (MHz)HD2, HD3 (dBc)
6416 G06V+ = 3.6V
VCM = 1.25V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL
HD2HD3
10 100 500Second and Third Harmonic 
Distortion vs FrequencySecond and Third Harmonic 
Distortion vs Frequency
LTC6416
86416fTYPICAL PERFORMANCE CHARACTERISTICS
Third Order Intermodulation 
Distortion (IM3) vs Frequency and Supply VoltageThird Order Intermodulation 
Distortion (IM3) vs Output Common Mode Voltage (140MHz)
Output Third Order Intercept 
(OIP3
EQUIV ) vs Frequency and 
Supply VoltageOutput Third Order Intercept 
(OIP3 EQUIV ) vs Output Common 
Mode Voltage and Supply Voltage (140MHz)Output 1dB Compression 
(Equivalent) vs Frequency, V
CM 
and Supply VoltageSecond and Third Harmonic 
Distortion vs Output Common Mode Voltage (140MHz)Second and Third Harmonic 
Distortion vs Output Common Mode Voltage (250MHz)
Second and Third Harmonic 
Distortion vs Output Common Mode Voltage (300MHz)Second and Third Harmonic 
Distortion vs Output Common Mode Voltage (75MHz)
–50
–60–70
–80
–90
–100
VCM (V)HD2, HD3 (dBc)
6416 G07V+ = 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL
HD2HD3
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40–50
–60–70
–80
–90
–100
VCM (V)HD2, HD3 (dBc)
6416 G08V+ = 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL
HD2HD3
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40–50
–60–70
–80
–90
–100
VCM (V)HD2, HD3 (dBc)
6416 G09V+ = 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL
HD2HD3
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40
–50
–60
–70–80
–90
–100
VCM (V)HD2, HD3 (dBc)
6416 G10V+ = 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL
HD2HD3
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40–50
–60
–70–80
–90
–100
FREQUENCY (MHz)IM3 (dBc)
6416 G11V+ = 3.3V , 3.6V; V CM = 1.25V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL (COMPOSITE)
$f = 1MHzIM3 V CC = 3.3V
IM3 V CC = 3.6V
0 250 450 150 350 500 200 400 100 30050–50
–60
–70–80
–90
–100
VCM (V)IM3 (dBc)
6416 G12V+ = 3.3V , 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL (COMPOSITE)
$f = 1MHz
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40IM3 V+ = 3.3V
IM3 V+ = 3.6V
50
45
40
3530
25
FREQUENCY (MHz)OIP3 EQUIV  (dB)
6416 G13V+ = 3.3V , 3.6V
VCM = 1.25V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL (COMPOSITE)
$f = 1MHzOIP3 V CC = 3.3VOIP3 V CC = 3.6V
0 250 450 150 350 500 200 400 100 3005050
45
40
3530
25OIP3 EQUIV  (dBm)
6416 G14V+ = 3.3V , 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIAL (COMPOSITE)
$f = 1MHzOIP3 EQUIV  V+ = 3.3VOIP3 EQUIV  V+ = 3.6V
1.05 1.15 1.25 1.10 1.20 1.35 1.45 1.30 1.40
VCM (V)15.0
14.0
13.0
12.0
11.014.5
13.512.5
11.5
10.5
10.0
FREQUENCY (MHz)P1dB COMPRESSION (EQUIVALENT) (dBm)
6416 G15V+ = 3.3V , 3.6V
RLOAD  = 400Ω
VOUT = 2V P-P DIFFERENTIALVCM = 1.05VVCM = 1.25V
0 250 150 350 400 200 100 300 50V+ = 3.3V
V+ = 3.6V
LTC6416
96416fSupply Current vs Supply Voltage TYPICAL PERFORMANCE CHARACTERISTICS
Noise Figure and Input Referred 
Noise Voltage vs Frequency PSRR vs Frequency
SUPPL Y VOL TAGE (V)
6416 G160 2.5 1.5 3.5 4.0 2.0 1.0 3.0 0.550
45
40
35
302520
15
10
50SUPPL Y CURRENT (mA)
FREQUENCY (Hz)INPUT REFERRED NOISE VOL TAGE (nV √Hz)NOISE FIGURE (dB)
6416 G1714
1012
8
6
4
2
014
1012
8
6
4
2
0
1k 10k 100k 100M 1G 10M 1MeNNF
Positive Overdrive Recovery 
(VCLHI Pin)
200mV/DIV
6416 G1820ns/DIVIN+
OUT+Negative Overdrive Recovery (V
CLLO Pin)
6416 G1920ns/DIV200mV/DIV
IN+OUT+
6416 G30500ps/DIV10mV/DIVSmall Signal T ransient Response, 
Rising Edge
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G20–130–120–110–100–90–80–70–60–50–40–30–20–10
10 303
2
20 40 500V+ = 3.6V
HD2 = –104.9dBc
HD3 = –86.1dBc
SFDR = 86.05dBSNR = 76.5dBSEE FIGURE 5/TABLE 11:1 BALUN
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G21–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500V+ = 3.6V
HD2 = –101.9dBc
HD3 = –96.2dBc
SFDR = 96.2dBcSNR = 74.2dBSEE FIGURE 5/TABLE 11:1 BALUN
3
2L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN = 30MHz, 
–1dBFS, PGA = 0 L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN = 30MHz, 
–1dBFS, PGA = 1
6416 G31500ps/DIV10mV/DIVSmall Signal T ransient Response, 
Falling Edge0.1 140607080
50
1000
6416 G2930
01020
10 10090V+ = 3.6V
FREQUENCY (MHz)PSRR (dB)
LTC6416
106416fTYPICAL PERFORMANCE CHARACTERISTICS
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G22–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500
V+ = 3.6V
HD2 = –95dBc
HD3 = –86dBc
SFDR = 86dBcSNR = 74.6dBFSSEE FIGURE 5/TABLE 1 1:1 BALUN 
3
2
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G23–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500
V+ = 3.6V
HD2 = –99dBc
HD3 = –91dBc
SFDR = 91dBcSNR = 73dBFSSEE FIGURE 5/TABLE 1 1:1 BALUN 
3
2
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G24–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500
V+ = 3.6V
HD2 = –85.6dBc
HD3 = –95.5dBc
SFDR = 85.6dBc
SNR = 72.6dBFS
SEE FIGURE 5/TABLE 1
1:1 BALUN
352
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G25–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500
3 2V+ = 3.6V
HD2 = –91.8dBc
HD3 = –93.6dBc
SFDR = 91.8dBc
SNR = 70.9dBFS
SEE FIGURE 5/TABLE 1
1:1 BALUN
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G26–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500V+ = 3.6V
IM3 = 86dBcSEE FIGURE 5/TABLE 1 1:1 BALUN 
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G27–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500V+ = 3.6V
IM3 = 81.7dBcSEE FIGURE 5/TABLE 1 1:1 BALUN 
FREQUENCY (MHz)0AMPLITUDE (dBFS)
60
6416 G28–130–120–110–100–90–80–70–60–50–40–30–20–10
10 30 20 40 500V+ = 3.6V
IM3 = 81.7dBc
SEE FIGURE 5/TABLE 1
1:1 BALUNL TC6416 Driving L TC2208 
16-Bit ADC, 64K Point FFT , f
IN = 140MHz, –1dBFS, PGA = 1L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN 
= 30MHz 
and 31MHz, –7dBFS/Tone, PGA = 0
L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN = 70MHz 
and 71MHz, –7dBFS/Tone, PGA = 0L TC6416 Driving L TC2208 16-Bit ADC, 
64K Point FFT , f IN = 139.5MHz and 
140.5MHz, –7dBFS/Tone, PGA = 0L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN = 70MHz, 
–1dBFS, PGA = 0L TC6416 Driving L TC2208 16-Bit 
ADC, 64K Point FFT , f IN = 70MHz, 
–1dBFS, PGA = 1L TC6416 Driving L TC2208 
16-Bit ADC, 64K Point FFT , f
IN = 140MHz, –1dBFS, PGA = 0
LTC6416
116416f PIN FUNCTIONS
VCM (Pin 1): This pin sets the output common mode voltage 
seen at OUT+ and OUT– by driving IN+ and IN– through an 
internal buffer with a high output resistance of 6kThe V CM 
pin has a Thevenin equivalent resistance of approximately 3.8k and can be overdriven by an external voltageIf no voltage is applied to V
CM, it will ﬂ  oat to a default voltage 
of approximately 1.25V on a 3.3V supply or 1.36V on a 3.6V supplyThe V
CM pin should be bypassed with a 
high-quality ceramic bypass capacitor of at least 0.1μF CLHI (Pin 2):  High Side Clamp VoltageThe voltage applied 
to the CLHI pin deﬁ  nes the upper voltage limit of the OUT+ 
and OUT– pinsThis voltage should be set at least 300mV 
above the upper voltage range of the driven ADCOn a 3.3V supply, the CLHI pin will ﬂ  oat to a 2.23V default voltage
On a 3.6V supply, the CLHI pin will ﬂ  oat to a 2.45V default 
voltageCLHI has a Thevenin equivalent of approximately 4.1kΩ and can be overdriven by an external voltageThe CLHI pin should be bypassed with a high-quality ceramic bypass capacitor of at least 0.1μF IN
+,IN– (Pins 3, 4):  Non-inverting and inverting input pins 
of the buffer , respectivelyThese pins are high impedance, approximately 6kΩIf AC-coupled, these pins will self bias to the voltage present at the V
CM pinCLLO (Pin 5):  Low Side Clamp VoltageThe voltage ap-
plied to the CLLO pin deﬁ  nes the lower voltage limit of 
the OUT+ and OUT– pinsThis voltage should be set at 
least 300mV below the lower voltage range of the driven ADCOn a 3.3V supply, the CLLO pin will ﬂ  oat to a 0.25V default voltageOn a 3.6V supply, the CLLO pin will ﬂ  oat to a 0.265V default voltageCLLO has a Thevenin equivalent resistance of approximately 2.3k and can be overdriven by an external voltageThe CLLO pin should be bypassed with a high quality ceramic bypass capacitor of at least 0.1μF GND (Pins 6, 9, 11):  Negative power supply, normally 
tied to groundBoth pins and the exposed paddle must be tied to the same voltageGND may be tied to a voltage other than ground as long as the voltage between V
+ and 
GND is 2.7V to 4V If the GND pins are not tied to ground, bypass them with 680pF and 0.1μF capacitors as close to the package as possibleOUT
–, OUT+ (Pins 7, 8):  OutputsThe L TC6416 outputs 
are low impedanceEach output has an output impedance of approximately 9Ω at DCV
+ (Pin 10):  Positive Power SupplyTypically 3.3V to 3.6V 
Split supplies are possible as long as the voltage between V
+ and GND is 2.7V to 4V Bypass capacitors of 680pF 
and 0.1μF as close to the part as possible should be used between the suppliesExposed Pad (Pin 11):  GroundThe exposed pad must 
be soldered to the printed circuit board ground plane for good heat transfer If GND is a voltage other than ground, 
the Exposed Pad must be connected to a plane with the same potential as the GND pins – Not to the system ground plane DC TEST CIRCUIT SCHEMATIC
81
2
3
45
69117C
LOADV+V+
10
OUT–
6416 DCOUT+ OUT–
OUT+RLOADVCM VCM
IN+IN+CLHI CLHI
CLLO CLLOIN–IN–L TC6416VINDIFF = IN+– IN–
IN++ IN–
2VINCM =VOUTDIFF = OUT+– OUT–
OUT++ OUT–
2VOUTCM =
LTC6416
126416f BLOCK DIAGRAM
R3
6kI1 I11 I13
R4
13kR513.5k
x1V
CM
CLHI
IN+
IN–
CLLO
R6
2.5kQ3
Q1
Q13
Q11
I2 I12Q5R1
6k
R116k1
2
3
4
5Q2
Q4
Q12
Q14
R12
9Ω7V+
10
OUT–
GND (6, 9)
6416 BDR2
9Ω8OUT+L TC6416 Simpliﬁ  ed Schematic
LTC6416
136416f APPLICATIONS INFORMATION
Circuit Operation
The L TC6416 is a low noise and low distortion fully dif-
ferential unity-gain ADC driver with operation from DC to 2GHz (–3dB bandwidth), a differential input impedance of 12kΩ, and a differential output impedance of 18ΩThe L TC6416 is composed of a fully differential buffer with output common mode voltage control circuitry and high speed voltage-limiting clamps at the outputSmall output resistors of 9Ω improve the circuit stability over various load conditionsThey also simplify possible external ﬁ  lter-
ing options, which are often desirable when the load is an ADCLowpass or bandpass ﬁ  lters are easily implemented 
with just a few external componentsThe L TC6416 is very ﬂ  exible in terms of I/O couplingIt can be AC- or DC-coupled at the inputs, the outputs or bothWhen using the L TC6416 with DC-coupled inputs, best performance is obtained with an input common mode voltage between 1V and 1.5V For AC-coupled operation, the L TC6416 will take the voltage applied to the V
CM pin and use it to bias the 
inputs so that the output common mode voltage equals V
CM, thus no external circuitry is neededThe V CM pin 
has been designed to directly interface with the V CM pin 
found on Linear Technology’s 16-, 14- and 12-bit high speed ADC familiesInput Impedance and Matching
The L TC6416 has a high differential input impedance of 
12kΩThe differential inputs may need to be terminated to a lower value impedance, e.g50Ω, in order to provide an impedance match for the sourceFigure 1 shows input matching using a 1:1 balun, while Figure 2 shows match-
ing using a 1:4 balunThese circuits provide a wideband impedance matchThe balun and matching resistors must be placed close to the input pins in order to minimize the rejection due to input mismatchIn Figure 1, the capaci-tor center-tapping the two 24.9Ω resistors improves high frequency common mode rejectionAs an alternative to this wideband approach, a narrowband impedance match can be used at the inputs of the L TC6416 for frequency selection and/or noise reductionThe noise performance of the L TC6416 also depends upon 
the source impedance and terminationFor example, the input 1:4 balun in Figure 2 improves SNR by adding 6dB of voltage gain at the inputsA trade-off between gain and noise is obvious when constant noise ﬁ  gure circle and constant gain circle are plotted within the same input Smith ChartThis technique can be used to determine the optimal source impedance for a given gain and noise requirementOutput Match and Filter
The L TC6416 provides a source resistance of 9Ω at each 
outputFor testing purposes, Figure 3 and Figure 4 show the L TC6416 driving a differential 400Ω load impedance using a 1:1 or 1:4 balun, respectivelyThe L TC6416 can drive an ADC directly without external 
output impedance matching, but improved performance can usually be obtained with the addition of a few external componentsFigure 5 shows a typical topology used for driving the L TC2208 16-bit ADCFigure 1Input Termination for Differential 50Ω Input Impedance Using a 1:1 Balun

VININ+
IN–3
424.9Ω 0.1μF
50Ω
24.9Ω
OUT–
6416 F01OUT+
78
L TC6416
0.1μF0.1μF
1:1
+–
LTC6416
146416f
165Ω0.1μF
0.1μF 1:1
0.1μFIN+
IN–3
4OUT–
6416 F03OUT+
78
L TC641650Ω
165Ω

VININ+
IN–3
4100Ω
100Ω50Ω
OUT–
6416 F02OUT+
78
L TC6416
0.1μF0.1μF
1:4
+–0.1μF APPLICATIONS INFORMATION
Figure 2Input Termination for Differential 50Ω Input Impedance Using a 1:4 Balun
Figure 3Output Termination for Differential 400Ω Load Impedance Using a 1:1 Balun
Figure 4Output Termination for Differential 400Ω Load Impedance Using a 4:1 Balun90.9Ω0.1μF
0.1μF 4:1
0.1μFIN+
IN–3
4OUT–
6416 F04OUT+
78
L TC641650Ω
90.9Ω
Figure 5DC1257B Simpliﬁ  ed Schematic with Suggested Output Termination for Driving an L TC2208 16-Bit ADC at 140MHzV+
VCM
OUT–
6416 F05OUT+3.6V
2.2μF
IN+CLHI
CLLOIN–L TC6416 1pF
1.5pF1.5pF3.3V
CLOCK
(130MHz)DATA16VCM
L TC2208AIN+
AIN–25Ω
25ΩGNDGNDR36
100Ω
R15
100Ω0.1μF
C39
0.01μF3
2
1 64
50Ω680pF
T1
TCM4-19+
+–
LTC6416
156416f APPLICATIONS INFORMATION
As seen in Table 1, suggested component values for the 
ﬁ  lter will change for d
iffering IF frequenciesTable 1INPUT
FREQUENCYL TC6416 OUTPUT 
RESISTORSFIL TERING 
CAPACITORS
30MHz 50Ω 5.6pF/6.8pF/5.6pF
70MHz 25Ω 5.6pF/6.8pF/5.6pF
140MHz 25Ω 1.5pF/1pF/1.5pF250MHz 5Ω -/-/-
Output Common Mode Adjustment
The output common mode voltage is set by the V CM pin
Because the input common mode voltage is approximately the same as the output common mode voltage, both are approximately equal to V
CMThe V CM pin has a Thevenin 
equivalent resistance of 3.8k and can be overdriven by an external voltageThe V
CM pin ﬂ  oats to a default voltage of 
1.25V on a 3.3V supply and 1.36V on a 3.6V supplyThe output common mode voltage is capable of tracking V
CM 
in a range from 0.34V to 2.16V on a 3.3V supplyThe V CM 
pin can be ﬂ  oated, but it should always be bypassed close 
to the L TC6416 with a 0.1μF bypass capacitor to groundWhen interfacing with A/D converters such as the L TC22xx families, the V
CM pin can be connected to the V CM output 
pin of the ADC, as shown in Figure 5CLLO and CLHI Pins
The CLLO and CLHI pins are used to set the clamping 
voltage for high speed internal circuitryThis circuitry limits the single-ended minimum and maximum voltage excursion seen at each of the outputsThis feature is extremely important in applications with input signals having very large peak-to-average ratios such as cellular basestation receiversIf a very large peak signal arrives at the L TC6416, the voltages applied to the CLLO and CLHI pins will determine the minimum and maximum output swing respectivelyOnce the input signal returns to the normal operating range, the L TC6416 returns to linear operation within 5nsBoth CLLO and CLHI are high impedance inputsCLLO has an input impedance of 2.3k, while CLHI has an input impedance of 4.1kOn a 3.3V supply, CLLO self-biases to 0.25V while CLHI self-biases to 2.23V On a 3.6V supply, CLLO self-biases to 0.265V 
while CLHI self-biases to 2.45V Both CLLO and CLHI pins should be bypassed with a 0.1μF capacitor as close to the L TC6416 as possibleInterfacing the L TC6416 to A/D Converters
The L TC6416 has been speciﬁ  cally designed to interface 
directly with high speed A/D convertersIt is possible to drive the ADC directly from the L TC6416In practice, however , better performance may be obtained by adding a few external components at the output of the L TC6416Figure 5 shows the L TC6416 being driven by a 1:8 trans-former which provides 9dB of voltage gain while also performing a single-ended to differential conversionThe differential outputs of the L TC6416 are lowpass ﬁ  ltered, 
then drive the differential inputs of the L TC2208 ADCIn many applications, an anti-alias ﬁ  lter like this is desir-
able to limit the wideband noise of the ampliﬁ  er This is 
especially true in high performance 16-bit designsThe minimum recommended network between the L TC6416 and the ADC is simply two 5Ω series resistors, which are used to help eliminate resonances associated with the stray capacitance of PCB traces and the stray inductance of the internal bond wires at the ADC input, and the driver output pinsSingle-Ended Signals
The L TC6416 has not been designed to convert single-
ended signals to differential signalsA single-ended input signal can be converted to a differential signal via a balun connected to the inputs of the L TC6416Power Supply Considerations
For best linearity, the L TC6416 should have a positive 
supply of V
+ = 3.6V The L TC6416 has an internal edge-trig-
gered supply voltage clampThe timing mechanism of the clamp enables the L TC6416 to withstand ESD eventsThis internal clamp is also activated by voltage overshoot and rapid slew rate on the positive supply V
+ pinThe L TC6416 
should not be hot-plugged into a powered socketBypass capacitors of 680pF and 0.1μF should be placed to the V
+ 
pin, as close as possible to the L TC6416.
LTC6416
166416f APPLICATIONS INFORMATION
Test Circuits
Due to the fully differential design of the L TC6416 and its 
usefulness in applications both with and without ADCs, two test circuits are used to generate the information in this data sheetTest circuit A is Demo Board DC1287A, a two-port demonstration circuit for the L TC6416The board layout and the schematic are shown in Figures 6 and 7This circuit includes input and output 1:1 baluns for single-ended-to-differential conversion, allowing direct analysis using a 2-port network analyzer In this circuit implementation, there are series resistors at the output to present the L TC6416 with a 382Ω differential 
load, thereby optimizing distortion performanceIncluding the 1:1 input and output baluns, the –3dB bandwidth is approximately 2GHzTest circuit B is Demo Circuit DC1257BIt consists of an 
L TC6416 driving an L TC2208 ADCIt is intended for use in conjunction with demo circuit DC890B (computer interface board) and proprietary Linear Technology evaluation soft-ware to evaluate the performance of both parts together Both the DC1257B board layout and the schematic can be seen in Figures 8 and 9Figure 6Demo Board DC1287A Layout
Figure 7Demo Board DC1287A Schematic (Test Circuit A)J1
IN+
J2
IN–J3OUT+
J4OUT–
CLLO
C130.1μFVCMVCMV+
2.7V TO 4V
GND
CLHI
CLLO1
5GNDGND
6416 TA04CLHI2
IN+ 3
IN– 4GND9
OUT+8
OUT–7V+
6
1110
L TC6416
GNDR4
0Ω
R5
0ΩR1
165Ω
R3
165ΩC7
0.1μFT1
MABA-007190-000000T2
MABA-007190-000000
C10
OPTC10.1μFC2
680pF C30.1μF
C8OPT
C120.1μFC5
0.1μF
C9
OPTC6
OPT
C11
0.1μFC40.1μF
R2
24.9Ω
R6
24.9Ω
C150.1μFC14
0.1μF251
43
234
15

LTC6416
176416f APPLICATIONS INFORMATION
Figure 8Demo Board DC1257B Layout
LTC6416
186416fL TC2208CUPSENSE
GNDV
CM
GNDV
DD
VDD
GNDA
IN+
AIN−
GND
GNDENC+
ENC−
GND
V
DD
VDDVCMDA6DA5DA4DA3DA2DA1DA0
CLKCOUTA
CLKCOUTB
OFB
DB15DB14DB13DB12DB11DB101
23456789
1011121314151648
474645444342414039383736353433PGA
RAND
MODE
LVDS
OFA
DA15DA14
 DA13
DA12DA11DA10
DA9DA8DA7
OGND
OV
DD1718192021222324252627272930313264
636261605958575655545352515049V
DD
GND
SHDNDITHDB0DB1DB2DB3DB4DB5DB6DB7DB8DB9OGNDOV
DD
GNDC22
1pFR13
24.9Ω
R15
24.9Ω
C241.5pFC201.5pFC16
2.2μFC14
0.1μF
C17
680pF
65R7, 100ΩR6
OPTR5
OPT31OFFVDD VDDJP2
RAND
R2
10ΩR3
10ΩJP1
PGA
2
R4
1k
31LOW
E7EXTREFHI
2
E2CLHI
E3CLLOVDD
VDD
OVP
OVPC12
0.1μF
C11
0.1μF
6416 F09R28
4.99kR25
4.99k
C31
0.1μFR24
4.99k
R29
OPTR27
2k24LC025
8
7
6
51
2
3
4VCC
WP
SCL
SDAA0
A1A2VSS31ON
OFFSHDN
ENJP3
SHDN ADCJP4
DITH
2
312VDDC10
0.1μF
C90.1μFC80.1μF

C300.1μF3
2
14
5R19
51.1Ω
R26
51.1ΩC28
0.1μFT2
MABA-007159-000000
R21100ΩCLK
J4
C29
0.1μF
GNDVS
3.6V TO 20V3
21L T1963AEST-3.3
GNDE5 E4
E6OPT IN OUT
C32
10μF25VC33
10μF
6.3VL1(opt.)
BLM18PG221SN1D
L2
BLM18PG221SN1D
L3
BLM18PG221SN1DVS
VDDVCC
OVPL TC6416CDDBVCCVCC
C26
0.1μFTCM4−19+T1
C25
0.1μF
C27
0.1μFC130.1μF
C21
OPTJ2
J3R14A
100Ω
R14B
100ΩV+
GND
OUT+
OUT−
GNDVCM
CLHI
IN+
IN−
CLLOGNDC19
0.1μF
C23
OPTR8OPT
R10
OPT
VCC
C180.1μF
11
23
4
510
98
7
6
1124
5
3R11
OPT
R12
OPT
VCC
R17
OPT
R18
OPTR9
1kE1VCM
2
46
8
1012
14
1618
20
2224
26
2830
32
3436
38
4042
44
4648
50
52541
35
7
911
13
1517
19
2123
25
2729
31
3335
37
3941
43
4547
49
5153
5658
60
6264
66
6870
72
7476
78
8082
84
8688
90
9294
96
98
10055
57
59
6163
65
6769
71
7375
77
7981
83
8587
89
9193
95
9799
R165.1kJ1
EDGE-CON
(GOLD FINGER)
OVP
Figure 9Demo Board DC1257B Schematic (Test Circuit B) APPLICATIONS INFORMATION
LTC6416
196416f
Information furnished by Linear Technology Corporation is believed to be accurate and reliable
However , no responsibility is assumed for its useLinear Technology Corporation makes no representa-
tion that the interconnection of its circuits as described herein will not infringe on existing patent rightsPACKAGE DESCRIPTION
2.00 ±0.10
(2 SIDES)
NOTE:
1DRAWING CONFORMS TO VERSION (WECD-1) IN JEDEC PACKAGE OUTLINE M0-229 2DRAWING NOT TO SCALE 3ALL DIMENSIONS ARE IN MILLIMETERS4DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE     MOLD FLASHMOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.15mm ON ANY SIDE5EXPOSED PAD SHALL BE SOLDER PLATED6SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION ON THE TOP AND BOTTOM OF PACKAGE0.40 ± 0.10
BOTTOM VIEW—EXPOSED PAD0.6
4 ± 0.05
(2 SIDES)
0.75 ±0.05R = 0.115
TYP R = 0.05
TYP
2.39 ±0.05
(2 SIDES)3.00 ±0.10
(2 SIDES)
1 510 6
PIN 1 BAR
TOP MARK
(SEE NOTE 6)
0.200 REF
0 – 0.05(DDB10) DFN 0905 REV Ø
0.25 ± 0.05
2.39 ±0.05
(2 SIDES)
RECOMMENDED SOLDER PAD PITCH AND DIMENSIONS0.64 ±0.05
(2 SIDES)
1.15 ±0.050.70 ±0.05
2.55 ±0.05
PACKAGE
OUTLINE
0.25 ± 0.05
0.50 BSCPIN 1
R = 0.20 OR0.25 × 45 °
CHAMFER
0.50 BSCDDB Package
10-Lead Plastic DFN (3mm × 2mm)
(Reference L TC DWG # 05-08-1722 Rev Ø)
LTC6416
206416f
Linear Technology  Corporation
1630 McCarthy Blvd., Milpitas, CA 95035-7417  
(408) 432-1900  FAX: (408) 434-0507    www.linear .com © LINEAR TECHNOLOGY CORPORATION 2008LT 1108  PRINTED IN USA RELATED PARTS TYPICAL APPLICATION
PART NUMBER DESCRIPTION COMMENTS
Fixed Gain IF Ampliﬁ  ers/ADC DriversL T1993-2/L T1993-4/
L T1993-10800MHz Differential Ampliﬁ  er/ADC Drivers –72dBc IM3 at 70MHz 2V
P-P Composite, A V = 2V/V , 4V/V , 10V/V
L TC6400-8/L TC6400-14/
L TC6400-20/L TC6400-261.8GHz Low Noise, Low Distortion Differential 
ADC Drivers–71dBc IM3 at 240MHz 2V P-P Composite, I S = 90mA, AV = 8dB, 
14dB, 20dB, 26dB 
L TC6401-8/L TC6401-14/
L TC6401-20/L TC6401-261.3GHz Low Noise, Low Distortion Differential 
ADC Drivers–74dBc IM3 at 140MHz 2V P-P Composite, I S = 50mA,  AV = 8dB, 
14dB, 20dB, 26dB
L T6402-6/L T6402-12/
L T6402-20300MHz Differential Ampliﬁ  er/ADC Drivers –71dBc IM3 at 20MHz 2V P-P Composite, A V = 6dB, 12dB, 20dB
L TC6420-XX Dual 1.8GHz Low Noise, Low Distortion Differential 
ADC DriversDual Version of the L TC6400-XX, A V = 8dB, 14dB, 20dB, 26dB
L TC6421-XX Dual 1.3GHz Low Noise, Low Distortion Differential 
ADC DriversDual Version of the L TC6401-XX, A V = 8dB, 14dB, 20dB, 26dB 
IF Ampliﬁ  ers/ADC Drivers with Digitally Controlled Gain
L T5514 Ultra-Low Distortion IF Ampliﬁ  er/ADC Driver with 
Digitally Controlled GainOIP3 = 47dBm at 100MHz, Gain Range 10.5dB to 33dB 1.5dB steps
L T5524 Low Distortion IF Ampliﬁ  er/ADC Driver with Digitally 
Controlled GainOIP3 = 40dBm at 100MHz, Gain Range 4.5dB to 37dB 1.5dB steps
L T5554 High Dynamic Range 7-bit Digitally Controlled IF 
VGA/ADC DriverOIP3 = 46dBm at 200MHz, Gain Range 1.725 to 17.6dB 0.125dB 
steps
Baseband Differential Ampliﬁ  ers
L T1994 Low Noise, Low Distortion Differential Ampliﬁ  er/
ADC Driver16-Bit SNR and SFDR at 1MHz, Rail-to-Rail Outputs
L TC6403-1 Low Noise Rail-to-Rail Output Differential Ampliﬁ  er/
ADC Driver16-Bit SNR and SFDR at 3MHz, Rail-to-Rail Outputs, e N = 2.8nV/√ Hz
L TC6404-1/L TC6404-2 Low Noise Rail-to-Rail Output Differential Ampliﬁ  er/
ADC Driver16-Bit SNR and SFDR at 10MHz, Rail-to-Rail Outputs, e N = 1.5nV/
√Hz, L TC6404-1 is unity-gain stable, L TC6404-2 is Gain-of-2 Stable
L TC6406 3GHz Rail-to-Rail Input Differential Ampliﬁ  er/
ADC Driver–65dBc IM3 at 50MHz 2V P-P Composite, Rail-to-Rail Inputs, 
eN = 1.6nV/√ Hz, 18mA
L T6411 Low Power Differential ADC Driver/Dual Selectable 
Gain Ampliﬁ  er–83dBc IM3 at 70MHz 2V P-P Composite, A V = 1, –1 or 2, 16mA, 
Excellent for Single-Ended to Differential ConversionDC1257B Simpliﬁ  ed Schematic with Suggested Output Termination for Driving an L TC2208 16-Bit ADC at 140MHz
V+
VCM
OUT–
6416 F05OUT+3.6V
2.2μF
IN+CLHI
CLLOIN–L TC6416 1pF
1.5pF1.5pF3.3V
CLOCK
(130MHz)DATA16VCM
L TC2208AIN+
AIN–25Ω
25ΩGNDGNDR36
100Ω
R15
100Ω0.1μF
C39
0.01μF3
2
1 64
50Ω680pF
T1
TCM4-19+
+–

